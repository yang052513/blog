<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Yang's Blog - Be passionated about what you are doing</title><meta name="description"><meta name="author" content="Yang Li"><meta name="copyright" content="Yang Li"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/yang-favicon.png"><link rel="canonical" href="https://yangblog.netlify.app/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="website"><meta property="og:title" content="Yang's Blog"><meta property="og:url" content="https://yangblog.netlify.app/"><meta property="og:site_name" content="Yang's Blog"><meta property="og:description"><meta property="og:image" content="https://yangblog.netlify.app/img/yang.jpg"><meta property="article:published_time" content="2020-07-21T03:58:22.380Z"><meta property="article:modified_time" content="2020-07-21T03:58:22.380Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: Yang Li","link":"链接: ","source":"来源: Yang's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isSidebar: false
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/yang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">29</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">54</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 番剧</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/banner.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Yang's Blog</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 番剧</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site_title">Yang's Blog</h1><div id="site_subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://yangliweb.web.app/" target="_blank" title="Personal Website"><i class="fas fa-desktop"></i></a><a class="social-icon" href="https://github.com/yang052513" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:liyang0525.ly@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.instagram.com/yang05_li/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></div></div><div id="scroll_down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/15/29-react-component-lifecycle/" title="Axios与Fetch的对比">     <img class="post_bg" data-src="https://firebasestorage.googleapis.com/v0/b/yangliweb.appspot.com/o/zRP0GYN.jpg?alt=media&amp;token=311eee9f-6def-4660-a603-e91ea99bf7a2" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Axios与Fetch的对比"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/15/29-react-component-lifecycle/" title="Axios与Fetch的对比">Axios与Fetch的对比</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-15 22:37:54"><i class="far fa-calendar-alt"></i>2020-07-15</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Articles/">Articles</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/javascript/">javascript</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/API/">API</a></span></div><div class="content">fetch()基本的语法为const promise = fetch(url, [options])
url是我们进行请求的路径，option即我们进行请求时可设置的 request header。
基本的 fetch()12345678fetch('api/users')  .then(response =&gt; response.json())  .then(data =&gt; &#123;    console.log(data)  &#125;)  .catch(error =&gt; &#123;    console.log(`error while fetching $&#123;error&#125;`)  &#125;)

利用 Async Await1234567891011121314options = &#123;  method: 'POST',  mode: 'cors',  headers: &#123; 'Content-Type': 'application/json' &#125;,  body: JSON.stringify(data),&#1 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/11/28-react-mern/" title="React MERN Stack 配置">     <img class="post_bg" data-src="https://miro.medium.com/proxy/1*FVtCyRdJ6KOr4YswTtwMeA.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="React MERN Stack 配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/11/28-react-mern/" title="React MERN Stack 配置">React MERN Stack 配置</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-11 13:28:05"><i class="far fa-calendar-alt"></i>2020-07-11</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Notes/">Notes</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/react/">react</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/node/">node</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/mongoDB/">mongoDB</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/MERN/">MERN</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/express/">express</a></span></div><div class="content">
MERN stack 配置 boilerplate

项目创建创建一个新的项目文件夹并创建server.js文件，也是服务器启动的入口。
然后在项目根目录下创建client文件夹并创建 react-app
12cd clientnpx create-react-app

后端 server.js连接 MongoDB Atlas，创建后端路由，数据库模板。
安装相关依赖执行以下命令创建package.json以及安装相关依赖. mongoose和express可以搭建服务器来连接 MongoDB 数据库。axios之后用来 fetch 数据库的 documents. concurrently可以在命令行中同时运行多个命令。dotenv用来管理 MognoDB 的 URI
12npm init -ynpm install mongoose express axios morgan concurrently dotenv cors -S

.env首先在项目根目录内创建.env, 复制 MongoDB Atlas Connect 内的连接如下。替换&lt;password&gt;和&lt; ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/11/27-vim/" title="Vim 解放你的双手">     <img class="post_bg" data-src="https://firebasestorage.googleapis.com/v0/b/yangliweb.appspot.com/o/vim-banner.png?alt=media&amp;token=9a867eb9-e03f-4ee3-a6c8-bef084fe28b8" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim 解放你的双手"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/11/27-vim/" title="Vim 解放你的双手">Vim 解放你的双手</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-11 12:28:05"><i class="far fa-calendar-alt"></i>2020-07-11</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Notes/">Notes</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/notes/">notes</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/editor/">editor</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/08/26-python-mongodb/" title="Python 将数据存储到MongoDB">     <img class="post_bg" data-src="https://i.pcmag.com/imagery/reviews/02Q6yxveinggAu3PomearaV-7.fit_scale.size_1028x578.v_1569481734.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 将数据存储到MongoDB"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/08/26-python-mongodb/" title="Python 将数据存储到MongoDB">Python 将数据存储到MongoDB</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-08 23:51:55"><i class="far fa-calendar-alt"></i>2020-07-08</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Articles/">Articles</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/database/">database</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/mongoDB/">mongoDB</a></span></div><div class="content">
之前写的爬虫都是保存在本地的 JSON 文件在前端调用，但现在每次运行一次脚本替换以前的 JSON 文件不够灵活。于是来学习一下 MongoDB 数据库，来如何把 Python 爬到的数据存储到 Mongo 云端 Atlas。

安装 Setup1pip install pymongo

连接 Mongo 数据库 Connection把&lt;password&gt;和&lt;dbname&gt;替换成相对应的 admin 密码和数据库名称。
1234import pymongofrom pymongo import MongoClientcluster = MongoClient("mongodb+srv://yang_admin:&lt;password&gt;@cluster0-uo1ne.gcp.mongodb.net/&lt;dbname&gt;?retryWrites=true&amp;w=majority")

如果运行出现 connectional 问题时，安装以下库可以解决该问题。
12pip install dnspythonpython3 -m pip inst ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/06/25-create-your-first-blog/" title="用Hexo开启你的博客写作之旅">     <img class="post_bg" data-src="https://firebasestorage.googleapis.com/v0/b/yangliweb.appspot.com/o/1_aOv6h3h_v9PQWa03zGACnw.png?alt=media&amp;token=bf892997-8e6f-4ccd-a4b3-652c79b90f0d" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="用Hexo开启你的博客写作之旅"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/06/25-create-your-first-blog/" title="用Hexo开启你的博客写作之旅">用Hexo开启你的博客写作之旅</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-06 01:01:59"><i class="far fa-calendar-alt"></i>2020-07-06</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Articles/">Articles</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/articles/">articles</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/hexo/">hexo</a></span></div><div class="content">
引用官方的话，Hexo 定义为快速、简洁且高效的博客框架, 让用户更注重在写作上。本文介绍如何快速搭建一个 Hexo 的静态博客以及主题推荐设置。

安装 Hexo CLI在终端中输入以下指令全局安装hexo CLI。安装成功后可以输入hexo -v来看版本号
1npm install hexo-cli -g

创建博客项目在想要保存项目的目录文件夹内输入hexo init来创建项目。
12cd myfolderhexo init myblog

这样我们就成功创建了 myblog 的博客项目。然后运行下面的命令就可以在端口 4000 访问了。
123cd myblognpm installhexo server

开始第一篇写作在项目目录内，我们只需要在终端输入hexo new post postname即可创建一个新的 post。语法为 markdown。
主题设置我的博客是用的hexo-theme-butterfly, 之前也是换过各种主题比如一开始的 Next, matery, fluid, melody 等。还要看个人喜欢。
主题设置的方式都是一样的，假设我们现在想更换默认 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/05/24-my-sass-mixin/" title="常用的Sass Mixin方法汇总">     <img class="post_bg" data-src="https://www.kindpng.com/picc/m/396-3964794_yuru-yuri-akari-transparent-hd-png-download.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常用的Sass Mixin方法汇总"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/05/24-my-sass-mixin/" title="常用的Sass Mixin方法汇总">常用的Sass Mixin方法汇总</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-05 23:43:05"><i class="far fa-calendar-alt"></i>2020-07-05</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Articles/">Articles</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/css/">css</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/sass/">sass</a></span></div><div class="content">
最近把自己常用的 UI 组件打包到了 NPM，现在用起来真的太方便。不过有些时候还是要抄自己之前写的 CSS…比如按钮的通用样式之类的，或者位置定位。手写太麻烦了啊，于是准备把我平常常用的 Mixin 放在这，用的时候可以直接抄。(笑)


</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/04/23-styled-components/" title="Styled Components 在JS里写CSS?">     <img class="post_bg" data-src="https://miro.medium.com/max/2800/1*6E-EG6HczqSSsEQFgFlG-A.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Styled Components 在JS里写CSS?"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/04/23-styled-components/" title="Styled Components 在JS里写CSS?">Styled Components 在JS里写CSS?</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-04 23:53:29"><i class="far fa-calendar-alt"></i>2020-07-04</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Notes/">Notes</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/react/">react</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/css/">css</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/notes/">notes</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/styled-components/">styled-components</a></span></div><div class="content">
在做 UI package 的时候发现Styled Components好用啊，可以绑定 props 基本 SCSS 支持的方法都支持。本来只是想着了解一下的目的。结果发现做组件打包还挺好用的。可是如何跨组件分享样式呢？SCSS 和 Less 中都有 mixin 方法可以直接调用 method，但 styled-components 是要先声明渲染的元素类型然后给样式化。styled-component 解决了组件间的分享样式但总体的重复利用度还是问题。再比如一些比较复杂的样式化也会让 debug 比较困难。

安装 Styled Componets 库1npm install styled-components --save

如果项目用的是 typescript
1npm install @types/styled-components --save

样式化一个组件styled.div 即我们要渲染一个div元素的组件，在``声明 CSS 样式。
12345678910import styled from 'styled-components'export const App  ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/02/22-what-i-learn-summer/" title="在疫情中度过的暑假">     <img class="post_bg" data-src="https://wallpaperaccess.com/full/510846.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在疫情中度过的暑假"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/02/22-what-i-learn-summer/" title="在疫情中度过的暑假">在疫情中度过的暑假</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-02 22:22:58"><i class="far fa-calendar-alt"></i>2020-07-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/reflection/">reflection</a></span></div><div class="content">
So it’s almost been 5 months since the quarantine started, and my school closed since then. Some people might compliant about the lock down cause we cant hangout or whatever reasons. I am also kind worried because no gym means no gains, and I cant code with my friends. However, it turns out pretty well, I found out my learning philosophy, and actually, learning or training alone is kind better for me.

In April, I bought some lifting equipments from Rougue. I thought I am well ahead compared to ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/01/21-python-fillder/" title="如何用Fiddler下载抖音视频??">     <img class="post_bg" data-src="https://pic3.zhimg.com/v2-f7dd822655d8a76787389148658e4c41_1440w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何用Fiddler下载抖音视频??"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/01/21-python-fillder/" title="如何用Fiddler下载抖音视频??">如何用Fiddler下载抖音视频??</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-01 23:57:13"><i class="far fa-calendar-alt"></i>2020-07-01</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Python%E7%88%AC%E8%99%AB/">Python爬虫</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/web-crawler/">web crawler</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/python-crawler-series/">python-crawler-series</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/article/">article</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/fiddler/">fiddler</a></span></div><div class="content">
具体的思路就是先把 Fiddler 和手机设备在同一 WIFI 下，然后配置网络代理。之后用 Fiddler 保存手机所有 response 的包到本地，有了视频列表的数据包用 python 下载就比较简单了。所以重点在于分析 HTTPS 流量，要找到视频是储存在哪里。下载的脚本可以到我的 repo查看。

环境
Windows 10 system
Python 3.8
IOS device (我用的是 IOS12, 具体型号不同请求头也会不同)
Fiddler

Fiddler 的配置安装 Fiddler如果你没有安装过 Fiddler, 你可以去Fiddler 官方网站下载 windows 版的最新版本，下载完成后一直点击安装就好。
设置 Fiddler安装完 Fiddler 后，以管理员身份运行 Fiddler。然后在顶部菜单栏找到 Tools -&gt; Options。在Option面板中点击HTTPS，然后如下配置。其实就是用来抓取 HTTPS 协议的 traffic。不然 request 是抓不到的。


然后我们在Option面板中切换到Connections。配置如 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/01/20-python-selenium/" title="Python爬虫之Selenium模拟浏览器操作">     <img class="post_bg" data-src="https://miro.medium.com/proxy/1*HJpcblBvD8MpqAEZZXWVgg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python爬虫之Selenium模拟浏览器操作"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/01/20-python-selenium/" title="Python爬虫之Selenium模拟浏览器操作">Python爬虫之Selenium模拟浏览器操作</a><div class="article-meta-wrap"><time class="post-meta__date" title="发表于 2020-07-01 00:06:11"><i class="far fa-calendar-alt"></i>2020-07-01</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Python%E7%88%AC%E8%99%AB/">Python爬虫</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/notes/">notes</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/web-crawler/">web crawler</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/python-crawler-series/">python-crawler-series</a></span></div><div class="content">Selenium
在之前静态网站的爬取中，request 库和 bs4 已经可以满足大多数需求。但有的时候我们想要爬取的站点时用 js 来动态加载的，比如有的要把页面拉到最下方才可以加载。那这时候我们可以利用 selenium 来模拟浏览器行为进行页面的爬取。不过 Selenium 的速度还是不行，毕竟要启动浏览器，加载头部图片等等。之后会学习别的技术来替代。按照官方的定义，selenium 是用来自动化测试，即我们也可以用来执行一些列任务。

设置安装 Selenium1pip install selenium

下载浏览器驱动Selenium 比较麻烦的地方就是配置驱动。我们安装selenium库后，还必须要驱动下载并设置为环境变量才可以在脚本中正确启动。Selenium 支持的浏览器驱动也比较全，包括的有 Firefox, Chrome, IE, Edge, Opera。需要注意的是驱动的版本要匹配你浏览器的版本，不然也会出问题。
下载完驱动后，我是把驱动直接放在 python 安装目录下，因为 python 已经设置了环境变量，所以就不需要单独设置浏览器驱动的环境变量路径了。
 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/yang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Yang Li</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives"><div class="headline">文章</div><div class="length_num">29</div></a></div><div class="card-info-data-item is-center">      <a href="/tags"><div class="headline">标签</div><div class="length_num">54</div></a></div><div class="card-info-data-item is-center">     <a href="/categories"><div class="headline">分类</div><div class="length_num">4</div></a></div></div><div class="card-info-bookmark is-center"><button class="button--animated" id="bookmark-it" title="加入书签"><i class="fas fa-bookmark"></i><span>加入书签</span></button></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://yangliweb.web.app/" target="_blank" title="Personal Website"><i class="fas fa-desktop"></i></a><a class="social-icon" href="https://github.com/yang052513" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:liyang0525.ly@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.instagram.com/yang05_li/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">万物皆可萌。</div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-recent-item"><div class="aside-recent-post"><a href="/2020/07/15/29-react-component-lifecycle/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://firebasestorage.googleapis.com/v0/b/yangliweb.appspot.com/o/zRP0GYN.jpg?alt=media&amp;token=311eee9f-6def-4660-a603-e91ea99bf7a2" onerror="this.onerror=null;this.src='/img/404.jpg'" title="Axios与Fetch的对比" alt="Axios与Fetch的对比"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2020/07/15/29-react-component-lifecycle/" title="Axios与Fetch的对比">Axios与Fetch的对比</div><time class="aside-post_meta post-meta__date" title="发表于 2020-07-15 22:37:54">2020-07-15</time></div></a></div><div class="aside-recent-post"><a href="/2020/07/11/28-react-mern/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://miro.medium.com/proxy/1*FVtCyRdJ6KOr4YswTtwMeA.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="React MERN Stack 配置" alt="React MERN Stack 配置"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2020/07/11/28-react-mern/" title="React MERN Stack 配置">React MERN Stack 配置</div><time class="aside-post_meta post-meta__date" title="发表于 2020-07-11 13:28:05">2020-07-11</time></div></a></div><div class="aside-recent-post"><a href="/2020/07/11/27-vim/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://firebasestorage.googleapis.com/v0/b/yangliweb.appspot.com/o/vim-banner.png?alt=media&amp;token=9a867eb9-e03f-4ee3-a6c8-bef084fe28b8" onerror="this.onerror=null;this.src='/img/404.jpg'" title="Vim 解放你的双手" alt="Vim 解放你的双手"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2020/07/11/27-vim/" title="Vim 解放你的双手">Vim 解放你的双手</div><time class="aside-post_meta post-meta__date" title="发表于 2020-07-11 12:28:05">2020-07-11</time></div></a></div><div class="aside-recent-post"><a href="/2020/07/08/26-python-mongodb/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://i.pcmag.com/imagery/reviews/02Q6yxveinggAu3PomearaV-7.fit_scale.size_1028x578.v_1569481734.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" title="Python 将数据存储到MongoDB" alt="Python 将数据存储到MongoDB"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2020/07/08/26-python-mongodb/" title="Python 将数据存储到MongoDB">Python 将数据存储到MongoDB</div><time class="aside-post_meta post-meta__date" title="发表于 2020-07-08 23:51:55">2020-07-08</time></div></a></div><div class="aside-recent-post"><a href="/2020/07/06/25-create-your-first-blog/"><div class="aside-post-cover"><img class="aside-post-bg" data-src="https://firebasestorage.googleapis.com/v0/b/yangliweb.appspot.com/o/1_aOv6h3h_v9PQWa03zGACnw.png?alt=media&amp;token=bf892997-8e6f-4ccd-a4b3-652c79b90f0d" onerror="this.onerror=null;this.src='/img/404.jpg'" title="用Hexo开启你的博客写作之旅" alt="用Hexo开启你的博客写作之旅"/></div><div class="aside-post-title"><div class="aside-post_title" href="/2020/07/06/25-create-your-first-blog/" title="用Hexo开启你的博客写作之旅">用Hexo开启你的博客写作之旅</div><time class="aside-post_meta post-meta__date" title="发表于 2020-07-06 01:01:59">2020-07-06</time></div></a></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Articles/"><span class="card-category-list-name">Articles</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Notes/"><span class="card-category-list-name">Notes</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python%E7%88%AC%E8%99%AB/"><span class="card-category-list-name">Python爬虫</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">笔记</span><span class="card-category-list-count">11</span></a></li>
                       
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/API/" style="font-size: 16px; color: #999">API</a> <a href="/tags/BCIT/" style="font-size: 16px; color: #999">BCIT</a> <a href="/tags/Big-three/" style="font-size: 16px; color: #999">Big three</a> <a href="/tags/JavaScript/" style="font-size: 16px; color: #999">JavaScript</a> <a href="/tags/MERN/" style="font-size: 16px; color: #999">MERN</a> <a href="/tags/Sass/" style="font-size: 16px; color: #999">Sass</a> <a href="/tags/algorithim/" style="font-size: 16px; color: #999">algorithim</a> <a href="/tags/angular/" style="font-size: 16px; color: #999">angular</a> <a href="/tags/article/" style="font-size: 16px; color: #999">article</a> <a href="/tags/articles/" style="font-size: 17.2px; color: #999ca1">articles</a> <a href="/tags/cloudstorage/" style="font-size: 16px; color: #999">cloudstorage</a> <a href="/tags/css/" style="font-size: 18.4px; color: #999fa8">css</a> <a href="/tags/data-communication/" style="font-size: 16px; color: #999">data communication</a> <a href="/tags/database/" style="font-size: 17.2px; color: #999ca1">database</a> <a href="/tags/documentation/" style="font-size: 16px; color: #999">documentation</a> <a href="/tags/editor/" style="font-size: 16px; color: #999">editor</a> <a href="/tags/es6/" style="font-size: 16px; color: #999">es6</a> <a href="/tags/express/" style="font-size: 16px; color: #999">express</a> <a href="/tags/fiddler/" style="font-size: 16px; color: #999">fiddler</a> <a href="/tags/firebase/" style="font-size: 16px; color: #999">firebase</a> <a href="/tags/firestore/" style="font-size: 16px; color: #999">firestore</a> <a href="/tags/frameword/" style="font-size: 16px; color: #999">frameword</a> <a href="/tags/framework/" style="font-size: 16px; color: #999">framework</a> <a href="/tags/front-end/" style="font-size: 18.4px; color: #999fa8">front-end</a> <a href="/tags/git/" style="font-size: 16px; color: #999">git</a> <a href="/tags/hexo/" style="font-size: 16px; color: #999">hexo</a> <a href="/tags/javascript/" style="font-size: 19.6px; color: #99a3b0">javascript</a> <a href="/tags/learning-everyday/" style="font-size: 16px; color: #999">learning everyday</a> <a href="/tags/mongoDB/" style="font-size: 17.2px; color: #999ca1">mongoDB</a> <a href="/tags/node/" style="font-size: 17.2px; color: #999ca1">node</a> <a href="/tags/note/" style="font-size: 16px; color: #999">note</a> <a href="/tags/notes/" style="font-size: 22px; color: #99a9bf">notes</a> <a href="/tags/npm/" style="font-size: 16px; color: #999">npm</a> <a href="/tags/powerlifting/" style="font-size: 16px; color: #999">powerlifting</a> <a href="/tags/powershell/" style="font-size: 16px; color: #999">powershell</a> <a href="/tags/python/" style="font-size: 19.6px; color: #99a3b0">python</a> <a href="/tags/python-crawler-series/" style="font-size: 18.4px; color: #999fa8">python-crawler-series</a> <a href="/tags/react/" style="font-size: 20.8px; color: #99a6b7">react</a> <a href="/tags/react-hooks/" style="font-size: 16px; color: #999">react-hooks</a> <a href="/tags/react-router/" style="font-size: 16px; color: #999">react-router</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">七月 2020</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/05/"><span class="card-archive-list-date">五月 2020</span><span class="card-archive-list-count">3</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="webinfo-article-name">文章数目 :</div><div class="webinfo-article-count">29</div></div><div class="webinfo-item"><div class="webinfo-runtime-name">已运行时间 :</div><div class="webinfo-runtime-count" id="webinfo-runtime-count" publish_date="05/24/2020">     </div></div><div class="webinfo-item">      <div class="webinfo-site-uv-name">本站访客数 :</div><div class="webinfo-site-uv-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="webinfo-site-name">本站总访问量 :</div><div class="webinfo-site-pv-count" id="busuanzi_value_site_pv"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/banner.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Yang Li</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">( •̀ ω •́ )✧</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="https://cdn.jsdelivr.net/npm/typed.js"></script><script>var subtitleEffect = true
if (subtitleEffect) { 
  var typed = new Typed("#subtitle", {
    strings: "Be passionated about what you are doing,Do what you love, love what you do".split(","),
    startDelay: 300,
    typeSpeed: 150,
    loop: true,
    backSpeed: 50
  })
} else {
  document.getElementById("subtitle").innerHTML = 'Be passionated about what you are doing'
}</script></body></html>