{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/algolia.svg","path":"img/algolia.svg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/icp.png","path":"img/icp.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/loading.gif","path":"img/loading.gif","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/third-party/ClickShowText.js","path":"js/third-party/ClickShowText.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/third-party/activate-power-mode.js","path":"js/third-party/activate-power-mode.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/third-party/canvas-nest.js","path":"js/third-party/canvas-nest.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/third-party/canvas-ribbon.js","path":"js/third-party/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/third-party/click_heart.js","path":"js/third-party/click_heart.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/third-party/fireworks.js","path":"js/third-party/fireworks.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/third-party/piao.js","path":"js/third-party/piao.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/yang-favicon.png","path":"img/yang-favicon.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/yang.jpg","path":"img/yang.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/archive.png","path":"img/archive.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/test.jpg","path":"img/test.jpg","modified":1,"renderable":1}],"Cache":[{"_id":"themes/butterfly/LICENSE","hash":"c372b56b7553dafd2d8a8abf12d0dd71b4e2bfc0","modified":1592634453075},{"_id":"themes/butterfly/README.md","hash":"111662216ce7d1ea63d7072aaea2a612543c19a1","modified":1592634453075},{"_id":"themes/butterfly/README_CN.md","hash":"6c17872d3bbd147a86f53a7de7ee193dfd1a9000","modified":1592634453075},{"_id":"themes/butterfly/_config.yml","hash":"c0e5fb25399d15d1b0ead6bca180fee94e896fd8","modified":1592636593384},{"_id":"themes/butterfly/package.json","hash":"f92db754486cb1cfaaa4b03b869877c922974bee","modified":1592634453106},{"_id":"source/_data/link.yml","hash":"7db0a276b64e994155f19c99b9e345b4ce50cc4e","modified":1592635144544},{"_id":"source/_posts/01-firebase-note.md","hash":"7658f0720a3b5cf69e5a295380937190ea08c010","modified":1592637397619},{"_id":"source/_posts/02-git-command.md","hash":"8e572da8e3d6685b560257c1c20da96462e13597","modified":1592637381484},{"_id":"source/_posts/03-js-event-target.md","hash":"520978553dd63de6caeb467f399e4bf1539d84a6","modified":1592637359593},{"_id":"source/_posts/04-react-css-transition.md","hash":"045629e2357afa4f033b7aa1b289f4987b54222a","modified":1592637317902},{"_id":"source/_posts/05-javascript.md","hash":"ab28df2a347885aa10f91d0488712a0a00672413","modified":1592637261244},{"_id":"source/_posts/06-sass-cheat-sheet.md","hash":"e8abcffcfe51ac9ffc4aa90c9e7531cfcd38bdf5","modified":1592637244136},{"_id":"source/_posts/07-typescript.md","hash":"fe068ce913693f4fd8f9575941c59999ecb285ca","modified":1592637120855},{"_id":"source/_posts/08-your-first-npm-package.md","hash":"9aae8ccfc7d00e3cd8b49ba2b27f7b1799cc8085","modified":1592637028240},{"_id":"source/_posts/09-customize-powershell.md","hash":"b96f219cadefe0492b123782cebf2774db05226b","modified":1592636977633},{"_id":"source/_posts/10-common-algo-review.md","hash":"615443440a8bdb2f84b107530635a35af76e3ce4","modified":1592636926099},{"_id":"source/_posts/11-es6-notes.md","hash":"b47453bd6ea305a36d99431be36f1e0c803808ea","modified":1592636894125},{"_id":"source/_posts/12-intermediate-powerlifting.md","hash":"9e54ab1c5915b7ae659c35810561e0e601ba1dd6","modified":1592636861428},{"_id":"source/_posts/13-userRef-useReduce.md","hash":"b65b3ae43cad6c74ae33a6b8920aaab94535864e","modified":1592636786085},{"_id":"source/_posts/14-regular-expression.md","hash":"a36fc39f665476bd9e30cb2dd89a6eceae42933d","modified":1592636702740},{"_id":"source/about/index.md","hash":"32eb39a217c0b41a02dc148d0a45a10d0312bcf0","modified":1590408109327},{"_id":"source/about/site.md","hash":"1280b7a7de7cb8ed730f6851c14957b055bea7a1","modified":1590408109328},{"_id":"source/albums/index.md","hash":"8d0674933590be17af3ef22eef46ab8e4a2237ef","modified":1590408109328},{"_id":"source/categories/index.md","hash":"50d5484d7d421e9207d1a16d781a354f312dda3f","modified":1592634802513},{"_id":"source/girls/index.md","hash":"6de0168aaa519b027d3903ddc8447dfab5674d56","modified":1592466407440},{"_id":"source/link/index.md","hash":"1b80cea356fe485950d70967faf378e1040ca8af","modified":1592635017676},{"_id":"source/tags/index.md","hash":"6244bf89d76f3a720284b5c29722dfe4d7a45543","modified":1592634763219},{"_id":"themes/butterfly/languages/default.yml","hash":"730a00d41d0cb7b6ad768a9f91889307ffeffc23","modified":1592634453076},{"_id":"themes/butterfly/languages/en.yml","hash":"730a00d41d0cb7b6ad768a9f91889307ffeffc23","modified":1592634453077},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"e7d642fe6ed909c6552accd919a812c9ae86df7d","modified":1592634453077},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"582d4800d33209f4612f48f25f69e8d952aeabfe","modified":1592634453077},{"_id":"themes/butterfly/layout/404.pug","hash":"9ba3cea0f61ad5d0f6cb782fd3da9cf7b4077ae4","modified":1592634453078},{"_id":"themes/butterfly/layout/archive.pug","hash":"bd62286afb64a51c97e800c5945620d51605d5fa","modified":1592634453078},{"_id":"themes/butterfly/layout/category.pug","hash":"d014234c26d2c07caaea6703f7b48cb69c51907d","modified":1592634453079},{"_id":"themes/butterfly/layout/flink.pug","hash":"12571e3b98651d655cab29c01a33663393c66056","modified":1592634453079},{"_id":"themes/butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1592634453105},{"_id":"themes/butterfly/layout/page.pug","hash":"130ab657a6acfe149dbc59e481dc05d4d7d926a3","modified":1592634453105},{"_id":"themes/butterfly/layout/post.pug","hash":"2e34fd65d36508faec9fd015d6cdb108d4c29b58","modified":1592634453105},{"_id":"themes/butterfly/layout/tag.pug","hash":"3bb2a700c6d709d2757d55d357eed1fca5644e24","modified":1592634453105},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"06ff82eaedfbc5cc9a65e34eaa063cebfb942a93","modified":1592634453079},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"f41c3cdf1a6c6cfd06a69a5ba7a14b3730ee6127","modified":1592634453085},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"5f3a4c030a5f27d890089737f3fd4c58a1154c1f","modified":1592634453085},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"e764e4ecceb04e11e2bfef84e72b4529bdc2362b","modified":1592634453092},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"29c6e5f8b82de38f61b53decfa9e0e9831b188f8","modified":1592634453095},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"71960ea57a3f241c80e7701f2decbf4ba9736ba0","modified":1592634453097},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"158e49e0466e71e4d2cc7087a3ac5e703b3e13e4","modified":1592634453100},{"_id":"themes/butterfly/scripts/events/404.js","hash":"3c30dbd8b910ce7d8d7d8353cf2266cbc5d8775d","modified":1592634453106},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"e6db030700cefcd79e7a826b04e2a7172d53428e","modified":1592634453107},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"0b4775aaa955b75f03648fc1957fb88a6d440803","modified":1592634453107},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"fb394ffd0ec61fe50ff992fdf11356312ca2ccfb","modified":1592634453108},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"11aabab0092a3f2258c1fa931e74a7796074c515","modified":1592634453108},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"729a9f40c5bf603036f6e9443db93b1704cf17d9","modified":1592634453109},{"_id":"themes/butterfly/scripts/events/replace_config.js","hash":"537e556e76760ce2103f359d5a424c6e2b9a0710","modified":1592634453107},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"64b13aeb4f49609529be6f9060797bafc8a6f9bc","modified":1592634453110},{"_id":"themes/butterfly/scripts/tags/button.js","hash":"bae84b36b58572112047c3b02e975c1e762de56b","modified":1592634453110},{"_id":"themes/butterfly/scripts/tags/gallery.js","hash":"2fad0a9e6645613631aad36dc3473fe8e032809b","modified":1592634453110},{"_id":"themes/butterfly/scripts/tags/hide.js","hash":"a32e4166b6cbbc1c2bdecaa74662a12cdb98f4ce","modified":1592634453111},{"_id":"themes/butterfly/scripts/tags/mermaid.js","hash":"53eaff19d8da32e04e2c871300ea495356d633cd","modified":1592634453111},{"_id":"themes/butterfly/scripts/tags/note.js","hash":"c739846637c48b4779df2f62effb78e15100fd9f","modified":1592634453111},{"_id":"themes/butterfly/scripts/tags/tabs.js","hash":"526c2ea5da98635e21a896a074de28b3a0294ba7","modified":1592634453111},{"_id":"themes/butterfly/source/css/index.styl","hash":"8d908c4bc856f9369e8148e7b8dd7fb968fbf66c","modified":1592634453124},{"_id":"themes/butterfly/source/css/var.styl","hash":"3c20dbec8e323628f17a8510f6ef8bba6f00db2a","modified":1592634453124},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1592634453125},{"_id":"themes/butterfly/source/img/algolia.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1592634453125},{"_id":"themes/butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1592634453125},{"_id":"themes/butterfly/source/img/icp.png","hash":"cb1fd69b38ec23ce8366668ddffbbd0160de0104","modified":1592634453126},{"_id":"themes/butterfly/source/img/loading.gif","hash":"5f0287fb8fb98872fe1998c6f781111819e71806","modified":1592634453127},{"_id":"themes/butterfly/source/js/main.js","hash":"ef820beebcc1e74de7ca2956a8a4807622be204b","modified":1592634453128},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"030ad26843c22f6a5f91a40200c65d079a4f8475","modified":1592634453132},{"_id":"themes/butterfly/source/js/utils.js","hash":"43da5a9129aa827dc5c311b0e5e3a12ccc61b488","modified":1592634453132},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1592634453126},{"_id":"themes/butterfly/layout/includes/chat/chatra.pug","hash":"77ec360f1f9fd702be540b0542449705828a77da","modified":1592634453080},{"_id":"themes/butterfly/layout/includes/chat/daovoice.pug","hash":"ab96a70b0a65a7fae094d426beba7433f60f4a5a","modified":1592634453081},{"_id":"themes/butterfly/layout/includes/chat/gitter.pug","hash":"ba9576ecba1a1768c25377e8b4fdb133982bd214","modified":1592634453081},{"_id":"themes/butterfly/layout/includes/chat/index.pug","hash":"da7412131e768e331a9f33804f2f5f7c5eeaa178","modified":1592634453081},{"_id":"themes/butterfly/layout/includes/chat/tidio.pug","hash":"208035fb6ae639653861d15c9a20e8d4bba2b02a","modified":1592634453081},{"_id":"themes/butterfly/layout/includes/comments/disqus.pug","hash":"821d968122bab8ce1ce04dc553b731eaf8e0d181","modified":1592634453082},{"_id":"themes/butterfly/layout/includes/comments/disqusjs.pug","hash":"751351eae0540651a5db865262ff4a6d40680715","modified":1592634453082},{"_id":"themes/butterfly/layout/includes/comments/facebook_comments.pug","hash":"7b7bb7d2b39b639cc8e1edf1274148460796662e","modified":1592634453082},{"_id":"themes/butterfly/layout/includes/comments/gitalk.pug","hash":"e98f5c199a76ad939a29a46c0dcbf7e85ec60ed2","modified":1592634453083},{"_id":"themes/butterfly/layout/includes/comments/index.pug","hash":"67cfc03939e08992ccb3a453d2b72458056535e9","modified":1592634453083},{"_id":"themes/butterfly/layout/includes/comments/livere.pug","hash":"9518b6e0c532af8ab0ae569ad795b769a2bd3040","modified":1592634453084},{"_id":"themes/butterfly/layout/includes/comments/utterances.pug","hash":"9427cb07bcfe2bc7198755eeebf60f9fe430a342","modified":1592634453084},{"_id":"themes/butterfly/layout/includes/comments/valine.pug","hash":"7b91be55c613f16bb2da9ab48aaf6e08781f563a","modified":1592634453084},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"a3c819238dceab080d5db0336ef07009ca216310","modified":1592634453086},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"8ec0609f14c284c3e6120940d7c4d7f1f201cd67","modified":1592634453086},{"_id":"themes/butterfly/layout/includes/head/aplayer.pug","hash":"b24959f00ac75f12f66b445158aad143ee860795","modified":1592634453086},{"_id":"themes/butterfly/layout/includes/head/comment.pug","hash":"7de136bdce45afa81341b13e61b7a3926e15f03b","modified":1592634453086},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"e8b774f88cc717371d2e31f5d532007d0b7b23ab","modified":1592634453087},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"29d6ab8de6e355925e76d92862671ce48ddd6f12","modified":1592634453087},{"_id":"themes/butterfly/layout/includes/head/darkmode.pug","hash":"fa834037bf29843abd6b63fed3a868638b9875cd","modified":1592634453087},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"ff4ceda534cdd711cfa2cb9e95e36258988674e1","modified":1592634453088},{"_id":"themes/butterfly/layout/includes/head/noscript.pug","hash":"0a23423304127c4ffa69310526aaa59830d12c78","modified":1592634453089},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"95affc2c333f27b968c47272277da712d13f2670","modified":1592634453089},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"be1ff710e4381fc684243313dcadf0140d7469de","modified":1592634453089},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"f5c8ec73c797ff3455e732fa7c92c856692f3ce5","modified":1592634453089},{"_id":"themes/butterfly/layout/includes/head/subtitle.pug","hash":"bfbf1c850dcd825c2eb68bc74e9787a5fef9258b","modified":1592634453090},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"12dc74a7370b8d00f010e6914c09b1b12343fd92","modified":1592634453090},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"c76b6236995f15e3cf5af376101c782a1078b845","modified":1592634453091},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"2ff93c4edc1e52f63f3cd5f90354683e933a299e","modified":1592634453091},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"aa83c7e0dcaf60c85d44af32a7d2d20667a6893b","modified":1592634453091},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"0d953e51d04a9294a64153c89c20f491a9ec42d4","modified":1592634453092},{"_id":"themes/butterfly/layout/includes/loading/loading-js.pug","hash":"3cf431a4f04997b55873f7099c1402155b19cc95","modified":1592634453092},{"_id":"themes/butterfly/layout/includes/loading/loading.pug","hash":"5276937fbcceb9d62879dc47be880cd469a27349","modified":1592634453092},{"_id":"themes/butterfly/layout/includes/math/index.pug","hash":"ec97f284626b67208370b5084e5c5822844fa30a","modified":1592634453093},{"_id":"themes/butterfly/layout/includes/math/katex.pug","hash":"73356f1068c7426597e268d6c4aefa2b0ac3a1d9","modified":1592634453093},{"_id":"themes/butterfly/layout/includes/math/mathjax.pug","hash":"6ccfaa776fc913ccf8b34825d918ab2b4d457434","modified":1592634453093},{"_id":"themes/butterfly/layout/includes/math/mermaid.pug","hash":"db848ff451d4c58670af415882ca6bb2e0da971b","modified":1592634453093},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"4736ea0dec5561f4f75d283be3629062b234af23","modified":1592634453094},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"c046c1b43ce9b5afe68b60c08230b843113a1561","modified":1592634453094},{"_id":"themes/butterfly/layout/includes/mobile-sidebar/index.pug","hash":"d12fab033fb32b55abbc9be9b04cc6ab6465b98e","modified":1592634453095},{"_id":"themes/butterfly/layout/includes/mobile-sidebar/mobile-menus.pug","hash":"e7ee2593788c6614b9f41f0789ef7166fe73a707","modified":1592634453095},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"8efc0b7886bdb5959e173b5e11f5ffb8d1c5230e","modified":1592634453097},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"3740cece6885c285351295612723fd66e0d5a4bf","modified":1592634453097},{"_id":"themes/butterfly/layout/includes/search/algolia.pug","hash":"518eec7302d4fad75be46486407a945b39833ff8","modified":1592634453098},{"_id":"themes/butterfly/layout/includes/search/index.pug","hash":"b01828b37d789797aeb5433f1705cff3c540a4d5","modified":1592634453098},{"_id":"themes/butterfly/layout/includes/search/local-search.pug","hash":"f8686264a4ff1d48961296f9949d705bc87de3ea","modified":1592634453098},{"_id":"themes/butterfly/layout/includes/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1592634453099},{"_id":"themes/butterfly/layout/includes/share/addtoany.pug","hash":"bbf5b70460b17c4fecb9ee6880aa71cdb2d807a8","modified":1592634453099},{"_id":"themes/butterfly/layout/includes/share/index.pug","hash":"c341aaa00113681b22f945f5004e6b22c8a0ca69","modified":1592634453099},{"_id":"themes/butterfly/layout/includes/share/share-js.pug","hash":"828a04c6e8e3a56c3c7f3c9bb1ecf4f99ed842fe","modified":1592634453100},{"_id":"themes/butterfly/layout/includes/third-party/canvas-nest.pug","hash":"3d7a3654ae03fd2665ea355ee9eac48af0ee82af","modified":1592634453100},{"_id":"themes/butterfly/layout/includes/third-party/canvas-ribbon-piao.pug","hash":"001f28c633d2ec2d5ef9ca047fb1fe61ffefd66f","modified":1592634453101},{"_id":"themes/butterfly/layout/includes/third-party/canvas-ribbon.pug","hash":"b4acf48c98ba2a6a5a5fb5387a0fd610bdfd55ef","modified":1592634453101},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"8fdb96b8329e352ed691228767451b264151b3a6","modified":1592634453101},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"2e940de1a6261fd378e16e4cd3362a9d69c12f50","modified":1592634453101},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"721b611fda6dcfca8f88b9c7b70fede7b69a516b","modified":1592634453102},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"393a6f9a5dcabe8d96e9b6cb5620c12966dfd37f","modified":1592634453102},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"b5d73ceb54c43cc22e46b1cdcde24fcc8e420755","modified":1592634453102},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"83cb6ba0d8c913570147b3871c7fc0674dac8cdf","modified":1592634453103},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"355b50dd13471e00fbbfcf6519cf32a092c095b3","modified":1592634453104},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"6a4c85a037c10e093f545d3167691c0b68634465","modified":1592634453104},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"e0febc7eb43ceb21bb1607d4f2358b9b633cb2d2","modified":1592634453104},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"15fb3730f829e237c102a70ab9781178471fd786","modified":1592634453104},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"7f800733ca4e4ee4dd1e0ccaace274d1bc896539","modified":1592634453112},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"cd9580fdf3a138ca84504e1a8b3f4d633ccc7bd5","modified":1592634453113},{"_id":"themes/butterfly/source/css/_highlight/diff.styl","hash":"2d9820f9fc556855c9c26f9242adb1b29fe3c272","modified":1592634453113},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"f2884605b55dfb9575f9532d6ac568bc59d0c4ab","modified":1592634453113},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"70ce4e354b03fe926fd06822e2a5f125e1cd3697","modified":1592634453114},{"_id":"themes/butterfly/source/css/_layout/404.styl","hash":"b766e536a7a558f4850b31464a284ce2384d79f6","modified":1592634453114},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"25c9a71043156adf67662d68b35d97d66f60a396","modified":1592634453114},{"_id":"themes/butterfly/source/css/_layout/category.styl","hash":"7267043e52a9e620adfa860bdb3e4de400ff2596","modified":1592634453115},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"29f48f9370f245e6e575b5836bccf47eb5688d8b","modified":1592634453116},{"_id":"themes/butterfly/source/css/_layout/flink.styl","hash":"079ed647f847cf2693928d358929b65ce67cb31b","modified":1592634453116},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"d8709e29efcfa0a7356384026dfbaac8861d3baa","modified":1592634453116},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"f7038a0ac08396784e57bcd31f6431c92909f514","modified":1592634453117},{"_id":"themes/butterfly/source/css/_layout/loadding.styl","hash":"144ef01b03ae34d3ede4b9aa18f4c8cd3d6651ea","modified":1592634453117},{"_id":"themes/butterfly/source/css/_layout/mobile-sidebar.styl","hash":"d2d6b36f3bcbba35e1e63ac0d59879decf63cc1f","modified":1592634453117},{"_id":"themes/butterfly/source/css/_layout/page.styl","hash":"2fc2230d9a7117f6c5f7e484e2fbfc76e62fa8bc","modified":1592634453117},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"8f44be6a866d11f6afabf8689d9ae7b65eee18ae","modified":1592634453118},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"37a9832a6bc409947e85556b31f2adadf2f412ec","modified":1592634453118},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"4825afd4f94f1481b5422072fa5e506e2a387247","modified":1592634453118},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"495da7b41a7909df989a5dcc13a29761ef23089b","modified":1592634453119},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"971ddbf6084793b15221559183d20d1362630ee3","modified":1592634453119},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"33da3da65715ce1a85b8ecab92e0eab6ce620a58","modified":1592634453119},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"e37b8b56dfdf1f8a4459d3ec5b8d274637221c2d","modified":1592634453120},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"35c0abf010c807b26736e08123e90eccd8324855","modified":1592634453120},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"19cf99e6d6067eadf7e8abe6172a79344be5d82d","modified":1592634453120},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"641ef2bc7af135c17fd90f3f974e78ebbaf1ac13","modified":1592634453121},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"5bb29799d0168b1d68cfb8165a41b9d90f86eab7","modified":1592634453121},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"da791f46239eabbbf28eb30b9e441f1ac2a8ced1","modified":1592634453121},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"40926b9d87e06d4679bd3c8542a7a3acd5d10cc1","modified":1592634453121},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"0bc29278fbcf1aec15222ed10c58697da1a0d676","modified":1592634453122},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d0386ba6d8d63afc72b9673e8f3e89df6446ffc2","modified":1592634453122},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"10e925cf59748af445d3606d965731013f31827c","modified":1592634453122},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"2f8d4043dedef70813493e43e4c158e16ccc3fc0","modified":1592634453123},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"7e51aadf941a4742c6e438a419ef820e8765258f","modified":1592634453123},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"001bd6d68a9b9af5dd0158fe116889434f36b1fd","modified":1592634453123},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"5ff5cb40d5ede73b48594d331244ada001154dac","modified":1592634453128},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"497993860b3c42bdc926a3bd83b4b8f480febd99","modified":1592634453129},{"_id":"themes/butterfly/source/js/third-party/ClickShowText.js","hash":"32864aee35b5d739a36702b8d916b17bac52b17e","modified":1592634453129},{"_id":"themes/butterfly/source/js/third-party/activate-power-mode.js","hash":"2c4ab494225b7d04eed934efc43a43791e596f4a","modified":1592634453130},{"_id":"themes/butterfly/source/js/third-party/canvas-nest.js","hash":"978402a16f3ceebe453806e3e25a5905a89776be","modified":1592634453130},{"_id":"themes/butterfly/source/js/third-party/canvas-ribbon.js","hash":"1ddf4f6896175e77518f0fbd45776132b2954fb6","modified":1592634453130},{"_id":"themes/butterfly/source/js/third-party/click_heart.js","hash":"004ea645ed8c5e354711b5fc0dbfe015e181916b","modified":1592634453131},{"_id":"themes/butterfly/source/js/third-party/fireworks.js","hash":"411ced4031a856a5b87f7c62d3800027d12bacec","modified":1592634453131},{"_id":"themes/butterfly/source/js/third-party/piao.js","hash":"05da3437664bb335e2336a52be8587e7719f7b89","modified":1592634453132},{"_id":"themes/butterfly/source/img/yang-favicon.png","hash":"e0f7668e625cdd3d89f5c24ecfba0f8c24e1e0e3","modified":1592593932528},{"_id":"themes/butterfly/source/img/yang.jpg","hash":"63aa7525e1697a0fe02204f90e723f55cc931efc","modified":1590408109458},{"_id":"themes/butterfly/source/img/archive.png","hash":"0d4ccb01563779f39b92cf7167ae8e3b911ad3a9","modified":1590814334928},{"_id":"themes/butterfly/source/img/test.jpg","hash":"da99d43ae4a7f1d78c7bfbceb18e689a7a3acd3d","modified":1590555845094},{"_id":"public/404.html","hash":"b483fda96fbb4b38371a2eca33031f838f4866f2","modified":1592638507947},{"_id":"public/2020/06/18/12-intermediate-powerlifting/index.html","hash":"49e5e92984bf857c5c0f81af3a22e8d5a0e16044","modified":1592638507947},{"_id":"public/about/index.html","hash":"bc2bea3685fe87f5e4860c9fb326918a19b762ee","modified":1592638507947},{"_id":"public/about/site.html","hash":"3ed6bae3e4f102966da5f1c958cb92d35e03f03a","modified":1592638507947},{"_id":"public/albums/index.html","hash":"d148d6b94e6e8dbde3fa29f5c0579f6990d67ff5","modified":1592638507947},{"_id":"public/girls/index.html","hash":"9d5bc5bbdc460068516b546b66887273a5f94e4c","modified":1592638507947},{"_id":"public/categories/index.html","hash":"ed18a55bb93579dcdff27465e6a5e92e036212d0","modified":1592638507947},{"_id":"public/tags/index.html","hash":"60a8458a3ea1d7da7ae27f9e43234f124ed51e74","modified":1592638507947},{"_id":"public/link/index.html","hash":"f11049fe575e81d56c2e0fe547836cb85f48ed61","modified":1592638507947},{"_id":"public/2020/06/19/14-regular-expression/index.html","hash":"74dffa3d70783f9fa637880e83d7989638ca92c7","modified":1592638507947},{"_id":"public/2020/06/18/13-userRef-useReduce/index.html","hash":"cce0c7c007a7b56b6a4ee2e5c8c4b875b3e93e56","modified":1592638507947},{"_id":"public/2020/06/17/11-es6-notes/index.html","hash":"5444f97c0dfdfd98225e2d4420fabc439b47266e","modified":1592638507947},{"_id":"public/2020/06/15/10-common-algo-review/index.html","hash":"903f5c905e4eebc07b697cd75eb08fa80c161486","modified":1592638507947},{"_id":"public/2020/06/15/09-customize-powershell/index.html","hash":"45ae1c72a543e1a55e453636c60063b66981d20a","modified":1592638507947},{"_id":"public/2020/06/12/07-typescript/index.html","hash":"5b70493f41678d2e48a298b97aaaec4b9a658435","modified":1592638507947},{"_id":"public/2020/06/14/08-your-first-npm-package/index.html","hash":"f3ea75e2ffc4f454eb9bfd43202c2813f949b40b","modified":1592638507947},{"_id":"public/2020/06/08/06-sass-cheat-sheet/index.html","hash":"cadb5c7344be54361a80ebb19d20433fc2a7930d","modified":1592638507947},{"_id":"public/2020/06/08/05-javascript/index.html","hash":"f0bf087a11de96f359070b0b377f2372e1a04f4f","modified":1592638507947},{"_id":"public/2020/06/02/04-react-css-transition/index.html","hash":"1961ca5bb8e4869b4fcf4ae3819fac8c3cfbae8e","modified":1592638507947},{"_id":"public/2020/05/28/03-js-event-target/index.html","hash":"0684e7483d8a0a5d6bd9ee04031e7a9b4bafe079","modified":1592638507947},{"_id":"public/2020/05/25/02-git-command/index.html","hash":"b5d0fe015b8f978e63fd39b0bff591ec18db3643","modified":1592638507947},{"_id":"public/2020/05/23/01-firebase-note/index.html","hash":"3976f5c356e78f7843ff47431dbec30801d70048","modified":1592638507947},{"_id":"public/archives/index.html","hash":"0275cf53341e6846660d32d6ec54c8ba3c151488","modified":1592638507947},{"_id":"public/archives/page/2/index.html","hash":"437f8f7fced7aeb3bbb4fb300450838fe820cda3","modified":1592638507947},{"_id":"public/archives/2020/index.html","hash":"f60908f68a670cb4224e1c0e998f1f4226b04397","modified":1592638507947},{"_id":"public/archives/2020/page/2/index.html","hash":"f5f888378fa8007c4448f532d72a82dc23aa5ac7","modified":1592638507947},{"_id":"public/archives/2020/05/index.html","hash":"3000c44d4606d415c1f1a4c0a1cf1b7d79a03415","modified":1592638507947},{"_id":"public/archives/2020/06/index.html","hash":"938ad01ad2c5c13c2c11c9b585433e1bca7ff25c","modified":1592638507947},{"_id":"public/archives/2020/06/page/2/index.html","hash":"e5e2c8f146135dee45247e9dc31a0b0568dbf372","modified":1592638507947},{"_id":"public/categories/笔记/index.html","hash":"9cabfce39f37827416a59f681c6272dfe168a827","modified":1592638507947},{"_id":"public/categories/Articels/index.html","hash":"6513d366a9834ec745eec5cc830f5684816ed1ac","modified":1592638507947},{"_id":"public/categories/Articles/index.html","hash":"7530d154b3e48dfd234d1db5dbe10e425f44f967","modified":1592638507947},{"_id":"public/categories/文章/index.html","hash":"efb5fef97e027d817b1adf77df5ac835b7a16e1c","modified":1592638507947},{"_id":"public/categories/每日一学/index.html","hash":"58433ffb411cbd002be662443eb420b38ac09951","modified":1592638507947},{"_id":"public/tags/firebase/index.html","hash":"67d11fe834285f46dd94bd0cb625173402c4b129","modified":1592638507947},{"_id":"public/tags/database/index.html","hash":"4c0f927333505abba03ddee73a2a7dad1f39d3af","modified":1592638507947},{"_id":"public/tags/web/index.html","hash":"11838741600a47c6370af2d893fb1241edf304ec","modified":1592638507947},{"_id":"public/tags/firestore/index.html","hash":"b22d0b46a2d6ed1331a66aba45e17521ae349255","modified":1592638507947},{"_id":"public/tags/cloudstorage/index.html","hash":"f30c937952afe0011aa345b6ca4f061d02d3a4dc","modified":1592638507947},{"_id":"public/tags/笔记/index.html","hash":"d62b85837651ec166dc7a9433fbb48d6dedb748f","modified":1592638507947},{"_id":"public/tags/git/index.html","hash":"ff24346af92537752b36d47227524ad55a5385e1","modified":1592638507947},{"_id":"public/tags/javascript/index.html","hash":"4ff76c303ebb7f5b8fca96f90e2ae388b2e6e106","modified":1592638507947},{"_id":"public/tags/react/index.html","hash":"f614b335c43f796d52728861ddb9f9ee1e46c423","modified":1592638507947},{"_id":"public/tags/react-router/index.html","hash":"5d25e46b7d6dfe87c9eacb4a641596a7d6fa7f5c","modified":1592638507947},{"_id":"public/tags/JavaScript/index.html","hash":"aaeaf3426d228b76112e7a8bec723b06aa7a2c34","modified":1592638507947},{"_id":"public/tags/Sass/index.html","hash":"f92d37e4e1d197c68c2cc206d6de1c33f1f25d7f","modified":1592638507947},{"_id":"public/tags/css/index.html","hash":"0c45c84ed2e3206b699bb868b8b2d5c499059fff","modified":1592638507947},{"_id":"public/tags/note/index.html","hash":"c84cec5281e7a6bcadd6c232ad0e50607ad22df2","modified":1592638507947},{"_id":"public/tags/tsx/index.html","hash":"6ed0e49aedb080a0bb446b6d101da6efb352413b","modified":1592638507947},{"_id":"public/tags/typescript/index.html","hash":"0f1d03cd9caf8243c4d860ee9b478252d421bc34","modified":1592638507947},{"_id":"public/tags/front-end/index.html","hash":"38e593974de3719131dcba711ee56ea5109eb908","modified":1592638507947},{"_id":"public/tags/notes/index.html","hash":"266adfd1c008b524afc955020f66475e5e7931ae","modified":1592638507947},{"_id":"public/tags/npm/index.html","hash":"45aa08b8d96e6f0427ce77728f84d888e2f8cef3","modified":1592638507947},{"_id":"public/tags/node/index.html","hash":"57ce8fcdfbed0238061db89c6ed82d8b53f879b0","modified":1592638507947},{"_id":"public/tags/windows/index.html","hash":"087e06a5569a911d527d64e4346b4c9a532870ed","modified":1592638507947},{"_id":"public/tags/powershell/index.html","hash":"d59aa1db3e22fd8c97065206f75428c33fd2782c","modified":1592638507947},{"_id":"public/tags/terminal/index.html","hash":"2992252ed6caf1c4c5c3a9fa0d82ce0ad44cd660","modified":1592638507947},{"_id":"public/tags/algorithim/index.html","hash":"b3b0260bc4333c58358d2fc1403a8c0769e71510","modified":1592638507947},{"_id":"public/tags/bcit/index.html","hash":"6730e94175abba46eb5585a09a1f87a6ec3df16d","modified":1592638507947},{"_id":"public/tags/es6/index.html","hash":"71ade5ed6c11e41a16c7f009d7a70283b54c2644","modified":1592638507947},{"_id":"public/tags/powerlifting/index.html","hash":"c036a8ed1ea6e55e34b876ea8e93599a35350a91","modified":1592638507947},{"_id":"public/tags/routine/index.html","hash":"d50c843a4873305d033f0d994c3ae810bd2abbb6","modified":1592638507947},{"_id":"public/tags/Big-three/index.html","hash":"a8196311d677baf3a44d5b3eae2b51b596bd5441","modified":1592638507947},{"_id":"public/tags/rogue/index.html","hash":"5529fef8c5ede330982abb66c9b922ca03a3179d","modified":1592638507947},{"_id":"public/tags/framework/index.html","hash":"4bdca697131be3974d3617e3d1013dae1233e2bc","modified":1592638507947},{"_id":"public/tags/react-hooks/index.html","hash":"8104853a828155633b3db7b7b562dd61ccc547ff","modified":1592638507947},{"_id":"public/tags/regular-expression/index.html","hash":"cb3232f698e945b363f8a71fc8623b75b3ace14f","modified":1592638507947},{"_id":"public/tags/learning-everyday/index.html","hash":"b4285b0ba9649e494b20118a80e244fe7ec5a7eb","modified":1592638507947},{"_id":"public/index.html","hash":"e1e8e91b368b5cc832411ab1c4504e768ae5c079","modified":1592638507947},{"_id":"public/page/2/index.html","hash":"a67211f1739cbfe6db77211ed24ee82917800598","modified":1592638507947},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1592638507947},{"_id":"public/img/algolia.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1592638507947},{"_id":"public/img/icp.png","hash":"cb1fd69b38ec23ce8366668ddffbbd0160de0104","modified":1592638507947},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1592638507947},{"_id":"public/img/loading.gif","hash":"5f0287fb8fb98872fe1998c6f781111819e71806","modified":1592638507947},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1592638507947},{"_id":"public/css/prism-duotone-dark.css","hash":"77e93ecd6bc9648e1f00432b3770f18dbcf6aa28","modified":1592638507947},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1592638507947},{"_id":"public/js/utils.js","hash":"43da5a9129aa827dc5c311b0e5e3a12ccc61b488","modified":1592638507947},{"_id":"public/js/search/algolia.js","hash":"5ff5cb40d5ede73b48594d331244ada001154dac","modified":1592638507947},{"_id":"public/js/third-party/ClickShowText.js","hash":"32864aee35b5d739a36702b8d916b17bac52b17e","modified":1592638507947},{"_id":"public/js/search/local-search.js","hash":"497993860b3c42bdc926a3bd83b4b8f480febd99","modified":1592638507947},{"_id":"public/js/third-party/canvas-nest.js","hash":"978402a16f3ceebe453806e3e25a5905a89776be","modified":1592638507947},{"_id":"public/js/third-party/activate-power-mode.js","hash":"2c4ab494225b7d04eed934efc43a43791e596f4a","modified":1592638507947},{"_id":"public/js/third-party/fireworks.js","hash":"411ced4031a856a5b87f7c62d3800027d12bacec","modified":1592638507947},{"_id":"public/js/third-party/canvas-ribbon.js","hash":"1ddf4f6896175e77518f0fbd45776132b2954fb6","modified":1592638507947},{"_id":"public/js/third-party/piao.js","hash":"05da3437664bb335e2336a52be8587e7719f7b89","modified":1592638507947},{"_id":"public/js/third-party/click_heart.js","hash":"004ea645ed8c5e354711b5fc0dbfe015e181916b","modified":1592638507947},{"_id":"public/css/index.css","hash":"d8b4179fabcb24c9384f530a4fe4260383769959","modified":1592638507947},{"_id":"public/js/main.js","hash":"ef820beebcc1e74de7ca2956a8a4807622be204b","modified":1592638507947},{"_id":"public/js/tw_cn.js","hash":"030ad26843c22f6a5f91a40200c65d079a4f8475","modified":1592638507947},{"_id":"public/img/yang-favicon.png","hash":"e0f7668e625cdd3d89f5c24ecfba0f8c24e1e0e3","modified":1592638507947},{"_id":"public/img/yang.jpg","hash":"63aa7525e1697a0fe02204f90e723f55cc931efc","modified":1592638507947},{"_id":"public/img/archive.png","hash":"0d4ccb01563779f39b92cf7167ae8e3b911ad3a9","modified":1592638507947},{"_id":"public/img/test.jpg","hash":"da99d43ae4a7f1d78c7bfbceb18e689a7a3acd3d","modified":1592638507947}],"Category":[{"name":"笔记","_id":"ckbnbuimp0004i0ui0ntr9m5b"},{"name":"Articles","_id":"ckbnbuin0000li0ui7oko58l6"},{"name":"Articels","_id":"ckbnbuin3000si0uihxx459ov"},{"name":"文章","_id":"ckbnbuin6000zi0ui8d3iaqkl"},{"name":"每日一学","_id":"ckbnbuin70015i0ui9immhulb"}],"Data":[{"_id":"link","data":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}],"Page":[{"title":"关于","date":"2020-05-24T05:03:31.000Z","_content":"\n你好啊","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2020-05-23 22:03:31\n---\n\n你好啊","updated":"2020-05-25T12:01:49.327Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckbnbuimm0001i0ui2w429f7s","content":"<p>你好啊</p>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"cover":"/img/test.png","excerpt":"","more":"<p>你好啊</p>\n"},{"title":"关于博客","date":"2020-05-24T05:03:31.000Z","_content":"\n博客介绍","source":"about/site.md","raw":"---\ntitle: 关于博客\ndate: 2020-05-23 22:03:31\n---\n\n博客介绍","updated":"2020-05-25T12:01:49.328Z","path":"about/site.html","comments":1,"layout":"page","_id":"ckbnbuimo0003i0ui3fnc92dj","content":"<p>博客介绍</p>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"cover":"/img/test.png","excerpt":"","more":"<p>博客介绍</p>\n"},{"title":"albums","date":"2020-05-24T05:21:22.000Z","type":"albums","albums":[{"caption":"夕阳西下","url":"/albums/sunset.html","cover":"https://interactive-examples.mdn.mozilla.net/media/examples/elephant-660-480.jpg","desc":"我想起那天夕阳下的奔跑"}],"_content":"\n\n\n","source":"albums/index.md","raw":"---\ntitle: albums\ndate: 2020-05-23 22:21:22\ntype: albums\nalbums:\n  - caption: 夕阳西下\n    url: /albums/sunset.html\n    cover: https://interactive-examples.mdn.mozilla.net/media/examples/elephant-660-480.jpg\n    desc: 我想起那天夕阳下的奔跑\n---\n\n\n\n","updated":"2020-05-25T12:01:49.328Z","path":"albums/index.html","comments":1,"layout":"page","_id":"ckbnbujb7003pi0ui42i2fqpz","content":"","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"cover":"/img/test.png","excerpt":"","more":""},{"layout":"girls","title":"可爱的女孩子","banner":"<span title=\"大家都是我的天使！\">排名不分先后</span>","girls":[{"name":"阿尔托莉雅·潘德拉贡","avatar":"https://n.sinaimg.cn/sinacn/w600h630/20180203/c36c-fyrcsrx3661271.jpg","from":"Fate Stay Night","url":"https://zh.moegirl.org/%E9%98%BF%E5%B0%94%E6%89%98%E8%8E%89%E9%9B%85%C2%B7%E6%BD%98%E5%BE%B7%E6%8B%89%E8%B4%A1","reason":"Saber最可爱了！"}],"_content":"","source":"girls/index.md","raw":"---\nlayout: girls\ntitle: 可爱的女孩子\nbanner: <span title=\"大家都是我的天使！\">排名不分先后</span>\ngirls:\n  - name: 阿尔托莉雅·潘德拉贡\n    avatar: https://n.sinaimg.cn/sinacn/w600h630/20180203/c36c-fyrcsrx3661271.jpg\n    from: Fate Stay Night\n    url: https://zh.moegirl.org/%E9%98%BF%E5%B0%94%E6%89%98%E8%8E%89%E9%9B%85%C2%B7%E6%BD%98%E5%BE%B7%E6%8B%89%E8%B4%A1\n    reason: Saber最可爱了！\n---\n","date":"2020-06-18T07:46:47.440Z","updated":"2020-06-18T07:46:47.440Z","path":"girls/index.html","comments":1,"_id":"ckbnbujb8003qi0ui7o16aukp","content":"","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"cover":"/img/test.png","excerpt":"","more":""},{"title":"categories","date":"2020-05-24T05:02:51.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2020-05-23 22:02:51\ntype: categories\n---\n","updated":"2020-06-20T06:33:22.513Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ckbnbujb9003ri0ui0k8n5yxx","content":"","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"cover":"/img/test.png","excerpt":"","more":""},{"title":"标签","date":"2020-06-19T07:00:00.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2020-06-19 00:00:00\ntype: 'tags'\n---\n","updated":"2020-06-20T06:32:43.219Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ckbnbujb9003si0ui9ora4kay","content":"","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"cover":"/img/test.png","excerpt":"","more":""},{"title":"我的小伙伴们","date":"2020-05-23T20:06:06.000Z","type":"link","_content":"","source":"link/index.md","raw":"---\ntitle: 我的小伙伴们\ndate: 2020-05-23 13:06:06\ntype: 'link'\n---\n","updated":"2020-06-20T06:36:57.676Z","path":"link/index.html","comments":1,"layout":"page","_id":"ckbnbujba003ti0ui599of4sy","content":"","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"cover":"/img/test.png","excerpt":"","more":""}],"Post":[{"title":"Firebase Datbase","date":"2020-05-24T01:49:19.000Z","comments":0,"cover":"https://firebase.google.com/images/social.png","_content":"\n> 主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。\n\n<!-- more -->\n\n# Firestore\n\n## 更改文档的信息 Set\n\n`set`每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名\n\n```js\nconst db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user => {\n    db.collection(\"user\")\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})\n```\n\n## 更新文档的信息 Update\n\n如果要更改单个文档内容可以用`update`\n\n```js\ndb.collection('user').doc(user.uid).update({\n  Profile: profile_url,\n  Name: 'Yang',\n})\n```\n\n## 写入一个文档到用户 .add()\n\n以下代码会写入一个文档(随机生成`uid`)到`Expense`的集合中，\n\n```js\nlet docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\").add(docData)\n```\n\n> 写入的时候要注意 number 会自动转化为 string, 所以要先改格式`parseInt`再写入到对象里\n\n## 实时读取 onSnapShot\n\n### 单个文档侦查\n\n`onSnapShot`可以实时侦查并返回数据库文档的内容\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .onSnapShot(snap => {\n    if (snap.data().count > 5) {\n      alert('超过5啦！')\n    }\n  })\n```\n\n### 集合实时侦查 change.type\n\n如果要实时侦查一个集合，需要添加判断条件`change.type`来判断是否文档是新添加的或者修改的。不然会一直循环（雾)\n\n```js\ndb.collection('chatRoom')\n  .orderBy('Date', 'desc')\n  .onSnapShot(snap => {\n    snap.docChanges().forEach(change => {\n      if (change.type == 'added') {\n        console.log('对新添加的文档操作')\n      } else if (change.type == 'modified') {\n        console.log('对被修改过的文档操作')\n      }\n    })\n  })\n```\n\n## 读取一个集合中的所有文档 .get()\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expenses')\n  .orderBy('Date', 'desc')\n  .get()\n  .then(query => {\n    query.forEach(doc => {\n      console.log(doc.data().Category)\n    })\n  })\n```\n\n## 删除一个集合中的所有文档\n\n一般用来 reset 用户数据之类的\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expense')\n  .get()\n  .then(querySnapShot => {\n    querySnapShot.forEach(doc => {\n      doc.ref\n        .delete()\n        .then(() => {\n          console.log('删除成功')\n        })\n        .catch(error => {\n          console.log('错误', error)\n        })\n    })\n  })\n```\n\n# Cloud Storage\n\nCloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。\n\n## 上传图片\n\n```js\n   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(\"#profile-input\").prop(\"files\")[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) => snapshot.ref.getDownloadURL())\n        .then((url) => {\n          console.log(\"用户头像上传成功 链接为: \" + url)\n          firebase.auth().onAuthStateChanged((user) => {\n            db.collection(\"user\").doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }\n```\n","source":"_posts/01-firebase-note.md","raw":"---\ntitle: Firebase Datbase\ndate: 2020-05-23 18:49:19\ntags: [firebase, database, web, firestore, cloudstorage]\ncomments: false\ncategories: '笔记'\ncover: 'https://firebase.google.com/images/social.png'\n# description: Firebase常用的一些例句和用法\n---\n\n> 主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。\n\n<!-- more -->\n\n# Firestore\n\n## 更改文档的信息 Set\n\n`set`每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名\n\n```js\nconst db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user => {\n    db.collection(\"user\")\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})\n```\n\n## 更新文档的信息 Update\n\n如果要更改单个文档内容可以用`update`\n\n```js\ndb.collection('user').doc(user.uid).update({\n  Profile: profile_url,\n  Name: 'Yang',\n})\n```\n\n## 写入一个文档到用户 .add()\n\n以下代码会写入一个文档(随机生成`uid`)到`Expense`的集合中，\n\n```js\nlet docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\").add(docData)\n```\n\n> 写入的时候要注意 number 会自动转化为 string, 所以要先改格式`parseInt`再写入到对象里\n\n## 实时读取 onSnapShot\n\n### 单个文档侦查\n\n`onSnapShot`可以实时侦查并返回数据库文档的内容\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .onSnapShot(snap => {\n    if (snap.data().count > 5) {\n      alert('超过5啦！')\n    }\n  })\n```\n\n### 集合实时侦查 change.type\n\n如果要实时侦查一个集合，需要添加判断条件`change.type`来判断是否文档是新添加的或者修改的。不然会一直循环（雾)\n\n```js\ndb.collection('chatRoom')\n  .orderBy('Date', 'desc')\n  .onSnapShot(snap => {\n    snap.docChanges().forEach(change => {\n      if (change.type == 'added') {\n        console.log('对新添加的文档操作')\n      } else if (change.type == 'modified') {\n        console.log('对被修改过的文档操作')\n      }\n    })\n  })\n```\n\n## 读取一个集合中的所有文档 .get()\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expenses')\n  .orderBy('Date', 'desc')\n  .get()\n  .then(query => {\n    query.forEach(doc => {\n      console.log(doc.data().Category)\n    })\n  })\n```\n\n## 删除一个集合中的所有文档\n\n一般用来 reset 用户数据之类的\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expense')\n  .get()\n  .then(querySnapShot => {\n    querySnapShot.forEach(doc => {\n      doc.ref\n        .delete()\n        .then(() => {\n          console.log('删除成功')\n        })\n        .catch(error => {\n          console.log('错误', error)\n        })\n    })\n  })\n```\n\n# Cloud Storage\n\nCloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。\n\n## 上传图片\n\n```js\n   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(\"#profile-input\").prop(\"files\")[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) => snapshot.ref.getDownloadURL())\n        .then((url) => {\n          console.log(\"用户头像上传成功 链接为: \" + url)\n          firebase.auth().onAuthStateChanged((user) => {\n            db.collection(\"user\").doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }\n```\n","slug":"01-firebase-note","published":1,"updated":"2020-06-20T07:16:37.619Z","layout":"post","photos":[],"link":"","_id":"ckbnbuimh0000i0ui2kbh783j","content":"<blockquote>\n<p>主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"Firestore\"><a href=\"#Firestore\" class=\"headerlink\" title=\"Firestore\"></a>Firestore</h1><h2 id=\"更改文档的信息-Set\"><a href=\"#更改文档的信息-Set\" class=\"headerlink\" title=\"更改文档的信息 Set\"></a>更改文档的信息 Set</h2><p><code>set</code>每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">firestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nfirebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span>user <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token comment\" spellcheck=\"true\">//设置用户名和邮箱为注册时的内容</span>\n            name<span class=\"token punctuation\">:</span> user<span class=\"token punctuation\">.</span>displayName<span class=\"token punctuation\">,</span>\n            email<span class=\"token punctuation\">:</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n            merge<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"更新文档的信息-Update\"><a href=\"#更新文档的信息-Update\" class=\"headerlink\" title=\"更新文档的信息 Update\"></a>更新文档的信息 Update</h2><p>如果要更改单个文档内容可以用<code>update</code></p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  Profile<span class=\"token punctuation\">:</span> profile_url<span class=\"token punctuation\">,</span>\n  Name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"写入一个文档到用户-add\"><a href=\"#写入一个文档到用户-add\" class=\"headerlink\" title=\"写入一个文档到用户 .add()\"></a>写入一个文档到用户 .add()</h2><p>以下代码会写入一个文档(随机生成<code>uid</code>)到<code>Expense</code>的集合中，</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> docData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    Category<span class=\"token punctuation\">:</span> category\n    Value<span class=\"token punctuation\">:</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Date<span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">,</span>\n    Description<span class=\"token punctuation\">:</span> note\n<span class=\"token punctuation\">}</span>\n\ndb<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Expense\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>docData<span class=\"token punctuation\">)</span></code></pre>\n<blockquote>\n<p>写入的时候要注意 number 会自动转化为 string, 所以要先改格式<code>parseInt</code>再写入到对象里</p>\n</blockquote>\n<h2 id=\"实时读取-onSnapShot\"><a href=\"#实时读取-onSnapShot\" class=\"headerlink\" title=\"实时读取 onSnapShot\"></a>实时读取 onSnapShot</h2><h3 id=\"单个文档侦查\"><a href=\"#单个文档侦查\" class=\"headerlink\" title=\"单个文档侦查\"></a>单个文档侦查</h3><p><code>onSnapShot</code>可以实时侦查并返回数据库文档的内容</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">onSnapShot</span><span class=\"token punctuation\">(</span>snap <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>snap<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>count <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'超过5啦！'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"集合实时侦查-change-type\"><a href=\"#集合实时侦查-change-type\" class=\"headerlink\" title=\"集合实时侦查 change.type\"></a>集合实时侦查 change.type</h3><p>如果要实时侦查一个集合，需要添加判断条件<code>change.type</code>来判断是否文档是新添加的或者修改的。不然会一直循环（雾)</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'chatRoom'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Date'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'desc'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">onSnapShot</span><span class=\"token punctuation\">(</span>snap <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    snap<span class=\"token punctuation\">.</span><span class=\"token function\">docChanges</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>change <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">'added'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'对新添加的文档操作'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">'modified'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'对被修改过的文档操作'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"读取一个集合中的所有文档-get\"><a href=\"#读取一个集合中的所有文档-get\" class=\"headerlink\" title=\"读取一个集合中的所有文档 .get()\"></a>读取一个集合中的所有文档 .get()</h2><pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Expenses'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Date'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'desc'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>query <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    query<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>doc <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Category<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"删除一个集合中的所有文档\"><a href=\"#删除一个集合中的所有文档\" class=\"headerlink\" title=\"删除一个集合中的所有文档\"></a>删除一个集合中的所有文档</h2><p>一般用来 reset 用户数据之类的</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Expense'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>querySnapShot <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    querySnapShot<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>doc <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      doc<span class=\"token punctuation\">.</span>ref\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除成功'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>error <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'错误'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h1 id=\"Cloud-Storage\"><a href=\"#Cloud-Storage\" class=\"headerlink\" title=\"Cloud Storage\"></a>Cloud Storage</h1><p>Cloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。</p>\n<h2 id=\"上传图片\"><a href=\"#上传图片\" class=\"headerlink\" title=\"上传图片\"></a>上传图片</h2><pre class=\" language-js\"><code class=\"language-js\">   <span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">firestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> storageRef <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">storage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> file <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#profile-input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prop</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"files\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> metadata <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        contentType<span class=\"token punctuation\">:</span> file<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">let</span> task <span class=\"token operator\">=</span> storageRef<span class=\"token punctuation\">.</span><span class=\"token function\">child</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">,</span> metadata<span class=\"token punctuation\">)</span>\n      task\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>snapshot<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> snapshot<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span><span class=\"token function\">getDownloadURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"用户头像上传成功 链接为: \"</span> <span class=\"token operator\">+</span> url<span class=\"token punctuation\">)</span>\n          firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              Profile<span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n          <span class=\"token function\">setShow</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。</p>\n</blockquote>","more":"<h1 id=\"Firestore\"><a href=\"#Firestore\" class=\"headerlink\" title=\"Firestore\"></a>Firestore</h1><h2 id=\"更改文档的信息-Set\"><a href=\"#更改文档的信息-Set\" class=\"headerlink\" title=\"更改文档的信息 Set\"></a>更改文档的信息 Set</h2><p><code>set</code>每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名</p>\n<pre><code class=\"js\">const db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user =&gt; {\n    db.collection(&quot;user&quot;)\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})</code></pre>\n<h2 id=\"更新文档的信息-Update\"><a href=\"#更新文档的信息-Update\" class=\"headerlink\" title=\"更新文档的信息 Update\"></a>更新文档的信息 Update</h2><p>如果要更改单个文档内容可以用<code>update</code></p>\n<pre><code class=\"js\">db.collection(&#39;user&#39;).doc(user.uid).update({\n  Profile: profile_url,\n  Name: &#39;Yang&#39;,\n})</code></pre>\n<h2 id=\"写入一个文档到用户-add\"><a href=\"#写入一个文档到用户-add\" class=\"headerlink\" title=\"写入一个文档到用户 .add()\"></a>写入一个文档到用户 .add()</h2><p>以下代码会写入一个文档(随机生成<code>uid</code>)到<code>Expense</code>的集合中，</p>\n<pre><code class=\"js\">let docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(&quot;user&quot;).doc(user.uid).collection(&quot;Expense&quot;).add(docData)</code></pre>\n<blockquote>\n<p>写入的时候要注意 number 会自动转化为 string, 所以要先改格式<code>parseInt</code>再写入到对象里</p>\n</blockquote>\n<h2 id=\"实时读取-onSnapShot\"><a href=\"#实时读取-onSnapShot\" class=\"headerlink\" title=\"实时读取 onSnapShot\"></a>实时读取 onSnapShot</h2><h3 id=\"单个文档侦查\"><a href=\"#单个文档侦查\" class=\"headerlink\" title=\"单个文档侦查\"></a>单个文档侦查</h3><p><code>onSnapShot</code>可以实时侦查并返回数据库文档的内容</p>\n<pre><code class=\"js\">db.collection(&#39;user&#39;)\n  .doc(user.uid)\n  .onSnapShot(snap =&gt; {\n    if (snap.data().count &gt; 5) {\n      alert(&#39;超过5啦！&#39;)\n    }\n  })</code></pre>\n<h3 id=\"集合实时侦查-change-type\"><a href=\"#集合实时侦查-change-type\" class=\"headerlink\" title=\"集合实时侦查 change.type\"></a>集合实时侦查 change.type</h3><p>如果要实时侦查一个集合，需要添加判断条件<code>change.type</code>来判断是否文档是新添加的或者修改的。不然会一直循环（雾)</p>\n<pre><code class=\"js\">db.collection(&#39;chatRoom&#39;)\n  .orderBy(&#39;Date&#39;, &#39;desc&#39;)\n  .onSnapShot(snap =&gt; {\n    snap.docChanges().forEach(change =&gt; {\n      if (change.type == &#39;added&#39;) {\n        console.log(&#39;对新添加的文档操作&#39;)\n      } else if (change.type == &#39;modified&#39;) {\n        console.log(&#39;对被修改过的文档操作&#39;)\n      }\n    })\n  })</code></pre>\n<h2 id=\"读取一个集合中的所有文档-get\"><a href=\"#读取一个集合中的所有文档-get\" class=\"headerlink\" title=\"读取一个集合中的所有文档 .get()\"></a>读取一个集合中的所有文档 .get()</h2><pre><code class=\"js\">db.collection(&#39;user&#39;)\n  .doc(user.uid)\n  .collection(&#39;Expenses&#39;)\n  .orderBy(&#39;Date&#39;, &#39;desc&#39;)\n  .get()\n  .then(query =&gt; {\n    query.forEach(doc =&gt; {\n      console.log(doc.data().Category)\n    })\n  })</code></pre>\n<h2 id=\"删除一个集合中的所有文档\"><a href=\"#删除一个集合中的所有文档\" class=\"headerlink\" title=\"删除一个集合中的所有文档\"></a>删除一个集合中的所有文档</h2><p>一般用来 reset 用户数据之类的</p>\n<pre><code class=\"js\">db.collection(&#39;user&#39;)\n  .doc(user.uid)\n  .collection(&#39;Expense&#39;)\n  .get()\n  .then(querySnapShot =&gt; {\n    querySnapShot.forEach(doc =&gt; {\n      doc.ref\n        .delete()\n        .then(() =&gt; {\n          console.log(&#39;删除成功&#39;)\n        })\n        .catch(error =&gt; {\n          console.log(&#39;错误&#39;, error)\n        })\n    })\n  })</code></pre>\n<h1 id=\"Cloud-Storage\"><a href=\"#Cloud-Storage\" class=\"headerlink\" title=\"Cloud Storage\"></a>Cloud Storage</h1><p>Cloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。</p>\n<h2 id=\"上传图片\"><a href=\"#上传图片\" class=\"headerlink\" title=\"上传图片\"></a>上传图片</h2><pre><code class=\"js\">   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(&quot;#profile-input&quot;).prop(&quot;files&quot;)[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) =&gt; snapshot.ref.getDownloadURL())\n        .then((url) =&gt; {\n          console.log(&quot;用户头像上传成功 链接为: &quot; + url)\n          firebase.auth().onAuthStateChanged((user) =&gt; {\n            db.collection(&quot;user&quot;).doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }</code></pre>"},{"title":"Git Notes","date":"2020-05-26T03:10:15.000Z","comments":0,"cover":"https://www.cloudsavvyit.com/thumbcache/0/0/5b8ff1fbf94a3ecddbaa8db6b389c09a/p/uploads/2019/10/e713ed70-1.png","_content":"\n> 平时总结的一些 git command 以及常用的命令\n\n<!-- more -->\n\n# Command\n\n## 配置\n\n### 设置用户名到 Github Commit\n\n没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息\n\n`git config --global user.name`\n`git config --global user.email`\n\n> `global`将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码\n\n## 分支\n\n### 常用的一些指令\n\n```\ngit branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature\n```\n\n## Commit\n\n### 流程\n\nGitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码\n\n```\n递交内容到feature_home分支\ngit add .\ngit commit -m\"home component done\"\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了\n```\n","source":"_posts/02-git-command.md","raw":"---\ntitle: Git Notes\ndate: 2020-05-25 20:10:15\ntags: ['笔记', 'git']\ncomments: false\ncategories: '笔记'\ncover: 'https://www.cloudsavvyit.com/thumbcache/0/0/5b8ff1fbf94a3ecddbaa8db6b389c09a/p/uploads/2019/10/e713ed70-1.png'\n---\n\n> 平时总结的一些 git command 以及常用的命令\n\n<!-- more -->\n\n# Command\n\n## 配置\n\n### 设置用户名到 Github Commit\n\n没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息\n\n`git config --global user.name`\n`git config --global user.email`\n\n> `global`将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码\n\n## 分支\n\n### 常用的一些指令\n\n```\ngit branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature\n```\n\n## Commit\n\n### 流程\n\nGitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码\n\n```\n递交内容到feature_home分支\ngit add .\ngit commit -m\"home component done\"\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了\n```\n","slug":"02-git-command","published":1,"updated":"2020-06-20T07:16:21.484Z","layout":"post","photos":[],"link":"","_id":"ckbnbuimn0002i0uicsz4f9ab","content":"<blockquote>\n<p>平时总结的一些 git command 以及常用的命令</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"Command\"><a href=\"#Command\" class=\"headerlink\" title=\"Command\"></a>Command</h1><h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><h3 id=\"设置用户名到-Github-Commit\"><a href=\"#设置用户名到-Github-Commit\" class=\"headerlink\" title=\"设置用户名到 Github Commit\"></a>设置用户名到 Github Commit</h3><p>没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息</p>\n<p><code>git config --global user.name</code><br><code>git config --global user.email</code></p>\n<blockquote>\n<p><code>global</code>将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码</p>\n</blockquote>\n<h2 id=\"分支\"><a href=\"#分支\" class=\"headerlink\" title=\"分支\"></a>分支</h2><h3 id=\"常用的一些指令\"><a href=\"#常用的一些指令\" class=\"headerlink\" title=\"常用的一些指令\"></a>常用的一些指令</h3><pre><code>git branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature</code></pre><h2 id=\"Commit\"><a href=\"#Commit\" class=\"headerlink\" title=\"Commit\"></a>Commit</h2><h3 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h3><p>Gitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码</p>\n<pre><code>递交内容到feature_home分支\ngit add .\ngit commit -m&quot;home component done&quot;\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了</code></pre>","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>平时总结的一些 git command 以及常用的命令</p>\n</blockquote>","more":"<h1 id=\"Command\"><a href=\"#Command\" class=\"headerlink\" title=\"Command\"></a>Command</h1><h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><h3 id=\"设置用户名到-Github-Commit\"><a href=\"#设置用户名到-Github-Commit\" class=\"headerlink\" title=\"设置用户名到 Github Commit\"></a>设置用户名到 Github Commit</h3><p>没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息</p>\n<p><code>git config --global user.name</code><br><code>git config --global user.email</code></p>\n<blockquote>\n<p><code>global</code>将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码</p>\n</blockquote>\n<h2 id=\"分支\"><a href=\"#分支\" class=\"headerlink\" title=\"分支\"></a>分支</h2><h3 id=\"常用的一些指令\"><a href=\"#常用的一些指令\" class=\"headerlink\" title=\"常用的一些指令\"></a>常用的一些指令</h3><pre><code>git branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature</code></pre><h2 id=\"Commit\"><a href=\"#Commit\" class=\"headerlink\" title=\"Commit\"></a>Commit</h2><h3 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h3><p>Gitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码</p>\n<pre><code>递交内容到feature_home分支\ngit add .\ngit commit -m&quot;home component done&quot;\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了</code></pre>"},{"title":"event.target与event.currentTarget","date":"2020-05-29T03:10:15.000Z","comments":0,"cover":"https://i2.wp.com/storage.googleapis.com/blog-images-backup/1*hcws3Wa6u9IqaEZ_4X04uw.jpeg?ssl=1","_content":"\n> JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。\n\n<!-- more -->\n\n# event.target\n\nevent.target 一般我们可以用来绑定触发事件的元素。比如常用可以在`input`上来获取文本内容。\n\n比如我们有一个信息对象，可以用`event.target`来拿到`input`输入的值然后传到`useState`里\n\n```jsx\nfunction handleInput(event) {\n    const {name, value} = event.target\n    setInput(prevInput => {\n        ...prevInput,\n        [name, value]\n\n    })\n}\n\n```\n\n# event.currentTarget\n\n如果我们绑定的是一个元素，比如`<i>`或者`<button>`然后想返回触发事件元素的`id`或者`className`。\n\n我们可以用`event.currentTarget`因为这个可以监听当前被触发事件的元素\n\n```jsx\n;<i id=\"keyid\" onClick={handleEvent}></i>\n\nfunction handleEvent(event) {\n  console.log(event.currentTarget.id)\n}\n```\n\n> keyid\n","source":"_posts/03-js-event-target.md","raw":"---\ntitle: event.target与event.currentTarget\ndate: 2020-05-28 20:10:15\ntags: ['笔记', 'javascript']\ncomments: false\ncategories: '笔记'\ncover: 'https://i2.wp.com/storage.googleapis.com/blog-images-backup/1*hcws3Wa6u9IqaEZ_4X04uw.jpeg?ssl=1'\n---\n\n> JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。\n\n<!-- more -->\n\n# event.target\n\nevent.target 一般我们可以用来绑定触发事件的元素。比如常用可以在`input`上来获取文本内容。\n\n比如我们有一个信息对象，可以用`event.target`来拿到`input`输入的值然后传到`useState`里\n\n```jsx\nfunction handleInput(event) {\n    const {name, value} = event.target\n    setInput(prevInput => {\n        ...prevInput,\n        [name, value]\n\n    })\n}\n\n```\n\n# event.currentTarget\n\n如果我们绑定的是一个元素，比如`<i>`或者`<button>`然后想返回触发事件元素的`id`或者`className`。\n\n我们可以用`event.currentTarget`因为这个可以监听当前被触发事件的元素\n\n```jsx\n;<i id=\"keyid\" onClick={handleEvent}></i>\n\nfunction handleEvent(event) {\n  console.log(event.currentTarget.id)\n}\n```\n\n> keyid\n","slug":"03-js-event-target","published":1,"updated":"2020-06-20T07:15:59.593Z","layout":"post","photos":[],"link":"","_id":"ckbnbuimr0006i0ui7ntz5qs7","content":"<blockquote>\n<p>JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"event-target\"><a href=\"#event-target\" class=\"headerlink\" title=\"event.target\"></a>event.target</h1><p>event.target 一般我们可以用来绑定触发事件的元素。比如常用可以在<code>input</code>上来获取文本内容。</p>\n<p>比如我们有一个信息对象，可以用<code>event.target</code>来拿到<code>input</code>输入的值然后传到<code>useState</code>里</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">handleInput</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target\n    <span class=\"token function\">setInput</span><span class=\"token punctuation\">(</span>prevInput <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>prevInput<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span>\n\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1 id=\"event-currentTarget\"><a href=\"#event-currentTarget\" class=\"headerlink\" title=\"event.currentTarget\"></a>event.currentTarget</h1><p>如果我们绑定的是一个元素，比如<code>&lt;i&gt;</code>或者<code>&lt;button&gt;</code>然后想返回触发事件元素的<code>id</code>或者<code>className</code>。</p>\n<p>我们可以用<code>event.currentTarget</code>因为这个可以监听当前被触发事件的元素</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>keyid<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span>handleEvent<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>currentTarget<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>keyid</p>\n</blockquote>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。</p>\n</blockquote>","more":"<h1 id=\"event-target\"><a href=\"#event-target\" class=\"headerlink\" title=\"event.target\"></a>event.target</h1><p>event.target 一般我们可以用来绑定触发事件的元素。比如常用可以在<code>input</code>上来获取文本内容。</p>\n<p>比如我们有一个信息对象，可以用<code>event.target</code>来拿到<code>input</code>输入的值然后传到<code>useState</code>里</p>\n<pre><code class=\"jsx\">function handleInput(event) {\n    const {name, value} = event.target\n    setInput(prevInput =&gt; {\n        ...prevInput,\n        [name, value]\n\n    })\n}\n</code></pre>\n<h1 id=\"event-currentTarget\"><a href=\"#event-currentTarget\" class=\"headerlink\" title=\"event.currentTarget\"></a>event.currentTarget</h1><p>如果我们绑定的是一个元素，比如<code>&lt;i&gt;</code>或者<code>&lt;button&gt;</code>然后想返回触发事件元素的<code>id</code>或者<code>className</code>。</p>\n<p>我们可以用<code>event.currentTarget</code>因为这个可以监听当前被触发事件的元素</p>\n<pre><code class=\"jsx\">;&lt;i id=&quot;keyid&quot; onClick={handleEvent}&gt;&lt;/i&gt;\n\nfunction handleEvent(event) {\n  console.log(event.currentTarget.id)\n}</code></pre>\n<blockquote>\n<p>keyid</p>\n</blockquote>"},{"title":"利用React Transition Group实现平滑的动画","date":"2020-06-03T03:19:38.000Z","comments":0,"cover":"https://miro.medium.com/max/681/1*heU2x0fIJHE9Fsy1Fn1Hjw.png","_content":"\n> 通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画\n\n<!-- more -->\n\n# 配置\n\n## 安装\n\n使用 Transition 之前我们需要安装 React Transition Group\n\nnpm 下安装\n`npm install react-transition-group --save`\n\nyarn 下安装\n`yarn add react-transition-group`\n\n## 导入\n\n在组件中导入`react-transition-group`\n\n`import {TransitionGroup, CSSTransition} from 'react-transition-group'`\n\n# 路由\n\n假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。\n\n```js\n<Switch location={location}>\n  <Route exact path=\"/setting/profile\">\n    <Profile />\n  </Route>\n  <Route path=\"/setting/theme\">\n    <Apparence />\n  </Route>\n  <Route path=\"/setting/language\">\n    <Language />\n  </Route>\n  <Route path=\"/setting/about\">\n    <About />\n  </Route>\n  <Route path=\"/setting/changelog\">\n    <ChangeLog />\n  </Route>\n</Switch>\n```\n\n然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层\n\n```js\n<TransitionGroup>\n  <CSSTransition\n    key={location.key}\n    timeout={{ enter: 1000, exit: 1000 }}\n    classNames=\"fade\"\n  ></CSSTransition>\n</TransitionGroup>\n```\n\nReact 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key\n`timeout`用来设置我们动画的时长。`classNames`用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了`fade`，我们在 css 中就可以写`fade-enter`, `fade-enter-active`, `fade-exit`, `fade-exit-active`来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。\n\n```css\n//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n.fade-enter {\n  opacity: 0;\n  transform: translateX(-50px);\n}\n\n//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n.fade-enter-active {\n  opacity: 1;\n  transform: translateX(0px);\n  transition: all 1s;\n}\n\n//退出动画起始设置为默认\n.fade-exit {\n  opacity: 1;\n  transform: translateX(0px);\n}\n\n//退出动画开始 向右偏移并透明度变为0\n.fade-exit-active {\n  opacity: 0;\n  transform: translateX(50px);\n  transition: all 1s;\n}\n```\n","source":"_posts/04-react-css-transition.md","raw":"---\ntitle: 利用React Transition Group实现平滑的动画\ndate: 2020-06-02 20:19:38\ntags: ['笔记', 'react', 'react-router']\ncomments: false\ncategories: '笔记'\ncover: 'https://miro.medium.com/max/681/1*heU2x0fIJHE9Fsy1Fn1Hjw.png'\n---\n\n> 通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画\n\n<!-- more -->\n\n# 配置\n\n## 安装\n\n使用 Transition 之前我们需要安装 React Transition Group\n\nnpm 下安装\n`npm install react-transition-group --save`\n\nyarn 下安装\n`yarn add react-transition-group`\n\n## 导入\n\n在组件中导入`react-transition-group`\n\n`import {TransitionGroup, CSSTransition} from 'react-transition-group'`\n\n# 路由\n\n假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。\n\n```js\n<Switch location={location}>\n  <Route exact path=\"/setting/profile\">\n    <Profile />\n  </Route>\n  <Route path=\"/setting/theme\">\n    <Apparence />\n  </Route>\n  <Route path=\"/setting/language\">\n    <Language />\n  </Route>\n  <Route path=\"/setting/about\">\n    <About />\n  </Route>\n  <Route path=\"/setting/changelog\">\n    <ChangeLog />\n  </Route>\n</Switch>\n```\n\n然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层\n\n```js\n<TransitionGroup>\n  <CSSTransition\n    key={location.key}\n    timeout={{ enter: 1000, exit: 1000 }}\n    classNames=\"fade\"\n  ></CSSTransition>\n</TransitionGroup>\n```\n\nReact 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key\n`timeout`用来设置我们动画的时长。`classNames`用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了`fade`，我们在 css 中就可以写`fade-enter`, `fade-enter-active`, `fade-exit`, `fade-exit-active`来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。\n\n```css\n//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n.fade-enter {\n  opacity: 0;\n  transform: translateX(-50px);\n}\n\n//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n.fade-enter-active {\n  opacity: 1;\n  transform: translateX(0px);\n  transition: all 1s;\n}\n\n//退出动画起始设置为默认\n.fade-exit {\n  opacity: 1;\n  transform: translateX(0px);\n}\n\n//退出动画开始 向右偏移并透明度变为0\n.fade-exit-active {\n  opacity: 0;\n  transform: translateX(50px);\n  transition: all 1s;\n}\n```\n","slug":"04-react-css-transition","published":1,"updated":"2020-06-20T07:15:17.902Z","layout":"post","photos":[],"link":"","_id":"ckbnbuims0007i0ui9svkfeoa","content":"<blockquote>\n<p>通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h1><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>使用 Transition 之前我们需要安装 React Transition Group</p>\n<p>npm 下安装<br><code>npm install react-transition-group --save</code></p>\n<p>yarn 下安装<br><code>yarn add react-transition-group</code></p>\n<h2 id=\"导入\"><a href=\"#导入\" class=\"headerlink\" title=\"导入\"></a>导入</h2><p>在组件中导入<code>react-transition-group</code></p>\n<p><code>import {TransitionGroup, CSSTransition} from &#39;react-transition-group&#39;</code></p>\n<h1 id=\"路由\"><a href=\"#路由\" class=\"headerlink\" title=\"路由\"></a>路由</h1><p>假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>Switch location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/profile\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Profile <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/theme\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Apparence <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/language\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Language <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/about\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>About <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/changelog\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>ChangeLog <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span></code></pre>\n<p>然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>TransitionGroup<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>CSSTransition\n    key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">}</span>\n    timeout<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> enter<span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> exit<span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    classNames<span class=\"token operator\">=</span><span class=\"token string\">\"fade\"</span>\n  <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>CSSTransition<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>TransitionGroup<span class=\"token operator\">></span></code></pre>\n<p>React 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key<br><code>timeout</code>用来设置我们动画的时长。<code>classNames</code>用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了<code>fade</code>，我们在 css 中就可以写<code>fade-enter</code>, <code>fade-enter-active</code>, <code>fade-exit</code>, <code>fade-exit-active</code>来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。</p>\n<pre class=\" language-css\"><code class=\"language-css\"><span class=\"token selector\">//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n<span class=\"token class\">.fade-enter</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span>-<span class=\"token number\">50</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n<span class=\"token class\">.fade-enter-active</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all <span class=\"token number\">1</span>s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">//退出动画起始设置为默认\n<span class=\"token class\">.fade-exit</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">//退出动画开始 向右偏移并透明度变为0\n<span class=\"token class\">.fade-exit-active</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all <span class=\"token number\">1</span>s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画</p>\n</blockquote>","more":"<h1 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h1><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>使用 Transition 之前我们需要安装 React Transition Group</p>\n<p>npm 下安装<br><code>npm install react-transition-group --save</code></p>\n<p>yarn 下安装<br><code>yarn add react-transition-group</code></p>\n<h2 id=\"导入\"><a href=\"#导入\" class=\"headerlink\" title=\"导入\"></a>导入</h2><p>在组件中导入<code>react-transition-group</code></p>\n<p><code>import {TransitionGroup, CSSTransition} from &#39;react-transition-group&#39;</code></p>\n<h1 id=\"路由\"><a href=\"#路由\" class=\"headerlink\" title=\"路由\"></a>路由</h1><p>假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。</p>\n<pre><code class=\"js\">&lt;Switch location={location}&gt;\n  &lt;Route exact path=&quot;/setting/profile&quot;&gt;\n    &lt;Profile /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/theme&quot;&gt;\n    &lt;Apparence /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/language&quot;&gt;\n    &lt;Language /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/about&quot;&gt;\n    &lt;About /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/changelog&quot;&gt;\n    &lt;ChangeLog /&gt;\n  &lt;/Route&gt;\n&lt;/Switch&gt;</code></pre>\n<p>然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层</p>\n<pre><code class=\"js\">&lt;TransitionGroup&gt;\n  &lt;CSSTransition\n    key={location.key}\n    timeout={{ enter: 1000, exit: 1000 }}\n    classNames=&quot;fade&quot;\n  &gt;&lt;/CSSTransition&gt;\n&lt;/TransitionGroup&gt;</code></pre>\n<p>React 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key<br><code>timeout</code>用来设置我们动画的时长。<code>classNames</code>用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了<code>fade</code>，我们在 css 中就可以写<code>fade-enter</code>, <code>fade-enter-active</code>, <code>fade-exit</code>, <code>fade-exit-active</code>来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。</p>\n<pre><code class=\"css\">//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n.fade-enter {\n  opacity: 0;\n  transform: translateX(-50px);\n}\n\n//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n.fade-enter-active {\n  opacity: 1;\n  transform: translateX(0px);\n  transition: all 1s;\n}\n\n//退出动画起始设置为默认\n.fade-exit {\n  opacity: 1;\n  transform: translateX(0px);\n}\n\n//退出动画开始 向右偏移并透明度变为0\n.fade-exit-active {\n  opacity: 0;\n  transform: translateX(50px);\n  transition: all 1s;\n}</code></pre>"},{"title":"JavaScript 笔记","date":"2020-06-09T05:15:48.000Z","comments":0,"cover":"https://i2.wp.com/storage.googleapis.com/blog-images-backup/1*hcws3Wa6u9IqaEZ_4X04uw.jpeg?ssl=1","_content":"\n> JavaScript 数组，对象，类，函数的常用用法以及备忘录\n\n<!-- more -->\n\n## Variables & Strings\n\n### Template Literals\n\n```js\nlet weight = 74\nlet msg = `Your body weight is ${weight * 2.2} pounds`\nconsole.log(msg)\n```\n\nOutput\n\n> Your body weight is 162.8 pounds\n\n## Function\n\n### Function Closure\n\n```js\nfunction countingdown() {\n  let initNum = 0\n  return function decrement() {\n    initNum -= 1\n  }\n  decrement()\n}\n\nconst countingDown = countingdown()\n\nconsole.log(countingDown())\nconsole.log(countingDown())\nconsole.log(countingDown())\n```\n\n### Default Parameter\n\n```js\nfunction convertTemperature(celsius, decimalPlaces = 1) {\n  const fahrenheit = celsius * 1.8 + 32\n  return Number(fahrenheit.toFixed(decimalPlaces))\n}\n\nconsole.log(convertTemperature(21, 0))\n```\n\n### Arrow Function\n\n#### Object\n\n```js\nconst setName = (id, name) => `id: ${id} name: ${name}`\nconsole.log(setName(1, 'Yang'))\n```\n\n#### Map\n\n```js\nconst prices = products.map(item => item.price)\nconsole.log(prices) //[array of items price]\n```\n\n#### Fecth\n\n```js\n//fetch data from API\nfunction getData(baseUrl) {\n  return function (route) {\n    return function (callback) {\n      fetch(`${baseUrl}${route}`)\n        .then(response => response.json)\n        .then(data => callback(data))\n    }\n  }\n}\n\n//store API data getSocialMediaData\nconst getSocialMediaData = getData('https://jsonplaceholder.typicode.com')\n\n//post route\nconst getSocialMediaPosts = getSocialMediaData('/posts')\n//comment route\nconst getSocialMediaComments = getSocialMediaData('/comments')\n\n//List all the post title\ngetSocialMediaPosts(posts => {\n  posts.forEach(post => console.log(post.title))\n})\n```\n\n## Objects & Maps\n\n### Get and Modify Object Data\n\n```js\nconst color = 'black'\nconst hexCode = '000'\n\n//squat notation [] dynamically change object pair values\nconst colors = {\n  [color]: hexCode,\n}\n\ndelete colors['blue']\nconsole.log(colors)\n```\n\n### Object Destructing\n\n```js\nconst user = {\n  name: 'Yang',\n  username: 'yang052513',\n  email: 'liyang0525@hotmail.com',\n  details: {\n    title: 'Web developer',\n  },\n  getBio() {\n    console.log(`User ${this.name} is a ${this.details.title}`)\n  },\n\n  askToFriend() {\n    //嵌套函数用arrow function解决this binding问题\n    setTimeout(() => {\n      console.log(`Would you like to friend ${this.name}`)\n    }, 2000)\n  },\n}\n\nuser.getBio()\n```\n\n### Map\n\n```js\nconst user1 = 'Yang'\nconst key1 = '1'\n\n//创建一个新的map并插入用户1的key和value\nconst userMap = new Map([[key1, user1]])\n\n//插入key为2 value为nathan到userMap\nuserMap.set('2', 'Nathan')\n\n//循环userMap并打印每个数据\nconst display = values => document.writeln(values + '<br>')\nuserMap.forEach(display)\n\n//取得用户key为1的value\nconst key = userMap.get('1')\nconsole.log(key)\n\n//userMap大小\nconsole.log(userMap.size)\n```\n\n## Arrays & Sets\n\n### Element Existence .some() & .every()\n\n```js\nconst array = [\n  {\n    name: 'Attack on titan',\n    rating: 9.8,\n    episode: 24,\n  },\n  {\n    name: 'Fate stay night',\n    rating: 4.8,\n    episode: 13,\n  },\n  {\n    name: 'Haikyuu',\n    rating: 10.0,\n    episode: 24,\n  },\n]\n\n//测试是否至少有一个元素的rating小于5\nconst ratingTest = item => item.rating < 5\nconst episodeTest = item => item.episode > 12\nconsole.log(`至少有一部动画评分小于5分: ${array.some(ratingTest)}`)\nconsole.log(`每部动画集数大于12: ${array.every(episodeTest)}`)\n```\n\n### Perform Actions on All Elements: .map() & forEach() Method\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'clannad', episode: 24, rating: 3.2 },\n  { name: 'Bokuno name', episode: 8, rating: 9.8 },\n]\n\n//重构一个新的array newAnimations\nconst newAnimations = animations.map(animes =>\n  //对animations里的每一个对象执行一下\n  //如果rating大于8 在原object的基础上merge isHighRank\n  //其他保持不变\n  animes.rating > 8 ? { ...animes, isHighRank: true } : animes\n)\n\n//循环newAnimations里的每一个对象\nnewAnimations.forEach(animes => {\n  animes.isHighRank\n    ? console.log(`${animes.name} is recommended by other users`)\n    : null\n})\nconsole.log(newAnimations)\n```\n\n### Subsets of Arrays .filter() & .find()\n\n`.filter`: 返回匹配条件的新数组\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'aksa', episode: 24, rating: 3.2 },\n  { name: 'air', episode: 8, rating: 9.8 },\n]\n\n//如果没有匹配结果 返回空数组\nconst animationA = animations.filter(\n  animes => animes.name.toLowerCase().startsWith('a') && animes.rating > 7\n)\nconsole.log(animationA)\n```\n\n`.find()`: 返回匹配条件的**第一个元素/对象**\n\n```js\nconst animations = [\n  { name: 'haikyuu to top', episode: 12, rating: 6.8 },\n  { name: 'haikyuu2', episode: 13, rating: 9.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n]\n\nconst animationSearch = animations.find(\n  anime => anime.name.toLowerCase().includes('haikyuu') && anime.rating > 9\n)\n\nconsole.log(animationSearch)\n```\n\n### Transform Arrays .reduce()\n\n#### Accumulator Array\n\n```js\nconst cart = [\n  { item: 'Squat Stand 2.0', price: 460.89 },\n  { item: 'Falt Utility Bench', price: 230 },\n  { item: 'Ohio Power Bar', price: 385.23 },\n]\n\n//cart数组中的每个值累加\n//0 as initialize value\nconst cartTotal = cart.reduce((subtotal, cartItem) => {\n  return subtotal + cartItem.price\n}, 0)\nconsole.log(cartTotal)\n```\n\n#### Double Array Values\n\n```js\nconst numbers = [1, 2, 3, 4, 5, 6]\n\nconst doubleNum = numbers.reduce((acc, num) => {\n  acc.push(num * 2)\n  return acc\n}, [])\n\nconst greaterThree = numbers.reduce((acc, num) => {\n  if (num > 3) {\n    acc.push(num)\n  }\n  return acc\n}, 0)\n\n//const doubleNum = numbers.map(num => num * 2)\n//const greaterThree = numbers.filter(num => num > 3)\n\nconsole.log(doubleNum)\nconsole.log(greaterThree)\n```\n\n### Modify Arry with Spread Operator ...\n\nAvoid Array Mutation\n\n```js\nconst aprilAnimation = ['Haikyuu', 'Attack on Tatin']\nconst sepAnimation = ['Dango', 'Physico Pass']\n//clone aprilAnimation into allAnimation\nconst allAnimation = [...aprilAnimation, ...sepAnimation]\n//now use array method will not change aprilAnimation array\nallAnimation.push('Clannad')\nconsole.log(allAnimation)\n```\n\n### Get Unique Sets of Data new Set()\n\n```js\nconst animeVote = [\n  'Attack on titan',\n  'Fate Stay Night',\n  'Attack on titan',\n  'Hero',\n]\n\n//先调用Set method重组新的unqie数组 然后保存到新的数组\nconst uniqueAnimeVote = [...new Set(animeVote)]\nconsole.log(uniqueAnimeVote)\n```\n\n## Classes\n\n### Constructor Function\n\n```js\nfunction Student(id, name, courses = []) {\n  this.id = id\n  this.name = name\n  this.courses = courses\n}\n\n//Student method\nStudent.prototype.addCourse = function (course) {\n  //merge the current student couse array with new courses\n  this.courses = [...this.courses, course]\n}\n\nconst s1 = new Student(3, 'Yang', ['Chinese', 'English', 'Math', 'Computer'])\n\ns1.addCourse('Powerlifting')\nconsole.log(s1.courses)\n```\n\n### Classes\n\n```js\nclass Student {\n  constructor(id, name, subjects = []) {\n    this.id = id\n    this.name = name\n    this.subjects = subjects\n  }\n\n  getStdName() {\n    return `Student: ${this.name}`\n  }\n\n  setStdName(name) {\n    this.name = name\n  }\n}\n\nconst s1 = new Student(1, 'Yang', 'Math')\nconsole.log(s1.getStdName())\n```\n\n<br>\n\n### Inheritance\n\n```js\nclass Product {\n  constructor(name, price, discountable) {\n    this.name = name\n    this.price = price\n    this.discountable = discountable\n  }\n\n  isDiscountable() {\n    return this.discountable\n  }\n}\n\nclass SaleProduct extends Product {\n  constructor(name, price, discountable, percentOff) {\n    super(name, price, discountable)\n    this.percentOff = percentOff\n  }\n\n  getSalePrice() {\n    if (super.isDiscountable()) {\n      return this.price * ((100 - this.percentOff) / 100)\n    } else {\n      return `${this.name} is not eligible for a discount`\n    }\n  }\n}\n\nconst saleProduct1 = new SaleProduct('Coffee Maker', 99, false, 20)\nconsole.log(saleProduct1.getSalePrice())\n```\n\n### Binding method to Class\n\n```js\nconst isAuth = true\nconst user = {\n  favorites: [],\n}\n\nclass Product {\n  constructor(name, price) {\n    this.name = name\n    this.price = price\n    //Bind favoriteProduct method to Product class\n    this.favoriteProduct = this.favoriteProduct.bind(this)\n  }\n\n  handleFavoriteProduct = () => {\n    if (isAuth) {\n      setTimeout(this.favoriteProduct, 1000)\n    } else {\n      console.log('You must be signed in to favorite products!')\n    }\n  }\n\n  favoriteProduct = () => {\n    user.favorites.push(this.name)\n    console.log(`${this.name} favorited!`)\n  }\n}\n\nconst product1 = new Product('Coaster', 89.99)\nproduct1.handleFavoriteProduct()\n```\n","source":"_posts/05-javascript.md","raw":"---\ntitle: JavaScript 笔记\ndate: 2020-06-08 22:15:48\ntags: ['笔记', 'JavaScript']\ncomments: false\ncategories: '笔记'\ncover: 'https://i2.wp.com/storage.googleapis.com/blog-images-backup/1*hcws3Wa6u9IqaEZ_4X04uw.jpeg?ssl=1'\n---\n\n> JavaScript 数组，对象，类，函数的常用用法以及备忘录\n\n<!-- more -->\n\n## Variables & Strings\n\n### Template Literals\n\n```js\nlet weight = 74\nlet msg = `Your body weight is ${weight * 2.2} pounds`\nconsole.log(msg)\n```\n\nOutput\n\n> Your body weight is 162.8 pounds\n\n## Function\n\n### Function Closure\n\n```js\nfunction countingdown() {\n  let initNum = 0\n  return function decrement() {\n    initNum -= 1\n  }\n  decrement()\n}\n\nconst countingDown = countingdown()\n\nconsole.log(countingDown())\nconsole.log(countingDown())\nconsole.log(countingDown())\n```\n\n### Default Parameter\n\n```js\nfunction convertTemperature(celsius, decimalPlaces = 1) {\n  const fahrenheit = celsius * 1.8 + 32\n  return Number(fahrenheit.toFixed(decimalPlaces))\n}\n\nconsole.log(convertTemperature(21, 0))\n```\n\n### Arrow Function\n\n#### Object\n\n```js\nconst setName = (id, name) => `id: ${id} name: ${name}`\nconsole.log(setName(1, 'Yang'))\n```\n\n#### Map\n\n```js\nconst prices = products.map(item => item.price)\nconsole.log(prices) //[array of items price]\n```\n\n#### Fecth\n\n```js\n//fetch data from API\nfunction getData(baseUrl) {\n  return function (route) {\n    return function (callback) {\n      fetch(`${baseUrl}${route}`)\n        .then(response => response.json)\n        .then(data => callback(data))\n    }\n  }\n}\n\n//store API data getSocialMediaData\nconst getSocialMediaData = getData('https://jsonplaceholder.typicode.com')\n\n//post route\nconst getSocialMediaPosts = getSocialMediaData('/posts')\n//comment route\nconst getSocialMediaComments = getSocialMediaData('/comments')\n\n//List all the post title\ngetSocialMediaPosts(posts => {\n  posts.forEach(post => console.log(post.title))\n})\n```\n\n## Objects & Maps\n\n### Get and Modify Object Data\n\n```js\nconst color = 'black'\nconst hexCode = '000'\n\n//squat notation [] dynamically change object pair values\nconst colors = {\n  [color]: hexCode,\n}\n\ndelete colors['blue']\nconsole.log(colors)\n```\n\n### Object Destructing\n\n```js\nconst user = {\n  name: 'Yang',\n  username: 'yang052513',\n  email: 'liyang0525@hotmail.com',\n  details: {\n    title: 'Web developer',\n  },\n  getBio() {\n    console.log(`User ${this.name} is a ${this.details.title}`)\n  },\n\n  askToFriend() {\n    //嵌套函数用arrow function解决this binding问题\n    setTimeout(() => {\n      console.log(`Would you like to friend ${this.name}`)\n    }, 2000)\n  },\n}\n\nuser.getBio()\n```\n\n### Map\n\n```js\nconst user1 = 'Yang'\nconst key1 = '1'\n\n//创建一个新的map并插入用户1的key和value\nconst userMap = new Map([[key1, user1]])\n\n//插入key为2 value为nathan到userMap\nuserMap.set('2', 'Nathan')\n\n//循环userMap并打印每个数据\nconst display = values => document.writeln(values + '<br>')\nuserMap.forEach(display)\n\n//取得用户key为1的value\nconst key = userMap.get('1')\nconsole.log(key)\n\n//userMap大小\nconsole.log(userMap.size)\n```\n\n## Arrays & Sets\n\n### Element Existence .some() & .every()\n\n```js\nconst array = [\n  {\n    name: 'Attack on titan',\n    rating: 9.8,\n    episode: 24,\n  },\n  {\n    name: 'Fate stay night',\n    rating: 4.8,\n    episode: 13,\n  },\n  {\n    name: 'Haikyuu',\n    rating: 10.0,\n    episode: 24,\n  },\n]\n\n//测试是否至少有一个元素的rating小于5\nconst ratingTest = item => item.rating < 5\nconst episodeTest = item => item.episode > 12\nconsole.log(`至少有一部动画评分小于5分: ${array.some(ratingTest)}`)\nconsole.log(`每部动画集数大于12: ${array.every(episodeTest)}`)\n```\n\n### Perform Actions on All Elements: .map() & forEach() Method\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'clannad', episode: 24, rating: 3.2 },\n  { name: 'Bokuno name', episode: 8, rating: 9.8 },\n]\n\n//重构一个新的array newAnimations\nconst newAnimations = animations.map(animes =>\n  //对animations里的每一个对象执行一下\n  //如果rating大于8 在原object的基础上merge isHighRank\n  //其他保持不变\n  animes.rating > 8 ? { ...animes, isHighRank: true } : animes\n)\n\n//循环newAnimations里的每一个对象\nnewAnimations.forEach(animes => {\n  animes.isHighRank\n    ? console.log(`${animes.name} is recommended by other users`)\n    : null\n})\nconsole.log(newAnimations)\n```\n\n### Subsets of Arrays .filter() & .find()\n\n`.filter`: 返回匹配条件的新数组\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'aksa', episode: 24, rating: 3.2 },\n  { name: 'air', episode: 8, rating: 9.8 },\n]\n\n//如果没有匹配结果 返回空数组\nconst animationA = animations.filter(\n  animes => animes.name.toLowerCase().startsWith('a') && animes.rating > 7\n)\nconsole.log(animationA)\n```\n\n`.find()`: 返回匹配条件的**第一个元素/对象**\n\n```js\nconst animations = [\n  { name: 'haikyuu to top', episode: 12, rating: 6.8 },\n  { name: 'haikyuu2', episode: 13, rating: 9.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n]\n\nconst animationSearch = animations.find(\n  anime => anime.name.toLowerCase().includes('haikyuu') && anime.rating > 9\n)\n\nconsole.log(animationSearch)\n```\n\n### Transform Arrays .reduce()\n\n#### Accumulator Array\n\n```js\nconst cart = [\n  { item: 'Squat Stand 2.0', price: 460.89 },\n  { item: 'Falt Utility Bench', price: 230 },\n  { item: 'Ohio Power Bar', price: 385.23 },\n]\n\n//cart数组中的每个值累加\n//0 as initialize value\nconst cartTotal = cart.reduce((subtotal, cartItem) => {\n  return subtotal + cartItem.price\n}, 0)\nconsole.log(cartTotal)\n```\n\n#### Double Array Values\n\n```js\nconst numbers = [1, 2, 3, 4, 5, 6]\n\nconst doubleNum = numbers.reduce((acc, num) => {\n  acc.push(num * 2)\n  return acc\n}, [])\n\nconst greaterThree = numbers.reduce((acc, num) => {\n  if (num > 3) {\n    acc.push(num)\n  }\n  return acc\n}, 0)\n\n//const doubleNum = numbers.map(num => num * 2)\n//const greaterThree = numbers.filter(num => num > 3)\n\nconsole.log(doubleNum)\nconsole.log(greaterThree)\n```\n\n### Modify Arry with Spread Operator ...\n\nAvoid Array Mutation\n\n```js\nconst aprilAnimation = ['Haikyuu', 'Attack on Tatin']\nconst sepAnimation = ['Dango', 'Physico Pass']\n//clone aprilAnimation into allAnimation\nconst allAnimation = [...aprilAnimation, ...sepAnimation]\n//now use array method will not change aprilAnimation array\nallAnimation.push('Clannad')\nconsole.log(allAnimation)\n```\n\n### Get Unique Sets of Data new Set()\n\n```js\nconst animeVote = [\n  'Attack on titan',\n  'Fate Stay Night',\n  'Attack on titan',\n  'Hero',\n]\n\n//先调用Set method重组新的unqie数组 然后保存到新的数组\nconst uniqueAnimeVote = [...new Set(animeVote)]\nconsole.log(uniqueAnimeVote)\n```\n\n## Classes\n\n### Constructor Function\n\n```js\nfunction Student(id, name, courses = []) {\n  this.id = id\n  this.name = name\n  this.courses = courses\n}\n\n//Student method\nStudent.prototype.addCourse = function (course) {\n  //merge the current student couse array with new courses\n  this.courses = [...this.courses, course]\n}\n\nconst s1 = new Student(3, 'Yang', ['Chinese', 'English', 'Math', 'Computer'])\n\ns1.addCourse('Powerlifting')\nconsole.log(s1.courses)\n```\n\n### Classes\n\n```js\nclass Student {\n  constructor(id, name, subjects = []) {\n    this.id = id\n    this.name = name\n    this.subjects = subjects\n  }\n\n  getStdName() {\n    return `Student: ${this.name}`\n  }\n\n  setStdName(name) {\n    this.name = name\n  }\n}\n\nconst s1 = new Student(1, 'Yang', 'Math')\nconsole.log(s1.getStdName())\n```\n\n<br>\n\n### Inheritance\n\n```js\nclass Product {\n  constructor(name, price, discountable) {\n    this.name = name\n    this.price = price\n    this.discountable = discountable\n  }\n\n  isDiscountable() {\n    return this.discountable\n  }\n}\n\nclass SaleProduct extends Product {\n  constructor(name, price, discountable, percentOff) {\n    super(name, price, discountable)\n    this.percentOff = percentOff\n  }\n\n  getSalePrice() {\n    if (super.isDiscountable()) {\n      return this.price * ((100 - this.percentOff) / 100)\n    } else {\n      return `${this.name} is not eligible for a discount`\n    }\n  }\n}\n\nconst saleProduct1 = new SaleProduct('Coffee Maker', 99, false, 20)\nconsole.log(saleProduct1.getSalePrice())\n```\n\n### Binding method to Class\n\n```js\nconst isAuth = true\nconst user = {\n  favorites: [],\n}\n\nclass Product {\n  constructor(name, price) {\n    this.name = name\n    this.price = price\n    //Bind favoriteProduct method to Product class\n    this.favoriteProduct = this.favoriteProduct.bind(this)\n  }\n\n  handleFavoriteProduct = () => {\n    if (isAuth) {\n      setTimeout(this.favoriteProduct, 1000)\n    } else {\n      console.log('You must be signed in to favorite products!')\n    }\n  }\n\n  favoriteProduct = () => {\n    user.favorites.push(this.name)\n    console.log(`${this.name} favorited!`)\n  }\n}\n\nconst product1 = new Product('Coaster', 89.99)\nproduct1.handleFavoriteProduct()\n```\n","slug":"05-javascript","published":1,"updated":"2020-06-20T07:14:21.244Z","layout":"post","photos":[],"link":"","_id":"ckbnbuimt0008i0ui4n1v0peu","content":"<blockquote>\n<p>JavaScript 数组，对象，类，函数的常用用法以及备忘录</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"Variables-amp-Strings\"><a href=\"#Variables-amp-Strings\" class=\"headerlink\" title=\"Variables &amp; Strings\"></a>Variables &amp; Strings</h2><h3 id=\"Template-Literals\"><a href=\"#Template-Literals\" class=\"headerlink\" title=\"Template Literals\"></a>Template Literals</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> weight <span class=\"token operator\">=</span> <span class=\"token number\">74</span>\n<span class=\"token keyword\">let</span> msg <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`Your body weight is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>weight <span class=\"token operator\">*</span> <span class=\"token number\">2.2</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> pounds`</span></span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span></code></pre>\n<p>Output</p>\n<blockquote>\n<p>Your body weight is 162.8 pounds</p>\n</blockquote>\n<h2 id=\"Function\"><a href=\"#Function\" class=\"headerlink\" title=\"Function\"></a>Function</h2><h3 id=\"Function-Closure\"><a href=\"#Function-Closure\" class=\"headerlink\" title=\"Function Closure\"></a>Function Closure</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">countingdown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> initNum <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">decrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    initNum <span class=\"token operator\">-</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">decrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> countingDown <span class=\"token operator\">=</span> <span class=\"token function\">countingdown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">countingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">countingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">countingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Default-Parameter\"><a href=\"#Default-Parameter\" class=\"headerlink\" title=\"Default Parameter\"></a>Default Parameter</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">convertTemperature</span><span class=\"token punctuation\">(</span>celsius<span class=\"token punctuation\">,</span> decimalPlaces <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fahrenheit <span class=\"token operator\">=</span> celsius <span class=\"token operator\">*</span> <span class=\"token number\">1.8</span> <span class=\"token operator\">+</span> <span class=\"token number\">32</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>fahrenheit<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span>decimalPlaces<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">convertTemperature</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Arrow-Function\"><a href=\"#Arrow-Function\" class=\"headerlink\" title=\"Arrow Function\"></a>Arrow Function</h3><h4 id=\"Object\"><a href=\"#Object\" class=\"headerlink\" title=\"Object\"></a>Object</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> setName <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token template-string\"><span class=\"token string\">`id: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> name: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map\"></a>Map</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> prices <span class=\"token operator\">=</span> products<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=</span><span class=\"token operator\">></span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>prices<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//[array of items price]</span></code></pre>\n<h4 id=\"Fecth\"><a href=\"#Fecth\" class=\"headerlink\" title=\"Fecth\"></a>Fecth</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token comment\" spellcheck=\"true\">//fetch data from API</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>route<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>baseUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>route<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>response <span class=\"token operator\">=</span><span class=\"token operator\">></span> response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//store API data getSocialMediaData</span>\n<span class=\"token keyword\">const</span> getSocialMediaData <span class=\"token operator\">=</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://jsonplaceholder.typicode.com'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//post route</span>\n<span class=\"token keyword\">const</span> getSocialMediaPosts <span class=\"token operator\">=</span> <span class=\"token function\">getSocialMediaData</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">//comment route</span>\n<span class=\"token keyword\">const</span> getSocialMediaComments <span class=\"token operator\">=</span> <span class=\"token function\">getSocialMediaData</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/comments'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//List all the post title</span>\n<span class=\"token function\">getSocialMediaPosts</span><span class=\"token punctuation\">(</span>posts <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>post <span class=\"token operator\">=</span><span class=\"token operator\">></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Objects-amp-Maps\"><a href=\"#Objects-amp-Maps\" class=\"headerlink\" title=\"Objects &amp; Maps\"></a>Objects &amp; Maps</h2><h3 id=\"Get-and-Modify-Object-Data\"><a href=\"#Get-and-Modify-Object-Data\" class=\"headerlink\" title=\"Get and Modify Object Data\"></a>Get and Modify Object Data</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> color <span class=\"token operator\">=</span> <span class=\"token string\">'black'</span>\n<span class=\"token keyword\">const</span> hexCode <span class=\"token operator\">=</span> <span class=\"token string\">'000'</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//squat notation [] dynamically change object pair values</span>\n<span class=\"token keyword\">const</span> colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>color<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> hexCode<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">delete</span> colors<span class=\"token punctuation\">[</span><span class=\"token string\">'blue'</span><span class=\"token punctuation\">]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Object-Destructing\"><a href=\"#Object-Destructing\" class=\"headerlink\" title=\"Object Destructing\"></a>Object Destructing</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span>\n  username<span class=\"token punctuation\">:</span> <span class=\"token string\">'yang052513'</span><span class=\"token punctuation\">,</span>\n  email<span class=\"token punctuation\">:</span> <span class=\"token string\">'liyang0525@hotmail.com'</span><span class=\"token punctuation\">,</span>\n  details<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Web developer'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">getBio</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`User </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is a </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>details<span class=\"token punctuation\">.</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">askToFriend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">//嵌套函数用arrow function解决this binding问题</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`Would you like to friend </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nuser<span class=\"token punctuation\">.</span><span class=\"token function\">getBio</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Map-1\"><a href=\"#Map-1\" class=\"headerlink\" title=\"Map\"></a>Map</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user1 <span class=\"token operator\">=</span> <span class=\"token string\">'Yang'</span>\n<span class=\"token keyword\">const</span> key1 <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//创建一个新的map并插入用户1的key和value</span>\n<span class=\"token keyword\">const</span> userMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>key1<span class=\"token punctuation\">,</span> user1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//插入key为2 value为nathan到userMap</span>\nuserMap<span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Nathan'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//循环userMap并打印每个数据</span>\n<span class=\"token keyword\">const</span> display <span class=\"token operator\">=</span> values <span class=\"token operator\">=</span><span class=\"token operator\">></span> document<span class=\"token punctuation\">.</span><span class=\"token function\">writeln</span><span class=\"token punctuation\">(</span>values <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;br>'</span><span class=\"token punctuation\">)</span>\nuserMap<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>display<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//取得用户key为1的value</span>\n<span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> userMap<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//userMap大小</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>userMap<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Arrays-amp-Sets\"><a href=\"#Arrays-amp-Sets\" class=\"headerlink\" title=\"Arrays &amp; Sets\"></a>Arrays &amp; Sets</h2><h3 id=\"Element-Existence-some-amp-every\"><a href=\"#Element-Existence-some-amp-every\" class=\"headerlink\" title=\"Element Existence .some() &amp; .every()\"></a>Element Existence .some() &amp; .every()</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Attack on titan'</span><span class=\"token punctuation\">,</span>\n    rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.8</span><span class=\"token punctuation\">,</span>\n    episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Fate stay night'</span><span class=\"token punctuation\">,</span>\n    rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.8</span><span class=\"token punctuation\">,</span>\n    episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Haikyuu'</span><span class=\"token punctuation\">,</span>\n    rating<span class=\"token punctuation\">:</span> <span class=\"token number\">10.0</span><span class=\"token punctuation\">,</span>\n    episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//测试是否至少有一个元素的rating小于5</span>\n<span class=\"token keyword\">const</span> ratingTest <span class=\"token operator\">=</span> item <span class=\"token operator\">=</span><span class=\"token operator\">></span> item<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span>\n<span class=\"token keyword\">const</span> episodeTest <span class=\"token operator\">=</span> item <span class=\"token operator\">=</span><span class=\"token operator\">></span> item<span class=\"token punctuation\">.</span>episode <span class=\"token operator\">></span> <span class=\"token number\">12</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`至少有一部动画评分小于5分: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>array<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span>ratingTest<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`每部动画集数大于12: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>array<span class=\"token punctuation\">.</span><span class=\"token function\">every</span><span class=\"token punctuation\">(</span>episodeTest<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Perform-Actions-on-All-Elements-map-amp-forEach-Method\"><a href=\"#Perform-Actions-on-All-Elements-map-amp-forEach-Method\" class=\"headerlink\" title=\"Perform Actions on All Elements: .map() &amp; forEach() Method\"></a>Perform Actions on All Elements: .map() &amp; forEach() Method</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'attack on titan'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">6.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'fate stay night'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">7.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'clannad'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">3.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Bokuno name'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//重构一个新的array newAnimations</span>\n<span class=\"token keyword\">const</span> newAnimations <span class=\"token operator\">=</span> animations<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>animes <span class=\"token operator\">=</span><span class=\"token operator\">></span>\n  <span class=\"token comment\" spellcheck=\"true\">//对animations里的每一个对象执行一下</span>\n  <span class=\"token comment\" spellcheck=\"true\">//如果rating大于8 在原object的基础上merge isHighRank</span>\n  <span class=\"token comment\" spellcheck=\"true\">//其他保持不变</span>\n  animes<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">></span> <span class=\"token number\">8</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>animes<span class=\"token punctuation\">,</span> isHighRank<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">:</span> animes\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//循环newAnimations里的每一个对象</span>\nnewAnimations<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>animes <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  animes<span class=\"token punctuation\">.</span>isHighRank\n    <span class=\"token operator\">?</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>animes<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is recommended by other users`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newAnimations<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Subsets-of-Arrays-filter-amp-find\"><a href=\"#Subsets-of-Arrays-filter-amp-find\" class=\"headerlink\" title=\"Subsets of Arrays .filter() &amp; .find()\"></a>Subsets of Arrays .filter() &amp; .find()</h3><p><code>.filter</code>: 返回匹配条件的新数组</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'attack on titan'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">6.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'fate stay night'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">7.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'aksa'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">3.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'air'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//如果没有匹配结果 返回空数组</span>\n<span class=\"token keyword\">const</span> animationA <span class=\"token operator\">=</span> animations<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n  animes <span class=\"token operator\">=</span><span class=\"token operator\">></span> animes<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> animes<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">></span> <span class=\"token number\">7</span>\n<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>animationA<span class=\"token punctuation\">)</span></code></pre>\n<p><code>.find()</code>: 返回匹配条件的<strong>第一个元素/对象</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu to top'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">6.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu2'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">const</span> animationSearch <span class=\"token operator\">=</span> animations<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n  anime <span class=\"token operator\">=</span><span class=\"token operator\">></span> anime<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> anime<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">></span> <span class=\"token number\">9</span>\n<span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>animationSearch<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Transform-Arrays-reduce\"><a href=\"#Transform-Arrays-reduce\" class=\"headerlink\" title=\"Transform Arrays .reduce()\"></a>Transform Arrays .reduce()</h3><h4 id=\"Accumulator-Array\"><a href=\"#Accumulator-Array\" class=\"headerlink\" title=\"Accumulator Array\"></a>Accumulator Array</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cart <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> item<span class=\"token punctuation\">:</span> <span class=\"token string\">'Squat Stand 2.0'</span><span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">:</span> <span class=\"token number\">460.89</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> item<span class=\"token punctuation\">:</span> <span class=\"token string\">'Falt Utility Bench'</span><span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">:</span> <span class=\"token number\">230</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> item<span class=\"token punctuation\">:</span> <span class=\"token string\">'Ohio Power Bar'</span><span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">:</span> <span class=\"token number\">385.23</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//cart数组中的每个值累加</span>\n<span class=\"token comment\" spellcheck=\"true\">//0 as initialize value</span>\n<span class=\"token keyword\">const</span> cartTotal <span class=\"token operator\">=</span> cart<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>subtotal<span class=\"token punctuation\">,</span> cartItem<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> subtotal <span class=\"token operator\">+</span> cartItem<span class=\"token punctuation\">.</span>price\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>cartTotal<span class=\"token punctuation\">)</span></code></pre>\n<h4 id=\"Double-Array-Values\"><a href=\"#Double-Array-Values\" class=\"headerlink\" title=\"Double Array Values\"></a>Double Array Values</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">const</span> doubleNum <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  acc<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> acc\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> greaterThree <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>num <span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    acc<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> acc\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//const doubleNum = numbers.map(num => num * 2)</span>\n<span class=\"token comment\" spellcheck=\"true\">//const greaterThree = numbers.filter(num => num > 3)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>doubleNum<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greaterThree<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Modify-Arry-with-Spread-Operator-…\"><a href=\"#Modify-Arry-with-Spread-Operator-…\" class=\"headerlink\" title=\"Modify Arry with Spread Operator …\"></a>Modify Arry with Spread Operator …</h3><p>Avoid Array Mutation</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> aprilAnimation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Haikyuu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Attack on Tatin'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">const</span> sepAnimation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Dango'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Physico Pass'</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\" spellcheck=\"true\">//clone aprilAnimation into allAnimation</span>\n<span class=\"token keyword\">const</span> allAnimation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>aprilAnimation<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>sepAnimation<span class=\"token punctuation\">]</span>\n<span class=\"token comment\" spellcheck=\"true\">//now use array method will not change aprilAnimation array</span>\nallAnimation<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Clannad'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>allAnimation<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Get-Unique-Sets-of-Data-new-Set\"><a href=\"#Get-Unique-Sets-of-Data-new-Set\" class=\"headerlink\" title=\"Get Unique Sets of Data new Set()\"></a>Get Unique Sets of Data new Set()</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animeVote <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">'Attack on titan'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Fate Stay Night'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Attack on titan'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Hero'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//先调用Set method重组新的unqie数组 然后保存到新的数组</span>\n<span class=\"token keyword\">const</span> uniqueAnimeVote <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span>animeVote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>uniqueAnimeVote<span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Classes\"><a href=\"#Classes\" class=\"headerlink\" title=\"Classes\"></a>Classes</h2><h3 id=\"Constructor-Function\"><a href=\"#Constructor-Function\" class=\"headerlink\" title=\"Constructor Function\"></a>Constructor Function</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> courses <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>courses <span class=\"token operator\">=</span> courses\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//Student method</span>\nStudent<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>addCourse <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>course<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\" spellcheck=\"true\">//merge the current student couse array with new courses</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>courses <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>courses<span class=\"token punctuation\">,</span> course<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> s1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Chinese'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'English'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Math'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Computer'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\ns1<span class=\"token punctuation\">.</span><span class=\"token function\">addCourse</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Powerlifting'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">.</span>courses<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Classes-1\"><a href=\"#Classes-1\" class=\"headerlink\" title=\"Classes\"></a>Classes</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> subjects <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subjects <span class=\"token operator\">=</span> subjects\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getStdName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token string\">`Student: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setStdName</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> s1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Math'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">.</span><span class=\"token function\">getStdName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<br>\n\n<h3 id=\"Inheritance\"><a href=\"#Inheritance\" class=\"headerlink\" title=\"Inheritance\"></a>Inheritance</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> discountable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> price\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountable <span class=\"token operator\">=</span> discountable\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">isDiscountable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountable\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SaleProduct</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> discountable<span class=\"token punctuation\">,</span> percentOff<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> discountable<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percentOff <span class=\"token operator\">=</span> percentOff\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getSalePrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDiscountable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percentOff<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is not eligible for a discount`</span></span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> saleProduct1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SaleProduct</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Coffee Maker'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">99</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>saleProduct1<span class=\"token punctuation\">.</span><span class=\"token function\">getSalePrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Binding-method-to-Class\"><a href=\"#Binding-method-to-Class\" class=\"headerlink\" title=\"Binding method to Class\"></a>Binding method to Class</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> isAuth <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n<span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  favorites<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> price\n    <span class=\"token comment\" spellcheck=\"true\">//Bind favoriteProduct method to Product class</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>favoriteProduct <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>favoriteProduct<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  handleFavoriteProduct <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isAuth<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>favoriteProduct<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You must be signed in to favorite products!'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  favoriteProduct <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    user<span class=\"token punctuation\">.</span>favorites<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> favorited!`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> product1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Coaster'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">89.99</span><span class=\"token punctuation\">)</span>\nproduct1<span class=\"token punctuation\">.</span><span class=\"token function\">handleFavoriteProduct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>JavaScript 数组，对象，类，函数的常用用法以及备忘录</p>\n</blockquote>","more":"<h2 id=\"Variables-amp-Strings\"><a href=\"#Variables-amp-Strings\" class=\"headerlink\" title=\"Variables &amp; Strings\"></a>Variables &amp; Strings</h2><h3 id=\"Template-Literals\"><a href=\"#Template-Literals\" class=\"headerlink\" title=\"Template Literals\"></a>Template Literals</h3><pre><code class=\"js\">let weight = 74\nlet msg = `Your body weight is ${weight * 2.2} pounds`\nconsole.log(msg)</code></pre>\n<p>Output</p>\n<blockquote>\n<p>Your body weight is 162.8 pounds</p>\n</blockquote>\n<h2 id=\"Function\"><a href=\"#Function\" class=\"headerlink\" title=\"Function\"></a>Function</h2><h3 id=\"Function-Closure\"><a href=\"#Function-Closure\" class=\"headerlink\" title=\"Function Closure\"></a>Function Closure</h3><pre><code class=\"js\">function countingdown() {\n  let initNum = 0\n  return function decrement() {\n    initNum -= 1\n  }\n  decrement()\n}\n\nconst countingDown = countingdown()\n\nconsole.log(countingDown())\nconsole.log(countingDown())\nconsole.log(countingDown())</code></pre>\n<h3 id=\"Default-Parameter\"><a href=\"#Default-Parameter\" class=\"headerlink\" title=\"Default Parameter\"></a>Default Parameter</h3><pre><code class=\"js\">function convertTemperature(celsius, decimalPlaces = 1) {\n  const fahrenheit = celsius * 1.8 + 32\n  return Number(fahrenheit.toFixed(decimalPlaces))\n}\n\nconsole.log(convertTemperature(21, 0))</code></pre>\n<h3 id=\"Arrow-Function\"><a href=\"#Arrow-Function\" class=\"headerlink\" title=\"Arrow Function\"></a>Arrow Function</h3><h4 id=\"Object\"><a href=\"#Object\" class=\"headerlink\" title=\"Object\"></a>Object</h4><pre><code class=\"js\">const setName = (id, name) =&gt; `id: ${id} name: ${name}`\nconsole.log(setName(1, &#39;Yang&#39;))</code></pre>\n<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map\"></a>Map</h4><pre><code class=\"js\">const prices = products.map(item =&gt; item.price)\nconsole.log(prices) //[array of items price]</code></pre>\n<h4 id=\"Fecth\"><a href=\"#Fecth\" class=\"headerlink\" title=\"Fecth\"></a>Fecth</h4><pre><code class=\"js\">//fetch data from API\nfunction getData(baseUrl) {\n  return function (route) {\n    return function (callback) {\n      fetch(`${baseUrl}${route}`)\n        .then(response =&gt; response.json)\n        .then(data =&gt; callback(data))\n    }\n  }\n}\n\n//store API data getSocialMediaData\nconst getSocialMediaData = getData(&#39;https://jsonplaceholder.typicode.com&#39;)\n\n//post route\nconst getSocialMediaPosts = getSocialMediaData(&#39;/posts&#39;)\n//comment route\nconst getSocialMediaComments = getSocialMediaData(&#39;/comments&#39;)\n\n//List all the post title\ngetSocialMediaPosts(posts =&gt; {\n  posts.forEach(post =&gt; console.log(post.title))\n})</code></pre>\n<h2 id=\"Objects-amp-Maps\"><a href=\"#Objects-amp-Maps\" class=\"headerlink\" title=\"Objects &amp; Maps\"></a>Objects &amp; Maps</h2><h3 id=\"Get-and-Modify-Object-Data\"><a href=\"#Get-and-Modify-Object-Data\" class=\"headerlink\" title=\"Get and Modify Object Data\"></a>Get and Modify Object Data</h3><pre><code class=\"js\">const color = &#39;black&#39;\nconst hexCode = &#39;000&#39;\n\n//squat notation [] dynamically change object pair values\nconst colors = {\n  [color]: hexCode,\n}\n\ndelete colors[&#39;blue&#39;]\nconsole.log(colors)</code></pre>\n<h3 id=\"Object-Destructing\"><a href=\"#Object-Destructing\" class=\"headerlink\" title=\"Object Destructing\"></a>Object Destructing</h3><pre><code class=\"js\">const user = {\n  name: &#39;Yang&#39;,\n  username: &#39;yang052513&#39;,\n  email: &#39;liyang0525@hotmail.com&#39;,\n  details: {\n    title: &#39;Web developer&#39;,\n  },\n  getBio() {\n    console.log(`User ${this.name} is a ${this.details.title}`)\n  },\n\n  askToFriend() {\n    //嵌套函数用arrow function解决this binding问题\n    setTimeout(() =&gt; {\n      console.log(`Would you like to friend ${this.name}`)\n    }, 2000)\n  },\n}\n\nuser.getBio()</code></pre>\n<h3 id=\"Map-1\"><a href=\"#Map-1\" class=\"headerlink\" title=\"Map\"></a>Map</h3><pre><code class=\"js\">const user1 = &#39;Yang&#39;\nconst key1 = &#39;1&#39;\n\n//创建一个新的map并插入用户1的key和value\nconst userMap = new Map([[key1, user1]])\n\n//插入key为2 value为nathan到userMap\nuserMap.set(&#39;2&#39;, &#39;Nathan&#39;)\n\n//循环userMap并打印每个数据\nconst display = values =&gt; document.writeln(values + &#39;&lt;br&gt;&#39;)\nuserMap.forEach(display)\n\n//取得用户key为1的value\nconst key = userMap.get(&#39;1&#39;)\nconsole.log(key)\n\n//userMap大小\nconsole.log(userMap.size)</code></pre>\n<h2 id=\"Arrays-amp-Sets\"><a href=\"#Arrays-amp-Sets\" class=\"headerlink\" title=\"Arrays &amp; Sets\"></a>Arrays &amp; Sets</h2><h3 id=\"Element-Existence-some-amp-every\"><a href=\"#Element-Existence-some-amp-every\" class=\"headerlink\" title=\"Element Existence .some() &amp; .every()\"></a>Element Existence .some() &amp; .every()</h3><pre><code class=\"js\">const array = [\n  {\n    name: &#39;Attack on titan&#39;,\n    rating: 9.8,\n    episode: 24,\n  },\n  {\n    name: &#39;Fate stay night&#39;,\n    rating: 4.8,\n    episode: 13,\n  },\n  {\n    name: &#39;Haikyuu&#39;,\n    rating: 10.0,\n    episode: 24,\n  },\n]\n\n//测试是否至少有一个元素的rating小于5\nconst ratingTest = item =&gt; item.rating &lt; 5\nconst episodeTest = item =&gt; item.episode &gt; 12\nconsole.log(`至少有一部动画评分小于5分: ${array.some(ratingTest)}`)\nconsole.log(`每部动画集数大于12: ${array.every(episodeTest)}`)</code></pre>\n<h3 id=\"Perform-Actions-on-All-Elements-map-amp-forEach-Method\"><a href=\"#Perform-Actions-on-All-Elements-map-amp-forEach-Method\" class=\"headerlink\" title=\"Perform Actions on All Elements: .map() &amp; forEach() Method\"></a>Perform Actions on All Elements: .map() &amp; forEach() Method</h3><pre><code class=\"js\">const animations = [\n  { name: &#39;attack on titan&#39;, episode: 12, rating: 6.8 },\n  { name: &#39;fate stay night&#39;, episode: 13, rating: 7.2 },\n  { name: &#39;haikyuu&#39;, episode: 12, rating: 4.5 },\n  { name: &#39;clannad&#39;, episode: 24, rating: 3.2 },\n  { name: &#39;Bokuno name&#39;, episode: 8, rating: 9.8 },\n]\n\n//重构一个新的array newAnimations\nconst newAnimations = animations.map(animes =&gt;\n  //对animations里的每一个对象执行一下\n  //如果rating大于8 在原object的基础上merge isHighRank\n  //其他保持不变\n  animes.rating &gt; 8 ? { ...animes, isHighRank: true } : animes\n)\n\n//循环newAnimations里的每一个对象\nnewAnimations.forEach(animes =&gt; {\n  animes.isHighRank\n    ? console.log(`${animes.name} is recommended by other users`)\n    : null\n})\nconsole.log(newAnimations)</code></pre>\n<h3 id=\"Subsets-of-Arrays-filter-amp-find\"><a href=\"#Subsets-of-Arrays-filter-amp-find\" class=\"headerlink\" title=\"Subsets of Arrays .filter() &amp; .find()\"></a>Subsets of Arrays .filter() &amp; .find()</h3><p><code>.filter</code>: 返回匹配条件的新数组</p>\n<pre><code class=\"js\">const animations = [\n  { name: &#39;attack on titan&#39;, episode: 12, rating: 6.8 },\n  { name: &#39;fate stay night&#39;, episode: 13, rating: 7.2 },\n  { name: &#39;haikyuu&#39;, episode: 12, rating: 4.5 },\n  { name: &#39;aksa&#39;, episode: 24, rating: 3.2 },\n  { name: &#39;air&#39;, episode: 8, rating: 9.8 },\n]\n\n//如果没有匹配结果 返回空数组\nconst animationA = animations.filter(\n  animes =&gt; animes.name.toLowerCase().startsWith(&#39;a&#39;) &amp;&amp; animes.rating &gt; 7\n)\nconsole.log(animationA)</code></pre>\n<p><code>.find()</code>: 返回匹配条件的<strong>第一个元素/对象</strong></p>\n<pre><code class=\"js\">const animations = [\n  { name: &#39;haikyuu to top&#39;, episode: 12, rating: 6.8 },\n  { name: &#39;haikyuu2&#39;, episode: 13, rating: 9.2 },\n  { name: &#39;haikyuu&#39;, episode: 12, rating: 4.5 },\n]\n\nconst animationSearch = animations.find(\n  anime =&gt; anime.name.toLowerCase().includes(&#39;haikyuu&#39;) &amp;&amp; anime.rating &gt; 9\n)\n\nconsole.log(animationSearch)</code></pre>\n<h3 id=\"Transform-Arrays-reduce\"><a href=\"#Transform-Arrays-reduce\" class=\"headerlink\" title=\"Transform Arrays .reduce()\"></a>Transform Arrays .reduce()</h3><h4 id=\"Accumulator-Array\"><a href=\"#Accumulator-Array\" class=\"headerlink\" title=\"Accumulator Array\"></a>Accumulator Array</h4><pre><code class=\"js\">const cart = [\n  { item: &#39;Squat Stand 2.0&#39;, price: 460.89 },\n  { item: &#39;Falt Utility Bench&#39;, price: 230 },\n  { item: &#39;Ohio Power Bar&#39;, price: 385.23 },\n]\n\n//cart数组中的每个值累加\n//0 as initialize value\nconst cartTotal = cart.reduce((subtotal, cartItem) =&gt; {\n  return subtotal + cartItem.price\n}, 0)\nconsole.log(cartTotal)</code></pre>\n<h4 id=\"Double-Array-Values\"><a href=\"#Double-Array-Values\" class=\"headerlink\" title=\"Double Array Values\"></a>Double Array Values</h4><pre><code class=\"js\">const numbers = [1, 2, 3, 4, 5, 6]\n\nconst doubleNum = numbers.reduce((acc, num) =&gt; {\n  acc.push(num * 2)\n  return acc\n}, [])\n\nconst greaterThree = numbers.reduce((acc, num) =&gt; {\n  if (num &gt; 3) {\n    acc.push(num)\n  }\n  return acc\n}, 0)\n\n//const doubleNum = numbers.map(num =&gt; num * 2)\n//const greaterThree = numbers.filter(num =&gt; num &gt; 3)\n\nconsole.log(doubleNum)\nconsole.log(greaterThree)</code></pre>\n<h3 id=\"Modify-Arry-with-Spread-Operator-…\"><a href=\"#Modify-Arry-with-Spread-Operator-…\" class=\"headerlink\" title=\"Modify Arry with Spread Operator …\"></a>Modify Arry with Spread Operator …</h3><p>Avoid Array Mutation</p>\n<pre><code class=\"js\">const aprilAnimation = [&#39;Haikyuu&#39;, &#39;Attack on Tatin&#39;]\nconst sepAnimation = [&#39;Dango&#39;, &#39;Physico Pass&#39;]\n//clone aprilAnimation into allAnimation\nconst allAnimation = [...aprilAnimation, ...sepAnimation]\n//now use array method will not change aprilAnimation array\nallAnimation.push(&#39;Clannad&#39;)\nconsole.log(allAnimation)</code></pre>\n<h3 id=\"Get-Unique-Sets-of-Data-new-Set\"><a href=\"#Get-Unique-Sets-of-Data-new-Set\" class=\"headerlink\" title=\"Get Unique Sets of Data new Set()\"></a>Get Unique Sets of Data new Set()</h3><pre><code class=\"js\">const animeVote = [\n  &#39;Attack on titan&#39;,\n  &#39;Fate Stay Night&#39;,\n  &#39;Attack on titan&#39;,\n  &#39;Hero&#39;,\n]\n\n//先调用Set method重组新的unqie数组 然后保存到新的数组\nconst uniqueAnimeVote = [...new Set(animeVote)]\nconsole.log(uniqueAnimeVote)</code></pre>\n<h2 id=\"Classes\"><a href=\"#Classes\" class=\"headerlink\" title=\"Classes\"></a>Classes</h2><h3 id=\"Constructor-Function\"><a href=\"#Constructor-Function\" class=\"headerlink\" title=\"Constructor Function\"></a>Constructor Function</h3><pre><code class=\"js\">function Student(id, name, courses = []) {\n  this.id = id\n  this.name = name\n  this.courses = courses\n}\n\n//Student method\nStudent.prototype.addCourse = function (course) {\n  //merge the current student couse array with new courses\n  this.courses = [...this.courses, course]\n}\n\nconst s1 = new Student(3, &#39;Yang&#39;, [&#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;, &#39;Computer&#39;])\n\ns1.addCourse(&#39;Powerlifting&#39;)\nconsole.log(s1.courses)</code></pre>\n<h3 id=\"Classes-1\"><a href=\"#Classes-1\" class=\"headerlink\" title=\"Classes\"></a>Classes</h3><pre><code class=\"js\">class Student {\n  constructor(id, name, subjects = []) {\n    this.id = id\n    this.name = name\n    this.subjects = subjects\n  }\n\n  getStdName() {\n    return `Student: ${this.name}`\n  }\n\n  setStdName(name) {\n    this.name = name\n  }\n}\n\nconst s1 = new Student(1, &#39;Yang&#39;, &#39;Math&#39;)\nconsole.log(s1.getStdName())</code></pre>\n<br>\n\n<h3 id=\"Inheritance\"><a href=\"#Inheritance\" class=\"headerlink\" title=\"Inheritance\"></a>Inheritance</h3><pre><code class=\"js\">class Product {\n  constructor(name, price, discountable) {\n    this.name = name\n    this.price = price\n    this.discountable = discountable\n  }\n\n  isDiscountable() {\n    return this.discountable\n  }\n}\n\nclass SaleProduct extends Product {\n  constructor(name, price, discountable, percentOff) {\n    super(name, price, discountable)\n    this.percentOff = percentOff\n  }\n\n  getSalePrice() {\n    if (super.isDiscountable()) {\n      return this.price * ((100 - this.percentOff) / 100)\n    } else {\n      return `${this.name} is not eligible for a discount`\n    }\n  }\n}\n\nconst saleProduct1 = new SaleProduct(&#39;Coffee Maker&#39;, 99, false, 20)\nconsole.log(saleProduct1.getSalePrice())</code></pre>\n<h3 id=\"Binding-method-to-Class\"><a href=\"#Binding-method-to-Class\" class=\"headerlink\" title=\"Binding method to Class\"></a>Binding method to Class</h3><pre><code class=\"js\">const isAuth = true\nconst user = {\n  favorites: [],\n}\n\nclass Product {\n  constructor(name, price) {\n    this.name = name\n    this.price = price\n    //Bind favoriteProduct method to Product class\n    this.favoriteProduct = this.favoriteProduct.bind(this)\n  }\n\n  handleFavoriteProduct = () =&gt; {\n    if (isAuth) {\n      setTimeout(this.favoriteProduct, 1000)\n    } else {\n      console.log(&#39;You must be signed in to favorite products!&#39;)\n    }\n  }\n\n  favoriteProduct = () =&gt; {\n    user.favorites.push(this.name)\n    console.log(`${this.name} favorited!`)\n  }\n}\n\nconst product1 = new Product(&#39;Coaster&#39;, 89.99)\nproduct1.handleFavoriteProduct()</code></pre>"},{"title":"Sass Cheat Sheet","date":"2020-06-09T05:33:44.000Z","comments":0,"cover":"https://cdn-media-1.freecodecamp.org/images/1*HFYKWq92BcXJIdata7d-JQ.png","_content":"\n> 继 less 之后用的第二个 CSS preprocessor。目前还不是特别习惯`sass`的写法，但`sass`相比还是更简洁清晰一点。主要记录了变量，嵌套，继承，函数以及计算相关的内容。\n\n<!-- more -->\n\n## Variables\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n\nheader button {\n  background-color: $btnPrimaryColor;\n}\n\n.contact button {\n  background-color: $btnPrimaryColor;\n}\n```\n\n## Nested\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Separate files\n\nstyle.scss\n\n```scss\n@import './header';\n@import './variable';\n```\n\nvariable.scss\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n$btnSecondaryColor: rgb(100, 100, 100);\n```\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Mixed-In\n\n```scss\n/* can be placed in other files */\n@mixin flexCenter($direction, $background) {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: $direction;\n  background: $background;\n}\n\nheader {\n  @include flexCenter(column, rgb(100, 240, 222));\n}\n```\n\n## Extends\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\nstyle.scss\n\n```scss\n@import \"./header\";\n\n.contact {\n    @extend header;\n    /* overwrite */\n    background: rgb(0, 0, 255)'\n}\n```\n\n## Calculation\n\n```scss\nheader {\n  text-align: center;\n  p {\n    font-size: 100% - 20%;\n  }\n}\n```\n","source":"_posts/06-sass-cheat-sheet.md","raw":"---\ntitle: Sass Cheat Sheet\ndate: 2020-06-08 22:33:44\ntags: ['Sass', 'css', 'note']\ncomments: false\ncategories: '笔记'\ncover: 'https://cdn-media-1.freecodecamp.org/images/1*HFYKWq92BcXJIdata7d-JQ.png'\n---\n\n> 继 less 之后用的第二个 CSS preprocessor。目前还不是特别习惯`sass`的写法，但`sass`相比还是更简洁清晰一点。主要记录了变量，嵌套，继承，函数以及计算相关的内容。\n\n<!-- more -->\n\n## Variables\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n\nheader button {\n  background-color: $btnPrimaryColor;\n}\n\n.contact button {\n  background-color: $btnPrimaryColor;\n}\n```\n\n## Nested\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Separate files\n\nstyle.scss\n\n```scss\n@import './header';\n@import './variable';\n```\n\nvariable.scss\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n$btnSecondaryColor: rgb(100, 100, 100);\n```\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Mixed-In\n\n```scss\n/* can be placed in other files */\n@mixin flexCenter($direction, $background) {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: $direction;\n  background: $background;\n}\n\nheader {\n  @include flexCenter(column, rgb(100, 240, 222));\n}\n```\n\n## Extends\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\nstyle.scss\n\n```scss\n@import \"./header\";\n\n.contact {\n    @extend header;\n    /* overwrite */\n    background: rgb(0, 0, 255)'\n}\n```\n\n## Calculation\n\n```scss\nheader {\n  text-align: center;\n  p {\n    font-size: 100% - 20%;\n  }\n}\n```\n","slug":"06-sass-cheat-sheet","published":1,"updated":"2020-06-20T07:14:04.136Z","layout":"post","photos":[],"link":"","_id":"ckbnbuimv000bi0ui3ekl08sc","content":"<blockquote>\n<p>继 less 之后用的第二个 CSS preprocessor。目前还不是特别习惯<code>sass</code>的写法，但<code>sass</code>相比还是更简洁清晰一点。主要记录了变量，嵌套，继承，函数以及计算相关的内容。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$btnPrimaryColor</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">125</span>, <span class=\"token number\">125</span>, <span class=\"token number\">125</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token selector\">header button </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$btnPrimaryColor</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.contact button </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$btnPrimaryColor</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Nested\"><a href=\"#Nested\" class=\"headerlink\" title=\"Nested\"></a>Nested</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">button </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\"><span class=\"token parent important\">&amp;</span>:hover </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">14</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Separate-files\"><a href=\"#Separate-files\" class=\"headerlink\" title=\"Separate files\"></a>Separate files</h2><p>style.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token keyword\">@import</span> <span class=\"token string\">'./header'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">@import</span> <span class=\"token string\">'./variable'</span><span class=\"token punctuation\">;</span></code></pre>\n<p>variable.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$btnPrimaryColor</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">125</span>, <span class=\"token number\">125</span>, <span class=\"token number\">125</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$btnSecondaryColor</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span>, <span class=\"token number\">100</span>, <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>_header.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">button </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\"><span class=\"token parent important\">&amp;</span>:hover </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">14</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Mixed-In\"><a href=\"#Mixed-In\" class=\"headerlink\" title=\"Mixed-In\"></a>Mixed-In</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token comment\" spellcheck=\"true\">/* can be placed in other files */</span>\n<span class=\"token keyword\">@mixin</span> <span class=\"token function\">flexCenter</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$direction</span>, <span class=\"token variable\">$background</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$direction</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$background</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">@include</span> <span class=\"token function\">flexCenter</span><span class=\"token punctuation\">(</span>column, <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span>, <span class=\"token number\">240</span>, <span class=\"token number\">222</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Extends\"><a href=\"#Extends\" class=\"headerlink\" title=\"Extends\"></a>Extends</h2><p>_header.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">button </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\"><span class=\"token parent important\">&amp;</span>:hover </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">14</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>style.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token keyword\">@import</span> <span class=\"token string\">\"./header\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token selector\">.contact </span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">@extend</span> header<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">/* overwrite */</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span>, <span class=\"token number\">0</span>, <span class=\"token number\">255</span><span class=\"token punctuation\">)</span>'\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Calculation\"><a href=\"#Calculation\" class=\"headerlink\" title=\"Calculation\"></a>Calculation</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100%</span> <span class=\"token operator\">-</span> <span class=\"token number\">20%</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>继 less 之后用的第二个 CSS preprocessor。目前还不是特别习惯<code>sass</code>的写法，但<code>sass</code>相比还是更简洁清晰一点。主要记录了变量，嵌套，继承，函数以及计算相关的内容。</p>\n</blockquote>","more":"<h2 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h2><pre><code class=\"scss\">$btnPrimaryColor: rgb(125, 125, 125);\n\nheader button {\n  background-color: $btnPrimaryColor;\n}\n\n.contact button {\n  background-color: $btnPrimaryColor;\n}</code></pre>\n<h2 id=\"Nested\"><a href=\"#Nested\" class=\"headerlink\" title=\"Nested\"></a>Nested</h2><pre><code class=\"scss\">header {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &amp;:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}</code></pre>\n<h2 id=\"Separate-files\"><a href=\"#Separate-files\" class=\"headerlink\" title=\"Separate files\"></a>Separate files</h2><p>style.scss</p>\n<pre><code class=\"scss\">@import &#39;./header&#39;;\n@import &#39;./variable&#39;;</code></pre>\n<p>variable.scss</p>\n<pre><code class=\"scss\">$btnPrimaryColor: rgb(125, 125, 125);\n$btnSecondaryColor: rgb(100, 100, 100);</code></pre>\n<p>_header.scss</p>\n<pre><code class=\"scss\">header {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &amp;:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}</code></pre>\n<h2 id=\"Mixed-In\"><a href=\"#Mixed-In\" class=\"headerlink\" title=\"Mixed-In\"></a>Mixed-In</h2><pre><code class=\"scss\">/* can be placed in other files */\n@mixin flexCenter($direction, $background) {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: $direction;\n  background: $background;\n}\n\nheader {\n  @include flexCenter(column, rgb(100, 240, 222));\n}</code></pre>\n<h2 id=\"Extends\"><a href=\"#Extends\" class=\"headerlink\" title=\"Extends\"></a>Extends</h2><p>_header.scss</p>\n<pre><code class=\"scss\">header {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &amp;:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}</code></pre>\n<p>style.scss</p>\n<pre><code class=\"scss\">@import &quot;./header&quot;;\n\n.contact {\n    @extend header;\n    /* overwrite */\n    background: rgb(0, 0, 255)&#39;\n}</code></pre>\n<h2 id=\"Calculation\"><a href=\"#Calculation\" class=\"headerlink\" title=\"Calculation\"></a>Calculation</h2><pre><code class=\"scss\">header {\n  text-align: center;\n  p {\n    font-size: 100% - 20%;\n  }\n}</code></pre>"},{"title":"Typescript 让你的Javascript更严谨","date":"2020-06-12T19:42:27.000Z","cover":"https://miro.medium.com/max/816/1*mn6bOs7s6Qbao15PMNRyOA.png","_content":"\n> 学习 Angular 的时候要用 typescritp 来写。于是学习 typescript 成了我的 angular 的前置课程。本文主要是记录 typescript 的一些特性和语法，以及介绍一些在 react 中写 typescript(tsx)的基础。\n\n<!-- more -->\n\n## 简介 Introduction\n\n> Typescript 是 javascript 的 superset，也就是说你之前学到的 javascript 或者 ES6 的写法都可以写在 typescript 中。但是不同的是我们可以给变量添加类型(type), 比如 number 可以是 interger 或者 double, 又或者是 boolean 的类型。我们甚至可以给函数添加返回的类型等等。我们在之后会一一介绍。总体来说，typescript 可以让我们之前写的 javascript 更加严谨且代码更容易理解。\n\n## 安装 Environment Setup\n\n安装 typescript 之前我们确保已经安装了 node.js。如果没有，可以到 nodejs.org 下载 LTS 版本(LTS 即 long term support 也就是稳定版)。\n\n如果你不确定是否已经安装过 node.js, 可以在 cmd 中输入`node -v`。安装过的话会显示当前 node 的版本号。\n\n之后我们便可以在 cmd 中输入`npm install -g typescript`。\n\n## 变量定义 Variable Declartions\n\n这里跟 ES6 一样。我们简单介绍下两种变量定义的方法 let 和 const\n\n**let**\n\n- 首先，let 不需要初始化(initialize)数值。比如我们可以声明一个 myAge 变量如：let myAge。\n- 其次，let 可以重新声明变量值。比如我们声明一个变量 let myAge = 5。之后我们可以 myAge = 10。\n\n**const**\n\n- const 必须初始化一个数值，不能留空。比如`cont myName`这样就会报错。\n- const 声明的变量值，之后**不可以更改**。假设我们创建了一个变量`const myName = 'Yang'`。之后就不可以更改 myName 的值了。\n- 大多数情况下，const 可能是我们会用到最多的声明方式。我们也尽可能选择 const 以避免 let 重复声明(re-assign)可能会带来的未知错误。比如函数，常量我们都可以用 const 来声明。\n\n## 变量类型 Variable Types\n\n在给变量定义类型后，我们重新声明变量的值必须匹配它的类型。比如 `let example:string`。我们之后只能定义 example 为 string。这样也可以让我们的代码更严谨。这部分我们主要介绍 boolean, number, string, null, undefined, array, any 类型。\n\n### Boolean\n\nboolean 即 true 或 false\n`let isRare:boolean = false`\n\n### Number\n\nnumber 类型可以是 int 或者是 double\n\n```ts\nlet myAge: number = 23\nlet monitorPrice: number = 399.99\n```\n\n### String\n\n```ts\nconst title: string = 'Typescript 2020'\n```\n\n### Null Undefined\n\nnull 和 undefined 都属于附属类型（sub-types)。即我们可以给之前的任何变量声明 null 和 undefined。\n\n```ts\nlet username: null = null\nlet userprofile: undefined = undefined\n```\n\n但我们很多情况下是预期得到的变量类型是 string 或者 number，但又可能返回 null 和 undefined。就可以用以下方式\n\n```ts\nconst username: string | null = null\nconst isUser: boolean = undefined\n```\n\n### Array\n\n定义数组的类型也很简单。在类型后加入`[]`\n\n```ts\nlet cartList: string[] = ['apple', 'orange', 'milk']\nlet randomNumList: number[] = [13, 22, 3, 344]\n```\n\n或者用 Generics 的写法来定义\n\n```ts\nlet cartList: Array<string> = ['apple', 'orange', 'milk']\nlet randomNumList: Array<number> = [13, 22, 3, 344]\n```\n\n### Tuples\n\n假设我们想在数组中混合变量类型，那我们可以用 tuple 来实现\n\n```ts\nlet myMixList: [string, number, boolean] = ['name', 23, false]\n```\n\n需要注意的是 tuple 数组内的元素是固定的。也就说一旦我们声明完变量类型，我们不可以添加其他元素到 tuple 数组。\n\n```ts\nlet myMixList: [string, number, boolean] = ['name', 'number', false] //error\nlet myMixList: [string, number, boolean] = ['name', 23, 23] //error\nlet myMixList: [string, number, boolean] = [false, 23, false] //error\n\nmyMixList[0] = 23 //erro: 不能更改变量类型\nmyMixList[1].toLowerCase() //error: 数组索引值1处为数字 不能用string method\n```\n\n### Any\n\n有些情况下我们不确定我们变量的类型。比如我们想 fecth 第三方 API 获取数据的时候，有的数据可能会返回 null 或者 undefined，或者其他类型我们不确定。这时候我们可以用 any。\n\n```ts\nlet unknowType: any = 'Can be a string'\nunknowType = 23\nunknowType = false\n```\n\n有的时候我们知道返回变量的类型但定义要用 any，这种情况可以用 type assertion\n\n```ts\nlet unknowValue: any = 'Use as to get length'\nlet n: numbner = (unknowValue as string).length\n```\n\n### Void\n\n我们一般用于返回函数时定义的类型。\n\n```ts\nconst modalMsg = (): void => {\n  console.log('This function does not return anything')\n}\n\nconst plusOperation = (numOne, numTwo): void => {\n  return numOne + numTwop //error:我们定义了void类型，即函数不返回任务值。\n}\n```\n\n### Object\n\n`object`即排除所有 primitive 的类型(number, string, boolean, null, undefined)\n\n```ts\nconst userProfile: object = { name: 'Yang', age: 23 }\nconst errorProfile: object = 30 //error\n```\n\n## 函数 Functions\n\n### Parameter 和返回的类型\n\n我们可以给函数的值和返回的数值定义类型。下面的代码中我们定义`addOperation`的 parameters 类型为 number, 函数返回的类型为 number。\n\n```ts\nconst addOperation = (numOne: number, numTwo: number): number => {\n  return numOne + numTwp\n}\n\naddOperation(1, 3) //返回4\naddOperation(1, '3') //error '3'不是number类型\naddOperation(1, false) //error false不是number类型\n```\n\n我们也可以给函数返回类型定义为 void。\n\n```ts\nconst modalMsg = (msg: string): void => {\n  console.log(`Error: ${msg}`)\n}\n```\n\n### 不确定的函数值\n\n假设我们不确定 parameter 的数值，即 numOne 可以是 null 或者是 number 类型，我们只需要在`:`前面加`?`就可以。\n\n```ts\nconst addOperation = (numOne?: number, numTwo: number): number => {\n  if (numOne) {\n    return numOne + numTwo\n  } else {\n    return numTwo\n  }\n}\n\naddOperation(null, 5) //5\naddOperation(3, 5) //8\n```\n\n### Default Parameter\n\n我们可以定义 default parameter 到函数中\n\n```ts\nconst addOperation = (numOne: number, numTwo: number = 10): number => {\n  return numOne + numTwo\n}\n\naddOperation(3, 10) //13\naddOperation(3) //13\n```\n\n## 接口 Interface\n\n```ts\ninterface Address {\n  road: string\n  unit: string\n  zip: string\n  country: string\n}\n\ninterface Profile {\n  name: string\n  age: number\n  address: Address\n}\nconst userInfo = (profile: Profile): string => {\n  return `User name is ${profile.name} and age is ${profile.age}`\n}\n```\n\n## React 与 TSX\n\n### Function Components\n\n在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性\n\n如下创建一个 Card 组件\n\n```ts\n//Props可以传递object\ninterface Attribute {\n  hp: number\n  mp: number\n  attack: number\n  info: string\n}\n\n//父级属性\ninterface Props {\n  name: string\n  isRare: boolean\n  toggle: (method: string) => string\n  attribute: Attributes\n}\n\n//用<Props>来声明Props\nexport const Card: React.FC<Props> = ({ name, isRare, toggle, attribute }) => {\n  return (\n    <div>\n      <h3>Card name is {name}</h3>\n      {isRare ? <p>This card is rare</p> : null}\n    </div>\n  )\n}\n```\n\n#### useState Hooks\n\n```ts\n//声明的state可以是number也可以是null\nconst [count, setCount] = useState<number | null | undefined>(5)\n\n//在useState中传递props\nconst [count, setCount] = useState<{ name: string }>(name)\n```\n","source":"_posts/07-typescript.md","raw":"---\ntitle: Typescript 让你的Javascript更严谨\ndate: 2020-06-12 12:42:27\ntags: ['react', 'tsx', 'typescript', 'front-end', 'notes']\ncategories: 笔记\ncover: 'https://miro.medium.com/max/816/1*mn6bOs7s6Qbao15PMNRyOA.png'\n---\n\n> 学习 Angular 的时候要用 typescritp 来写。于是学习 typescript 成了我的 angular 的前置课程。本文主要是记录 typescript 的一些特性和语法，以及介绍一些在 react 中写 typescript(tsx)的基础。\n\n<!-- more -->\n\n## 简介 Introduction\n\n> Typescript 是 javascript 的 superset，也就是说你之前学到的 javascript 或者 ES6 的写法都可以写在 typescript 中。但是不同的是我们可以给变量添加类型(type), 比如 number 可以是 interger 或者 double, 又或者是 boolean 的类型。我们甚至可以给函数添加返回的类型等等。我们在之后会一一介绍。总体来说，typescript 可以让我们之前写的 javascript 更加严谨且代码更容易理解。\n\n## 安装 Environment Setup\n\n安装 typescript 之前我们确保已经安装了 node.js。如果没有，可以到 nodejs.org 下载 LTS 版本(LTS 即 long term support 也就是稳定版)。\n\n如果你不确定是否已经安装过 node.js, 可以在 cmd 中输入`node -v`。安装过的话会显示当前 node 的版本号。\n\n之后我们便可以在 cmd 中输入`npm install -g typescript`。\n\n## 变量定义 Variable Declartions\n\n这里跟 ES6 一样。我们简单介绍下两种变量定义的方法 let 和 const\n\n**let**\n\n- 首先，let 不需要初始化(initialize)数值。比如我们可以声明一个 myAge 变量如：let myAge。\n- 其次，let 可以重新声明变量值。比如我们声明一个变量 let myAge = 5。之后我们可以 myAge = 10。\n\n**const**\n\n- const 必须初始化一个数值，不能留空。比如`cont myName`这样就会报错。\n- const 声明的变量值，之后**不可以更改**。假设我们创建了一个变量`const myName = 'Yang'`。之后就不可以更改 myName 的值了。\n- 大多数情况下，const 可能是我们会用到最多的声明方式。我们也尽可能选择 const 以避免 let 重复声明(re-assign)可能会带来的未知错误。比如函数，常量我们都可以用 const 来声明。\n\n## 变量类型 Variable Types\n\n在给变量定义类型后，我们重新声明变量的值必须匹配它的类型。比如 `let example:string`。我们之后只能定义 example 为 string。这样也可以让我们的代码更严谨。这部分我们主要介绍 boolean, number, string, null, undefined, array, any 类型。\n\n### Boolean\n\nboolean 即 true 或 false\n`let isRare:boolean = false`\n\n### Number\n\nnumber 类型可以是 int 或者是 double\n\n```ts\nlet myAge: number = 23\nlet monitorPrice: number = 399.99\n```\n\n### String\n\n```ts\nconst title: string = 'Typescript 2020'\n```\n\n### Null Undefined\n\nnull 和 undefined 都属于附属类型（sub-types)。即我们可以给之前的任何变量声明 null 和 undefined。\n\n```ts\nlet username: null = null\nlet userprofile: undefined = undefined\n```\n\n但我们很多情况下是预期得到的变量类型是 string 或者 number，但又可能返回 null 和 undefined。就可以用以下方式\n\n```ts\nconst username: string | null = null\nconst isUser: boolean = undefined\n```\n\n### Array\n\n定义数组的类型也很简单。在类型后加入`[]`\n\n```ts\nlet cartList: string[] = ['apple', 'orange', 'milk']\nlet randomNumList: number[] = [13, 22, 3, 344]\n```\n\n或者用 Generics 的写法来定义\n\n```ts\nlet cartList: Array<string> = ['apple', 'orange', 'milk']\nlet randomNumList: Array<number> = [13, 22, 3, 344]\n```\n\n### Tuples\n\n假设我们想在数组中混合变量类型，那我们可以用 tuple 来实现\n\n```ts\nlet myMixList: [string, number, boolean] = ['name', 23, false]\n```\n\n需要注意的是 tuple 数组内的元素是固定的。也就说一旦我们声明完变量类型，我们不可以添加其他元素到 tuple 数组。\n\n```ts\nlet myMixList: [string, number, boolean] = ['name', 'number', false] //error\nlet myMixList: [string, number, boolean] = ['name', 23, 23] //error\nlet myMixList: [string, number, boolean] = [false, 23, false] //error\n\nmyMixList[0] = 23 //erro: 不能更改变量类型\nmyMixList[1].toLowerCase() //error: 数组索引值1处为数字 不能用string method\n```\n\n### Any\n\n有些情况下我们不确定我们变量的类型。比如我们想 fecth 第三方 API 获取数据的时候，有的数据可能会返回 null 或者 undefined，或者其他类型我们不确定。这时候我们可以用 any。\n\n```ts\nlet unknowType: any = 'Can be a string'\nunknowType = 23\nunknowType = false\n```\n\n有的时候我们知道返回变量的类型但定义要用 any，这种情况可以用 type assertion\n\n```ts\nlet unknowValue: any = 'Use as to get length'\nlet n: numbner = (unknowValue as string).length\n```\n\n### Void\n\n我们一般用于返回函数时定义的类型。\n\n```ts\nconst modalMsg = (): void => {\n  console.log('This function does not return anything')\n}\n\nconst plusOperation = (numOne, numTwo): void => {\n  return numOne + numTwop //error:我们定义了void类型，即函数不返回任务值。\n}\n```\n\n### Object\n\n`object`即排除所有 primitive 的类型(number, string, boolean, null, undefined)\n\n```ts\nconst userProfile: object = { name: 'Yang', age: 23 }\nconst errorProfile: object = 30 //error\n```\n\n## 函数 Functions\n\n### Parameter 和返回的类型\n\n我们可以给函数的值和返回的数值定义类型。下面的代码中我们定义`addOperation`的 parameters 类型为 number, 函数返回的类型为 number。\n\n```ts\nconst addOperation = (numOne: number, numTwo: number): number => {\n  return numOne + numTwp\n}\n\naddOperation(1, 3) //返回4\naddOperation(1, '3') //error '3'不是number类型\naddOperation(1, false) //error false不是number类型\n```\n\n我们也可以给函数返回类型定义为 void。\n\n```ts\nconst modalMsg = (msg: string): void => {\n  console.log(`Error: ${msg}`)\n}\n```\n\n### 不确定的函数值\n\n假设我们不确定 parameter 的数值，即 numOne 可以是 null 或者是 number 类型，我们只需要在`:`前面加`?`就可以。\n\n```ts\nconst addOperation = (numOne?: number, numTwo: number): number => {\n  if (numOne) {\n    return numOne + numTwo\n  } else {\n    return numTwo\n  }\n}\n\naddOperation(null, 5) //5\naddOperation(3, 5) //8\n```\n\n### Default Parameter\n\n我们可以定义 default parameter 到函数中\n\n```ts\nconst addOperation = (numOne: number, numTwo: number = 10): number => {\n  return numOne + numTwo\n}\n\naddOperation(3, 10) //13\naddOperation(3) //13\n```\n\n## 接口 Interface\n\n```ts\ninterface Address {\n  road: string\n  unit: string\n  zip: string\n  country: string\n}\n\ninterface Profile {\n  name: string\n  age: number\n  address: Address\n}\nconst userInfo = (profile: Profile): string => {\n  return `User name is ${profile.name} and age is ${profile.age}`\n}\n```\n\n## React 与 TSX\n\n### Function Components\n\n在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性\n\n如下创建一个 Card 组件\n\n```ts\n//Props可以传递object\ninterface Attribute {\n  hp: number\n  mp: number\n  attack: number\n  info: string\n}\n\n//父级属性\ninterface Props {\n  name: string\n  isRare: boolean\n  toggle: (method: string) => string\n  attribute: Attributes\n}\n\n//用<Props>来声明Props\nexport const Card: React.FC<Props> = ({ name, isRare, toggle, attribute }) => {\n  return (\n    <div>\n      <h3>Card name is {name}</h3>\n      {isRare ? <p>This card is rare</p> : null}\n    </div>\n  )\n}\n```\n\n#### useState Hooks\n\n```ts\n//声明的state可以是number也可以是null\nconst [count, setCount] = useState<number | null | undefined>(5)\n\n//在useState中传递props\nconst [count, setCount] = useState<{ name: string }>(name)\n```\n","slug":"07-typescript","published":1,"updated":"2020-06-20T07:12:00.855Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckbnbuimw000ci0uicanz13jd","content":"<blockquote>\n<p>学习 Angular 的时候要用 typescritp 来写。于是学习 typescript 成了我的 angular 的前置课程。本文主要是记录 typescript 的一些特性和语法，以及介绍一些在 react 中写 typescript(tsx)的基础。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"简介-Introduction\"><a href=\"#简介-Introduction\" class=\"headerlink\" title=\"简介 Introduction\"></a>简介 Introduction</h2><blockquote>\n<p>Typescript 是 javascript 的 superset，也就是说你之前学到的 javascript 或者 ES6 的写法都可以写在 typescript 中。但是不同的是我们可以给变量添加类型(type), 比如 number 可以是 interger 或者 double, 又或者是 boolean 的类型。我们甚至可以给函数添加返回的类型等等。我们在之后会一一介绍。总体来说，typescript 可以让我们之前写的 javascript 更加严谨且代码更容易理解。</p>\n</blockquote>\n<h2 id=\"安装-Environment-Setup\"><a href=\"#安装-Environment-Setup\" class=\"headerlink\" title=\"安装 Environment Setup\"></a>安装 Environment Setup</h2><p>安装 typescript 之前我们确保已经安装了 node.js。如果没有，可以到 nodejs.org 下载 LTS 版本(LTS 即 long term support 也就是稳定版)。</p>\n<p>如果你不确定是否已经安装过 node.js, 可以在 cmd 中输入<code>node -v</code>。安装过的话会显示当前 node 的版本号。</p>\n<p>之后我们便可以在 cmd 中输入<code>npm install -g typescript</code>。</p>\n<h2 id=\"变量定义-Variable-Declartions\"><a href=\"#变量定义-Variable-Declartions\" class=\"headerlink\" title=\"变量定义 Variable Declartions\"></a>变量定义 Variable Declartions</h2><p>这里跟 ES6 一样。我们简单介绍下两种变量定义的方法 let 和 const</p>\n<p><strong>let</strong></p>\n<ul>\n<li>首先，let 不需要初始化(initialize)数值。比如我们可以声明一个 myAge 变量如：let myAge。</li>\n<li>其次，let 可以重新声明变量值。比如我们声明一个变量 let myAge = 5。之后我们可以 myAge = 10。</li>\n</ul>\n<p><strong>const</strong></p>\n<ul>\n<li>const 必须初始化一个数值，不能留空。比如<code>cont myName</code>这样就会报错。</li>\n<li>const 声明的变量值，之后<strong>不可以更改</strong>。假设我们创建了一个变量<code>const myName = &#39;Yang&#39;</code>。之后就不可以更改 myName 的值了。</li>\n<li>大多数情况下，const 可能是我们会用到最多的声明方式。我们也尽可能选择 const 以避免 let 重复声明(re-assign)可能会带来的未知错误。比如函数，常量我们都可以用 const 来声明。</li>\n</ul>\n<h2 id=\"变量类型-Variable-Types\"><a href=\"#变量类型-Variable-Types\" class=\"headerlink\" title=\"变量类型 Variable Types\"></a>变量类型 Variable Types</h2><p>在给变量定义类型后，我们重新声明变量的值必须匹配它的类型。比如 <code>let example:string</code>。我们之后只能定义 example 为 string。这样也可以让我们的代码更严谨。这部分我们主要介绍 boolean, number, string, null, undefined, array, any 类型。</p>\n<h3 id=\"Boolean\"><a href=\"#Boolean\" class=\"headerlink\" title=\"Boolean\"></a>Boolean</h3><p>boolean 即 true 或 false<br><code>let isRare:boolean = false</code></p>\n<h3 id=\"Number\"><a href=\"#Number\" class=\"headerlink\" title=\"Number\"></a>Number</h3><p>number 类型可以是 int 或者是 double</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> myAge<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\n<span class=\"token keyword\">let</span> monitorPrice<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">399.99</span></code></pre>\n<h3 id=\"String\"><a href=\"#String\" class=\"headerlink\" title=\"String\"></a>String</h3><pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> title<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">'Typescript 2020'</span></code></pre>\n<h3 id=\"Null-Undefined\"><a href=\"#Null-Undefined\" class=\"headerlink\" title=\"Null Undefined\"></a>Null Undefined</h3><p>null 和 undefined 都属于附属类型（sub-types)。即我们可以给之前的任何变量声明 null 和 undefined。</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> username<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n<span class=\"token keyword\">let</span> userprofile<span class=\"token punctuation\">:</span> undefined <span class=\"token operator\">=</span> undefined</code></pre>\n<p>但我们很多情况下是预期得到的变量类型是 string 或者 number，但又可能返回 null 和 undefined。就可以用以下方式</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> username<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n<span class=\"token keyword\">const</span> isUser<span class=\"token punctuation\">:</span> <span class=\"token keyword\">boolean</span> <span class=\"token operator\">=</span> undefined</code></pre>\n<h3 id=\"Array\"><a href=\"#Array\" class=\"headerlink\" title=\"Array\"></a>Array</h3><p>定义数组的类型也很简单。在类型后加入<code>[]</code></p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> cartList<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'orange'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'milk'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> randomNumList<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">344</span><span class=\"token punctuation\">]</span></code></pre>\n<p>或者用 Generics 的写法来定义</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> cartList<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'apple'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'orange'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'milk'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> randomNumList<span class=\"token punctuation\">:</span> <span class=\"token keyword\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">number</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">344</span><span class=\"token punctuation\">]</span></code></pre>\n<h3 id=\"Tuples\"><a href=\"#Tuples\" class=\"headerlink\" title=\"Tuples\"></a>Tuples</h3><p>假设我们想在数组中混合变量类型，那我们可以用 tuple 来实现</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> myMixList<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">false</span><span class=\"token punctuation\">]</span></code></pre>\n<p>需要注意的是 tuple 数组内的元素是固定的。也就说一旦我们声明完变量类型，我们不可以添加其他元素到 tuple 数组。</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> myMixList<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'number'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">false</span><span class=\"token punctuation\">]</span> <span class=\"token comment\" spellcheck=\"true\">//error</span>\n<span class=\"token keyword\">let</span> myMixList<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">]</span> <span class=\"token comment\" spellcheck=\"true\">//error</span>\n<span class=\"token keyword\">let</span> myMixList<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">false</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">false</span><span class=\"token punctuation\">]</span> <span class=\"token comment\" spellcheck=\"true\">//error</span>\n\nmyMixList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">23</span> <span class=\"token comment\" spellcheck=\"true\">//erro: 不能更改变量类型</span>\nmyMixList<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//error: 数组索引值1处为数字 不能用string method</span></code></pre>\n<h3 id=\"Any\"><a href=\"#Any\" class=\"headerlink\" title=\"Any\"></a>Any</h3><p>有些情况下我们不确定我们变量的类型。比如我们想 fecth 第三方 API 获取数据的时候，有的数据可能会返回 null 或者 undefined，或者其他类型我们不确定。这时候我们可以用 any。</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> unknowType<span class=\"token punctuation\">:</span> <span class=\"token keyword\">any</span> <span class=\"token operator\">=</span> <span class=\"token string\">'Can be a string'</span>\nunknowType <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\nunknowType <span class=\"token operator\">=</span> <span class=\"token keyword\">false</span></code></pre>\n<p>有的时候我们知道返回变量的类型但定义要用 any，这种情况可以用 type assertion</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> unknowValue<span class=\"token punctuation\">:</span> <span class=\"token keyword\">any</span> <span class=\"token operator\">=</span> <span class=\"token string\">'Use as to get length'</span>\n<span class=\"token keyword\">let</span> n<span class=\"token punctuation\">:</span> numbner <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>unknowValue as <span class=\"token keyword\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length</code></pre>\n<h3 id=\"Void\"><a href=\"#Void\" class=\"headerlink\" title=\"Void\"></a>Void</h3><p>我们一般用于返回函数时定义的类型。</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> modalMsg <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'This function does not return anything'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> plusOperation <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>numOne<span class=\"token punctuation\">,</span> numTwo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numOne <span class=\"token operator\">+</span> numTwop <span class=\"token comment\" spellcheck=\"true\">//error:我们定义了void类型，即函数不返回任务值。</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"Object\"><a href=\"#Object\" class=\"headerlink\" title=\"Object\"></a>Object</h3><p><code>object</code>即排除所有 primitive 的类型(number, string, boolean, null, undefined)</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> userProfile<span class=\"token punctuation\">:</span> object <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> errorProfile<span class=\"token punctuation\">:</span> object <span class=\"token operator\">=</span> <span class=\"token number\">30</span> <span class=\"token comment\" spellcheck=\"true\">//error</span></code></pre>\n<h2 id=\"函数-Functions\"><a href=\"#函数-Functions\" class=\"headerlink\" title=\"函数 Functions\"></a>函数 Functions</h2><h3 id=\"Parameter-和返回的类型\"><a href=\"#Parameter-和返回的类型\" class=\"headerlink\" title=\"Parameter 和返回的类型\"></a>Parameter 和返回的类型</h3><p>我们可以给函数的值和返回的数值定义类型。下面的代码中我们定义<code>addOperation</code>的 parameters 类型为 number, 函数返回的类型为 number。</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> addOperation <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>numOne<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> numTwo<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numOne <span class=\"token operator\">+</span> numTwp\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//返回4</span>\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//error '3'不是number类型</span>\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">false</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//error false不是number类型</span></code></pre>\n<p>我们也可以给函数返回类型定义为 void。</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> modalMsg <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">void</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`Error: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>msg<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"不确定的函数值\"><a href=\"#不确定的函数值\" class=\"headerlink\" title=\"不确定的函数值\"></a>不确定的函数值</h3><p>假设我们不确定 parameter 的数值，即 numOne 可以是 null 或者是 number 类型，我们只需要在<code>:</code>前面加<code>?</code>就可以。</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> addOperation <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>numOne<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> numTwo<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>numOne<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> numOne <span class=\"token operator\">+</span> numTwo\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> numTwo\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//5</span>\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//8</span></code></pre>\n<h3 id=\"Default-Parameter\"><a href=\"#Default-Parameter\" class=\"headerlink\" title=\"Default Parameter\"></a>Default Parameter</h3><p>我们可以定义 default parameter 到函数中</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> addOperation <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>numOne<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span><span class=\"token punctuation\">,</span> numTwo<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numOne <span class=\"token operator\">+</span> numTwo\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//13</span>\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//13</span></code></pre>\n<h2 id=\"接口-Interface\"><a href=\"#接口-Interface\" class=\"headerlink\" title=\"接口 Interface\"></a>接口 Interface</h2><pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Address</span> <span class=\"token punctuation\">{</span>\n  road<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n  unit<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n  zip<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n  country<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Profile</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n  age<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span>\n  address<span class=\"token punctuation\">:</span> Address\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> userInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>profile<span class=\"token punctuation\">:</span> Profile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token string\">`User name is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>profile<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and age is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>profile<span class=\"token punctuation\">.</span>age<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"React-与-TSX\"><a href=\"#React-与-TSX\" class=\"headerlink\" title=\"React 与 TSX\"></a>React 与 TSX</h2><h3 id=\"Function-Components\"><a href=\"#Function-Components\" class=\"headerlink\" title=\"Function Components\"></a>Function Components</h3><p>在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性</p>\n<p>如下创建一个 Card 组件</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token comment\" spellcheck=\"true\">//Props可以传递object</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Attribute</span> <span class=\"token punctuation\">{</span>\n  hp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span>\n  mp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span>\n  attack<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span>\n  info<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//父级属性</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n  isRare<span class=\"token punctuation\">:</span> <span class=\"token keyword\">boolean</span>\n  toggle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">string</span>\n  attribute<span class=\"token punctuation\">:</span> Attributes\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//用&lt;Props>来声明Props</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Card<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC<span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> isRare<span class=\"token punctuation\">,</span> toggle<span class=\"token punctuation\">,</span> attribute <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h3<span class=\"token operator\">></span>Card name is <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>isRare <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>This card is rare<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h4 id=\"useState-Hooks\"><a href=\"#useState-Hooks\" class=\"headerlink\" title=\"useState Hooks\"></a>useState Hooks</h4><pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token comment\" spellcheck=\"true\">//声明的state可以是number也可以是null</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span><span class=\"token keyword\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">|</span> undefined<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//在useState中传递props</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>学习 Angular 的时候要用 typescritp 来写。于是学习 typescript 成了我的 angular 的前置课程。本文主要是记录 typescript 的一些特性和语法，以及介绍一些在 react 中写 typescript(tsx)的基础。</p>\n</blockquote>","more":"<h2 id=\"简介-Introduction\"><a href=\"#简介-Introduction\" class=\"headerlink\" title=\"简介 Introduction\"></a>简介 Introduction</h2><blockquote>\n<p>Typescript 是 javascript 的 superset，也就是说你之前学到的 javascript 或者 ES6 的写法都可以写在 typescript 中。但是不同的是我们可以给变量添加类型(type), 比如 number 可以是 interger 或者 double, 又或者是 boolean 的类型。我们甚至可以给函数添加返回的类型等等。我们在之后会一一介绍。总体来说，typescript 可以让我们之前写的 javascript 更加严谨且代码更容易理解。</p>\n</blockquote>\n<h2 id=\"安装-Environment-Setup\"><a href=\"#安装-Environment-Setup\" class=\"headerlink\" title=\"安装 Environment Setup\"></a>安装 Environment Setup</h2><p>安装 typescript 之前我们确保已经安装了 node.js。如果没有，可以到 nodejs.org 下载 LTS 版本(LTS 即 long term support 也就是稳定版)。</p>\n<p>如果你不确定是否已经安装过 node.js, 可以在 cmd 中输入<code>node -v</code>。安装过的话会显示当前 node 的版本号。</p>\n<p>之后我们便可以在 cmd 中输入<code>npm install -g typescript</code>。</p>\n<h2 id=\"变量定义-Variable-Declartions\"><a href=\"#变量定义-Variable-Declartions\" class=\"headerlink\" title=\"变量定义 Variable Declartions\"></a>变量定义 Variable Declartions</h2><p>这里跟 ES6 一样。我们简单介绍下两种变量定义的方法 let 和 const</p>\n<p><strong>let</strong></p>\n<ul>\n<li>首先，let 不需要初始化(initialize)数值。比如我们可以声明一个 myAge 变量如：let myAge。</li>\n<li>其次，let 可以重新声明变量值。比如我们声明一个变量 let myAge = 5。之后我们可以 myAge = 10。</li>\n</ul>\n<p><strong>const</strong></p>\n<ul>\n<li>const 必须初始化一个数值，不能留空。比如<code>cont myName</code>这样就会报错。</li>\n<li>const 声明的变量值，之后<strong>不可以更改</strong>。假设我们创建了一个变量<code>const myName = &#39;Yang&#39;</code>。之后就不可以更改 myName 的值了。</li>\n<li>大多数情况下，const 可能是我们会用到最多的声明方式。我们也尽可能选择 const 以避免 let 重复声明(re-assign)可能会带来的未知错误。比如函数，常量我们都可以用 const 来声明。</li>\n</ul>\n<h2 id=\"变量类型-Variable-Types\"><a href=\"#变量类型-Variable-Types\" class=\"headerlink\" title=\"变量类型 Variable Types\"></a>变量类型 Variable Types</h2><p>在给变量定义类型后，我们重新声明变量的值必须匹配它的类型。比如 <code>let example:string</code>。我们之后只能定义 example 为 string。这样也可以让我们的代码更严谨。这部分我们主要介绍 boolean, number, string, null, undefined, array, any 类型。</p>\n<h3 id=\"Boolean\"><a href=\"#Boolean\" class=\"headerlink\" title=\"Boolean\"></a>Boolean</h3><p>boolean 即 true 或 false<br><code>let isRare:boolean = false</code></p>\n<h3 id=\"Number\"><a href=\"#Number\" class=\"headerlink\" title=\"Number\"></a>Number</h3><p>number 类型可以是 int 或者是 double</p>\n<pre><code class=\"ts\">let myAge: number = 23\nlet monitorPrice: number = 399.99</code></pre>\n<h3 id=\"String\"><a href=\"#String\" class=\"headerlink\" title=\"String\"></a>String</h3><pre><code class=\"ts\">const title: string = &#39;Typescript 2020&#39;</code></pre>\n<h3 id=\"Null-Undefined\"><a href=\"#Null-Undefined\" class=\"headerlink\" title=\"Null Undefined\"></a>Null Undefined</h3><p>null 和 undefined 都属于附属类型（sub-types)。即我们可以给之前的任何变量声明 null 和 undefined。</p>\n<pre><code class=\"ts\">let username: null = null\nlet userprofile: undefined = undefined</code></pre>\n<p>但我们很多情况下是预期得到的变量类型是 string 或者 number，但又可能返回 null 和 undefined。就可以用以下方式</p>\n<pre><code class=\"ts\">const username: string | null = null\nconst isUser: boolean = undefined</code></pre>\n<h3 id=\"Array\"><a href=\"#Array\" class=\"headerlink\" title=\"Array\"></a>Array</h3><p>定义数组的类型也很简单。在类型后加入<code>[]</code></p>\n<pre><code class=\"ts\">let cartList: string[] = [&#39;apple&#39;, &#39;orange&#39;, &#39;milk&#39;]\nlet randomNumList: number[] = [13, 22, 3, 344]</code></pre>\n<p>或者用 Generics 的写法来定义</p>\n<pre><code class=\"ts\">let cartList: Array&lt;string&gt; = [&#39;apple&#39;, &#39;orange&#39;, &#39;milk&#39;]\nlet randomNumList: Array&lt;number&gt; = [13, 22, 3, 344]</code></pre>\n<h3 id=\"Tuples\"><a href=\"#Tuples\" class=\"headerlink\" title=\"Tuples\"></a>Tuples</h3><p>假设我们想在数组中混合变量类型，那我们可以用 tuple 来实现</p>\n<pre><code class=\"ts\">let myMixList: [string, number, boolean] = [&#39;name&#39;, 23, false]</code></pre>\n<p>需要注意的是 tuple 数组内的元素是固定的。也就说一旦我们声明完变量类型，我们不可以添加其他元素到 tuple 数组。</p>\n<pre><code class=\"ts\">let myMixList: [string, number, boolean] = [&#39;name&#39;, &#39;number&#39;, false] //error\nlet myMixList: [string, number, boolean] = [&#39;name&#39;, 23, 23] //error\nlet myMixList: [string, number, boolean] = [false, 23, false] //error\n\nmyMixList[0] = 23 //erro: 不能更改变量类型\nmyMixList[1].toLowerCase() //error: 数组索引值1处为数字 不能用string method</code></pre>\n<h3 id=\"Any\"><a href=\"#Any\" class=\"headerlink\" title=\"Any\"></a>Any</h3><p>有些情况下我们不确定我们变量的类型。比如我们想 fecth 第三方 API 获取数据的时候，有的数据可能会返回 null 或者 undefined，或者其他类型我们不确定。这时候我们可以用 any。</p>\n<pre><code class=\"ts\">let unknowType: any = &#39;Can be a string&#39;\nunknowType = 23\nunknowType = false</code></pre>\n<p>有的时候我们知道返回变量的类型但定义要用 any，这种情况可以用 type assertion</p>\n<pre><code class=\"ts\">let unknowValue: any = &#39;Use as to get length&#39;\nlet n: numbner = (unknowValue as string).length</code></pre>\n<h3 id=\"Void\"><a href=\"#Void\" class=\"headerlink\" title=\"Void\"></a>Void</h3><p>我们一般用于返回函数时定义的类型。</p>\n<pre><code class=\"ts\">const modalMsg = (): void =&gt; {\n  console.log(&#39;This function does not return anything&#39;)\n}\n\nconst plusOperation = (numOne, numTwo): void =&gt; {\n  return numOne + numTwop //error:我们定义了void类型，即函数不返回任务值。\n}</code></pre>\n<h3 id=\"Object\"><a href=\"#Object\" class=\"headerlink\" title=\"Object\"></a>Object</h3><p><code>object</code>即排除所有 primitive 的类型(number, string, boolean, null, undefined)</p>\n<pre><code class=\"ts\">const userProfile: object = { name: &#39;Yang&#39;, age: 23 }\nconst errorProfile: object = 30 //error</code></pre>\n<h2 id=\"函数-Functions\"><a href=\"#函数-Functions\" class=\"headerlink\" title=\"函数 Functions\"></a>函数 Functions</h2><h3 id=\"Parameter-和返回的类型\"><a href=\"#Parameter-和返回的类型\" class=\"headerlink\" title=\"Parameter 和返回的类型\"></a>Parameter 和返回的类型</h3><p>我们可以给函数的值和返回的数值定义类型。下面的代码中我们定义<code>addOperation</code>的 parameters 类型为 number, 函数返回的类型为 number。</p>\n<pre><code class=\"ts\">const addOperation = (numOne: number, numTwo: number): number =&gt; {\n  return numOne + numTwp\n}\n\naddOperation(1, 3) //返回4\naddOperation(1, &#39;3&#39;) //error &#39;3&#39;不是number类型\naddOperation(1, false) //error false不是number类型</code></pre>\n<p>我们也可以给函数返回类型定义为 void。</p>\n<pre><code class=\"ts\">const modalMsg = (msg: string): void =&gt; {\n  console.log(`Error: ${msg}`)\n}</code></pre>\n<h3 id=\"不确定的函数值\"><a href=\"#不确定的函数值\" class=\"headerlink\" title=\"不确定的函数值\"></a>不确定的函数值</h3><p>假设我们不确定 parameter 的数值，即 numOne 可以是 null 或者是 number 类型，我们只需要在<code>:</code>前面加<code>?</code>就可以。</p>\n<pre><code class=\"ts\">const addOperation = (numOne?: number, numTwo: number): number =&gt; {\n  if (numOne) {\n    return numOne + numTwo\n  } else {\n    return numTwo\n  }\n}\n\naddOperation(null, 5) //5\naddOperation(3, 5) //8</code></pre>\n<h3 id=\"Default-Parameter\"><a href=\"#Default-Parameter\" class=\"headerlink\" title=\"Default Parameter\"></a>Default Parameter</h3><p>我们可以定义 default parameter 到函数中</p>\n<pre><code class=\"ts\">const addOperation = (numOne: number, numTwo: number = 10): number =&gt; {\n  return numOne + numTwo\n}\n\naddOperation(3, 10) //13\naddOperation(3) //13</code></pre>\n<h2 id=\"接口-Interface\"><a href=\"#接口-Interface\" class=\"headerlink\" title=\"接口 Interface\"></a>接口 Interface</h2><pre><code class=\"ts\">interface Address {\n  road: string\n  unit: string\n  zip: string\n  country: string\n}\n\ninterface Profile {\n  name: string\n  age: number\n  address: Address\n}\nconst userInfo = (profile: Profile): string =&gt; {\n  return `User name is ${profile.name} and age is ${profile.age}`\n}</code></pre>\n<h2 id=\"React-与-TSX\"><a href=\"#React-与-TSX\" class=\"headerlink\" title=\"React 与 TSX\"></a>React 与 TSX</h2><h3 id=\"Function-Components\"><a href=\"#Function-Components\" class=\"headerlink\" title=\"Function Components\"></a>Function Components</h3><p>在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性</p>\n<p>如下创建一个 Card 组件</p>\n<pre><code class=\"ts\">//Props可以传递object\ninterface Attribute {\n  hp: number\n  mp: number\n  attack: number\n  info: string\n}\n\n//父级属性\ninterface Props {\n  name: string\n  isRare: boolean\n  toggle: (method: string) =&gt; string\n  attribute: Attributes\n}\n\n//用&lt;Props&gt;来声明Props\nexport const Card: React.FC&lt;Props&gt; = ({ name, isRare, toggle, attribute }) =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;h3&gt;Card name is {name}&lt;/h3&gt;\n      {isRare ? &lt;p&gt;This card is rare&lt;/p&gt; : null}\n    &lt;/div&gt;\n  )\n}</code></pre>\n<h4 id=\"useState-Hooks\"><a href=\"#useState-Hooks\" class=\"headerlink\" title=\"useState Hooks\"></a>useState Hooks</h4><pre><code class=\"ts\">//声明的state可以是number也可以是null\nconst [count, setCount] = useState&lt;number | null | undefined&gt;(5)\n\n//在useState中传递props\nconst [count, setCount] = useState&lt;{ name: string }&gt;(name)</code></pre>"},{"title":"如何创建你的第一个React组件库并发布到npm","date":"2020-06-15T06:51:11.000Z","cover":"https://www.itprotoday.com/sites/itprotoday.com/files/styles/article_featured_retina/public/github-npm.png?itok=NVoj-tk8","_content":"\n> 在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库\n\n<!-- more -->\n\n## 安装 npm\n\n首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为`react-current-time`的项目, 然后进入到该项目目录中\n\n```cmd\nmkdir react-current-time\ncd react-current-time\n```\n\n然后我们可以安装建立`package.json`文件到该目录\n\n```cmd\nnpm init -y\n```\n\n之后安装 typescript 依赖到该目录\n\n```cmd\nnpm i typescript -D\n```\n\n接下来安装 typescript 的配置文件\n\n```cmd\nnpx tsc --init\n```\n\n安装 react 依赖\n\n```cmd\nnpm i react @types/react -D\n```\n\n完成以上后我们可以进入文件夹目录配置相关文件\n\n## 配置文件\n\n### tsconfig.json\n\n首先打开目录中的`tsconfig.json`文件，然后更改为以下相关的设置\n\n```json\n{\n  \"compilerOptions\": {\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"lib\"\n  },\n  \"include\": [\"src\"]\n}\n```\n\n更改完`tsconfig.json`文件后，我们在项目目录创建`src`目录并创建`index.tsx`文件在该目录，这也是我们文件的入点\n\n## 创建组件\n\n接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染\n\n```jsx\nimport React from 'react'\n\ninterface Props {\n    name: string\n    category: string\n    isRare: boolean\n}\n\nexport const Card: React.FC<Props> = ({name, category, isRare}) => {\n    return (\n        <div>\n            <p>Card name: {name}</p>\n            <p>Card category: {category}</p>\n            {isRare ? <p>Rare Card</p> : null}\n        </div>\n    )\n}\n```\n\n## 打包发布到 npm\n\n当我们的组件完成后，我们可以打包我们的项目发布到 npm。\n\n首先打开项目目录内的`package.json`文件，在`scripts`处加入`\"build\": \"tsc -p .\"`\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"tsc -p .\"\n  }\n}\n```\n\n在 terminal 中进入到该项目目录，然后在该目录下输入`npm run build`\n\n```cmd\nnpm run build\n```\n\n输入`npm login`登录 npm\n\n```cmd\nnpm login\nUsername: yang052513\npassword:\n```\n\n最后用命令`npm publish`就可以发布到 npm 上，可以在个人信息的 package 处查看\n\n> 注: 初次发布的版本为`1.0.0`, 可以在项目根目录的`package.json`文件进行更改。更改之后若要发布新的版本必须在`package.json`文件内更改`version`之后才能发布\n\n## 导入和使用\n\n现在我们就可以用我们的自己的组件库啦。下面用一个`react` boiler plate 项目来展示如何导入我们自己的库。\n\n首先在我们新的项目中安装我们建立的 npm 包\n\n```cmd\nnpm install react-card-demo\n```\n\n然后导入组件\n\n```cmd\nimport {Card} from react-card-demo\n```\n\n> 注: 因为我们之前用的`typescript`来创建的组件，所以要加上`{}`。如果是`jsx`, 可以直接`import Card from react-card-demo`\n\n```jsx\nimport React from 'react'\n//导入组件\nimport { Card } from 'react-card-demo`\n\nexport const App: React.FC = () => {\n    return (\n        <div className=\"app=container\">\n              {/* 我们之前给Card组件创建了3个props */}\n            <Card name=\"Fate Stay Night\" category=\"Gal Game\" isRare={false}>\n        </div>\n    )\n}\n```\n","source":"_posts/08-your-first-npm-package.md","raw":"---\ntitle: 如何创建你的第一个React组件库并发布到npm\ndate: 2020-06-14 23:51:11\ntags: ['react', 'typescript', 'notes', 'npm', 'node']\ncategories: Articles\ncover: 'https://www.itprotoday.com/sites/itprotoday.com/files/styles/article_featured_retina/public/github-npm.png?itok=NVoj-tk8'\n---\n\n> 在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库\n\n<!-- more -->\n\n## 安装 npm\n\n首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为`react-current-time`的项目, 然后进入到该项目目录中\n\n```cmd\nmkdir react-current-time\ncd react-current-time\n```\n\n然后我们可以安装建立`package.json`文件到该目录\n\n```cmd\nnpm init -y\n```\n\n之后安装 typescript 依赖到该目录\n\n```cmd\nnpm i typescript -D\n```\n\n接下来安装 typescript 的配置文件\n\n```cmd\nnpx tsc --init\n```\n\n安装 react 依赖\n\n```cmd\nnpm i react @types/react -D\n```\n\n完成以上后我们可以进入文件夹目录配置相关文件\n\n## 配置文件\n\n### tsconfig.json\n\n首先打开目录中的`tsconfig.json`文件，然后更改为以下相关的设置\n\n```json\n{\n  \"compilerOptions\": {\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"lib\"\n  },\n  \"include\": [\"src\"]\n}\n```\n\n更改完`tsconfig.json`文件后，我们在项目目录创建`src`目录并创建`index.tsx`文件在该目录，这也是我们文件的入点\n\n## 创建组件\n\n接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染\n\n```jsx\nimport React from 'react'\n\ninterface Props {\n    name: string\n    category: string\n    isRare: boolean\n}\n\nexport const Card: React.FC<Props> = ({name, category, isRare}) => {\n    return (\n        <div>\n            <p>Card name: {name}</p>\n            <p>Card category: {category}</p>\n            {isRare ? <p>Rare Card</p> : null}\n        </div>\n    )\n}\n```\n\n## 打包发布到 npm\n\n当我们的组件完成后，我们可以打包我们的项目发布到 npm。\n\n首先打开项目目录内的`package.json`文件，在`scripts`处加入`\"build\": \"tsc -p .\"`\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"tsc -p .\"\n  }\n}\n```\n\n在 terminal 中进入到该项目目录，然后在该目录下输入`npm run build`\n\n```cmd\nnpm run build\n```\n\n输入`npm login`登录 npm\n\n```cmd\nnpm login\nUsername: yang052513\npassword:\n```\n\n最后用命令`npm publish`就可以发布到 npm 上，可以在个人信息的 package 处查看\n\n> 注: 初次发布的版本为`1.0.0`, 可以在项目根目录的`package.json`文件进行更改。更改之后若要发布新的版本必须在`package.json`文件内更改`version`之后才能发布\n\n## 导入和使用\n\n现在我们就可以用我们的自己的组件库啦。下面用一个`react` boiler plate 项目来展示如何导入我们自己的库。\n\n首先在我们新的项目中安装我们建立的 npm 包\n\n```cmd\nnpm install react-card-demo\n```\n\n然后导入组件\n\n```cmd\nimport {Card} from react-card-demo\n```\n\n> 注: 因为我们之前用的`typescript`来创建的组件，所以要加上`{}`。如果是`jsx`, 可以直接`import Card from react-card-demo`\n\n```jsx\nimport React from 'react'\n//导入组件\nimport { Card } from 'react-card-demo`\n\nexport const App: React.FC = () => {\n    return (\n        <div className=\"app=container\">\n              {/* 我们之前给Card组件创建了3个props */}\n            <Card name=\"Fate Stay Night\" category=\"Gal Game\" isRare={false}>\n        </div>\n    )\n}\n```\n","slug":"08-your-first-npm-package","published":1,"updated":"2020-06-20T07:10:28.240Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckbnbuimy000gi0uiaa25fgup","content":"<blockquote>\n<p>在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"安装-npm\"><a href=\"#安装-npm\" class=\"headerlink\" title=\"安装 npm\"></a>安装 npm</h2><p>首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为<code>react-current-time</code>的项目, 然后进入到该项目目录中</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">mkdir react-current-time\ncd react-current-time</code></pre>\n<p>然后我们可以安装建立<code>package.json</code>文件到该目录</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm init -y</code></pre>\n<p>之后安装 typescript 依赖到该目录</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm i typescript -D</code></pre>\n<p>接下来安装 typescript 的配置文件</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npx tsc --init</code></pre>\n<p>安装 react 依赖</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm i react @types/react -D</code></pre>\n<p>完成以上后我们可以进入文件夹目录配置相关文件</p>\n<h2 id=\"配置文件\"><a href=\"#配置文件\" class=\"headerlink\" title=\"配置文件\"></a>配置文件</h2><h3 id=\"tsconfig-json\"><a href=\"#tsconfig-json\" class=\"headerlink\" title=\"tsconfig.json\"></a>tsconfig.json</h3><p>首先打开目录中的<code>tsconfig.json</code>文件，然后更改为以下相关的设置</p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"declaration\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"declarationMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sourceMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lib\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>更改完<code>tsconfig.json</code>文件后，我们在项目目录创建<code>src</code>目录并创建<code>index.tsx</code>文件在该目录，这也是我们文件的入点</p>\n<h2 id=\"创建组件\"><a href=\"#创建组件\" class=\"headerlink\" title=\"创建组件\"></a>创建组件</h2><p>接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> string\n    category<span class=\"token punctuation\">:</span> string\n    isRare<span class=\"token punctuation\">:</span> boolean\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Card<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Props</span><span class=\"token punctuation\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> isRare<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Card name<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Card category<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token punctuation\">{</span>isRare <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Rare Card<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"打包发布到-npm\"><a href=\"#打包发布到-npm\" class=\"headerlink\" title=\"打包发布到 npm\"></a>打包发布到 npm</h2><p>当我们的组件完成后，我们可以打包我们的项目发布到 npm。</p>\n<p>首先打开项目目录内的<code>package.json</code>文件，在<code>scripts</code>处加入<code>&quot;build&quot;: &quot;tsc -p .&quot;</code></p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc -p .\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>在 terminal 中进入到该项目目录，然后在该目录下输入<code>npm run build</code></p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm run build</code></pre>\n<p>输入<code>npm login</code>登录 npm</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm login\nUsername: yang052513\npassword:</code></pre>\n<p>最后用命令<code>npm publish</code>就可以发布到 npm 上，可以在个人信息的 package 处查看</p>\n<blockquote>\n<p>注: 初次发布的版本为<code>1.0.0</code>, 可以在项目根目录的<code>package.json</code>文件进行更改。更改之后若要发布新的版本必须在<code>package.json</code>文件内更改<code>version</code>之后才能发布</p>\n</blockquote>\n<h2 id=\"导入和使用\"><a href=\"#导入和使用\" class=\"headerlink\" title=\"导入和使用\"></a>导入和使用</h2><p>现在我们就可以用我们的自己的组件库啦。下面用一个<code>react</code> boiler plate 项目来展示如何导入我们自己的库。</p>\n<p>首先在我们新的项目中安装我们建立的 npm 包</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm install react-card-demo</code></pre>\n<p>然后导入组件</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">import {Card} from react-card-demo</code></pre>\n<blockquote>\n<p>注: 因为我们之前用的<code>typescript</code>来创建的组件，所以要加上<code>{}</code>。如果是<code>jsx</code>, 可以直接<code>import Card from react-card-demo</code></p>\n</blockquote>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token comment\" spellcheck=\"true\">//导入组件</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Card <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> 'react<span class=\"token operator\">-</span>card<span class=\"token operator\">-</span>demo`\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> App<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">=</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n              <span class=\"token punctuation\">{</span><span class=\"token comment\" spellcheck=\"true\">/* 我们之前给Card组件创建了3个props */</span><span class=\"token punctuation\">}</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Card</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Fate</span> <span class=\"token attr-name\">Stay</span> <span class=\"token attr-name\">Night\"</span> <span class=\"token attr-name\">category</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Gal</span> <span class=\"token attr-name\">Game\"</span> <span class=\"token attr-name\">isRare</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库</p>\n</blockquote>","more":"<h2 id=\"安装-npm\"><a href=\"#安装-npm\" class=\"headerlink\" title=\"安装 npm\"></a>安装 npm</h2><p>首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为<code>react-current-time</code>的项目, 然后进入到该项目目录中</p>\n<pre><code class=\"cmd\">mkdir react-current-time\ncd react-current-time</code></pre>\n<p>然后我们可以安装建立<code>package.json</code>文件到该目录</p>\n<pre><code class=\"cmd\">npm init -y</code></pre>\n<p>之后安装 typescript 依赖到该目录</p>\n<pre><code class=\"cmd\">npm i typescript -D</code></pre>\n<p>接下来安装 typescript 的配置文件</p>\n<pre><code class=\"cmd\">npx tsc --init</code></pre>\n<p>安装 react 依赖</p>\n<pre><code class=\"cmd\">npm i react @types/react -D</code></pre>\n<p>完成以上后我们可以进入文件夹目录配置相关文件</p>\n<h2 id=\"配置文件\"><a href=\"#配置文件\" class=\"headerlink\" title=\"配置文件\"></a>配置文件</h2><h3 id=\"tsconfig-json\"><a href=\"#tsconfig-json\" class=\"headerlink\" title=\"tsconfig.json\"></a>tsconfig.json</h3><p>首先打开目录中的<code>tsconfig.json</code>文件，然后更改为以下相关的设置</p>\n<pre><code class=\"json\">{\n  &quot;compilerOptions&quot;: {\n    &quot;jsx&quot;: &quot;react&quot;,\n    &quot;declaration&quot;: true,\n    &quot;declarationMap&quot;: true,\n    &quot;sourceMap&quot;: true,\n    &quot;outDir&quot;: &quot;lib&quot;\n  },\n  &quot;include&quot;: [&quot;src&quot;]\n}</code></pre>\n<p>更改完<code>tsconfig.json</code>文件后，我们在项目目录创建<code>src</code>目录并创建<code>index.tsx</code>文件在该目录，这也是我们文件的入点</p>\n<h2 id=\"创建组件\"><a href=\"#创建组件\" class=\"headerlink\" title=\"创建组件\"></a>创建组件</h2><p>接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染</p>\n<pre><code class=\"jsx\">import React from &#39;react&#39;\n\ninterface Props {\n    name: string\n    category: string\n    isRare: boolean\n}\n\nexport const Card: React.FC&lt;Props&gt; = ({name, category, isRare}) =&gt; {\n    return (\n        &lt;div&gt;\n            &lt;p&gt;Card name: {name}&lt;/p&gt;\n            &lt;p&gt;Card category: {category}&lt;/p&gt;\n            {isRare ? &lt;p&gt;Rare Card&lt;/p&gt; : null}\n        &lt;/div&gt;\n    )\n}</code></pre>\n<h2 id=\"打包发布到-npm\"><a href=\"#打包发布到-npm\" class=\"headerlink\" title=\"打包发布到 npm\"></a>打包发布到 npm</h2><p>当我们的组件完成后，我们可以打包我们的项目发布到 npm。</p>\n<p>首先打开项目目录内的<code>package.json</code>文件，在<code>scripts</code>处加入<code>&quot;build&quot;: &quot;tsc -p .&quot;</code></p>\n<pre><code class=\"json\">{\n  &quot;scripts&quot;: {\n    &quot;build&quot;: &quot;tsc -p .&quot;\n  }\n}</code></pre>\n<p>在 terminal 中进入到该项目目录，然后在该目录下输入<code>npm run build</code></p>\n<pre><code class=\"cmd\">npm run build</code></pre>\n<p>输入<code>npm login</code>登录 npm</p>\n<pre><code class=\"cmd\">npm login\nUsername: yang052513\npassword:</code></pre>\n<p>最后用命令<code>npm publish</code>就可以发布到 npm 上，可以在个人信息的 package 处查看</p>\n<blockquote>\n<p>注: 初次发布的版本为<code>1.0.0</code>, 可以在项目根目录的<code>package.json</code>文件进行更改。更改之后若要发布新的版本必须在<code>package.json</code>文件内更改<code>version</code>之后才能发布</p>\n</blockquote>\n<h2 id=\"导入和使用\"><a href=\"#导入和使用\" class=\"headerlink\" title=\"导入和使用\"></a>导入和使用</h2><p>现在我们就可以用我们的自己的组件库啦。下面用一个<code>react</code> boiler plate 项目来展示如何导入我们自己的库。</p>\n<p>首先在我们新的项目中安装我们建立的 npm 包</p>\n<pre><code class=\"cmd\">npm install react-card-demo</code></pre>\n<p>然后导入组件</p>\n<pre><code class=\"cmd\">import {Card} from react-card-demo</code></pre>\n<blockquote>\n<p>注: 因为我们之前用的<code>typescript</code>来创建的组件，所以要加上<code>{}</code>。如果是<code>jsx</code>, 可以直接<code>import Card from react-card-demo</code></p>\n</blockquote>\n<pre><code class=\"jsx\">import React from &#39;react&#39;\n//导入组件\nimport { Card } from &#39;react-card-demo`\n\nexport const App: React.FC = () =&gt; {\n    return (\n        &lt;div className=&quot;app=container&quot;&gt;\n              {/* 我们之前给Card组件创建了3个props */}\n            &lt;Card name=&quot;Fate Stay Night&quot; category=&quot;Gal Game&quot; isRare={false}&gt;\n        &lt;/div&gt;\n    )\n}</code></pre>"},{"title":"自定义Windows10下的terminal外观","date":"2020-06-15T07:55:13.000Z","cover":"https://i1.wp.com/regroove.ca/wp-content/uploads/2018/08/powershell.png?fit=2560%2C1440&ssl=1","_content":"\n> 之前用 MacOS 时用的 iterm2 非常好用，无论外观自定义还是 git 当前分支的提醒，都比系统自带的 terminal 好看很多。换到 windows 之后，这个原生的界面...不能看！好在微软自己推出了一个 terminal 可以自定义 powershell 和 cmd 的外观，更改完后...真香！\n\n<!-- more -->\n\n## 安装软件\n\n首先我们去 windows microsoft store 搜索`Windows Terminal`，然后点击 install 安装。\n\n完成安装后我们打开 Terminal 应用，按下`Ctrl+,`打开配置文件`settings.json`。\n\n我们主要就在这个文件内更改 powershell 的字体和外观。\n\n## 色板 Color Schemes\n\nhttps://atomcorp.github.io/themes/ 这个网站提供了大量的色彩配色方案。各种主题应有尽有...\n\n我们先挑选一个色调，比如`Batman`。\n\n然后我们点击`Get Theme`, 你的剪贴板内就会复制这个主题的 json 格式\n\n```json\n{\n  \"name\": \"Batman\",\n  \"black\": \"#1b1d1e\",\n  \"red\": \"#e6dc44\",\n  \"green\": \"#c8be46\",\n  \"yellow\": \"#f4fd22\",\n  \"blue\": \"#737174\",\n  \"purple\": \"#747271\",\n  \"cyan\": \"#62605f\",\n  \"white\": \"#c6c5bf\",\n  \"brightBlack\": \"#505354\",\n  \"brightRed\": \"#fff78e\",\n  \"brightGreen\": \"#fff27d\",\n  \"brightYellow\": \"#feed6c\",\n  \"brightBlue\": \"#919495\",\n  \"brightPurple\": \"#9a9a9d\",\n  \"brightCyan\": \"#a3a3a6\",\n  \"brightWhite\": \"#dadbd6\",\n  \"background\": \"#1b1d1e\",\n  \"foreground\": \"#6f6f6f\"\n}\n```\n\n我们再回到 settings.json 文件内，找到`\"schemes\": [ ],`。\n\n这个数组就是用来定义我们主题色。我们把刚刚拷贝的主题粘贴到这个数组内。\n\n```json\n{\n  \"schemes\": [\n    {\n      \"name\": \"Batman\",\n      \"black\": \"#1b1d1e\",\n      \"red\": \"#e6dc44\",\n      \"green\": \"#c8be46\",\n      \"yellow\": \"#f4fd22\",\n      \"blue\": \"#737174\",\n      \"purple\": \"#747271\",\n      \"cyan\": \"#62605f\",\n      \"white\": \"#c6c5bf\",\n      \"brightBlack\": \"#505354\",\n      \"brightRed\": \"#fff78e\",\n      \"brightGreen\": \"#fff27d\",\n      \"brightYellow\": \"#feed6c\",\n      \"brightBlue\": \"#919495\",\n      \"brightPurple\": \"#9a9a9d\",\n      \"brightCyan\": \"#a3a3a6\",\n      \"brightWhite\": \"#dadbd6\",\n      \"background\": \"#1b1d1e\",\n      \"foreground\": \"#6f6f6f\"\n    }\n  ]\n}\n```\n\n然后在`profiles`部分添加该主题名来指定我们的主题\n\n```json\n{\n  \"colorScheme\": \"Batman\"\n}\n```\n\n当然，因为这是一个配置文件，`schemes`里的任何颜色变量时都可以更改的。也就是说你可以在一个主题的基础上进行魔改达到你想要的效果。\n\n这样我们的颜色主题就更改完成了\n\n## 自定义平台\n\n在`setting.json`文件中，我们看下`profiles`这一部分。\n\n每个 profiles 的类都有一个`guid`，比如 Powershell, Cmd, Azure Cloud Shell 他们的 guid 都是不同的。\n\n`profiles`的上方我们可以看到有一个`defaultProfile`，那这个定义的 guid 就是我们默认 Termin 应用打开时启动的终端。\n\n如果我们想用原生 Cmd, 就可以把 cmd 的 guid 复制到`defaultProfile`内。\n\n## 自定义字体，背景\n\n`fontFace`更改字体，字体名可以在 windows 字体库中查看\n`fontSize` 定义字体的大小\n`icon`: 更改应用上方的图标，文件地址为绝对路径\n`backgroundImage`: 更改应用内的背景，图片地址为绝对地址\n`backgroundImageOpacity`: 背景图片的透明度。0 即不显示\n`startingDirector`: 打开应用时的默认路径\n\n```json\n  \"profiles\":\n    [\n        {\n        \"guid\": \"{61c54bbd-c2c6-5271-96e7-009a87ff44bf}\",\n        \"name\": \"Yang's WorkSpace\",\n        \"commandline\": \"powershell.exe\",\n        \"hidden\": false,\n        \"colorScheme\": \"Thayer Bright\",\n        \"fontFace\": \"Monaco\",\n        \"fontSize\": 9,\n        \"cursorShape\": \"underscore\",\n        \"cursorColor\": \"#fff\",\n        \"icon\": \"C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\logo.png\",\n        \"backgroundImage\": \"C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\Wallpaper\\\\login-bg.png\",\n        \"backgroundImageOpacity\": 0.2,\n        \"startingDirectory\": \"C:\\\\Users\\\\Yang\\\\Projects\"\n        },\n    ]\n```\n","source":"_posts/09-customize-powershell.md","raw":"---\ntitle: 自定义Windows10下的terminal外观\ndate: 2020-06-15 00:55:13\ntags: ['windows', 'powershell', 'terminal']\ncategories: Articels\ncover: 'https://i1.wp.com/regroove.ca/wp-content/uploads/2018/08/powershell.png?fit=2560%2C1440&ssl=1'\n---\n\n> 之前用 MacOS 时用的 iterm2 非常好用，无论外观自定义还是 git 当前分支的提醒，都比系统自带的 terminal 好看很多。换到 windows 之后，这个原生的界面...不能看！好在微软自己推出了一个 terminal 可以自定义 powershell 和 cmd 的外观，更改完后...真香！\n\n<!-- more -->\n\n## 安装软件\n\n首先我们去 windows microsoft store 搜索`Windows Terminal`，然后点击 install 安装。\n\n完成安装后我们打开 Terminal 应用，按下`Ctrl+,`打开配置文件`settings.json`。\n\n我们主要就在这个文件内更改 powershell 的字体和外观。\n\n## 色板 Color Schemes\n\nhttps://atomcorp.github.io/themes/ 这个网站提供了大量的色彩配色方案。各种主题应有尽有...\n\n我们先挑选一个色调，比如`Batman`。\n\n然后我们点击`Get Theme`, 你的剪贴板内就会复制这个主题的 json 格式\n\n```json\n{\n  \"name\": \"Batman\",\n  \"black\": \"#1b1d1e\",\n  \"red\": \"#e6dc44\",\n  \"green\": \"#c8be46\",\n  \"yellow\": \"#f4fd22\",\n  \"blue\": \"#737174\",\n  \"purple\": \"#747271\",\n  \"cyan\": \"#62605f\",\n  \"white\": \"#c6c5bf\",\n  \"brightBlack\": \"#505354\",\n  \"brightRed\": \"#fff78e\",\n  \"brightGreen\": \"#fff27d\",\n  \"brightYellow\": \"#feed6c\",\n  \"brightBlue\": \"#919495\",\n  \"brightPurple\": \"#9a9a9d\",\n  \"brightCyan\": \"#a3a3a6\",\n  \"brightWhite\": \"#dadbd6\",\n  \"background\": \"#1b1d1e\",\n  \"foreground\": \"#6f6f6f\"\n}\n```\n\n我们再回到 settings.json 文件内，找到`\"schemes\": [ ],`。\n\n这个数组就是用来定义我们主题色。我们把刚刚拷贝的主题粘贴到这个数组内。\n\n```json\n{\n  \"schemes\": [\n    {\n      \"name\": \"Batman\",\n      \"black\": \"#1b1d1e\",\n      \"red\": \"#e6dc44\",\n      \"green\": \"#c8be46\",\n      \"yellow\": \"#f4fd22\",\n      \"blue\": \"#737174\",\n      \"purple\": \"#747271\",\n      \"cyan\": \"#62605f\",\n      \"white\": \"#c6c5bf\",\n      \"brightBlack\": \"#505354\",\n      \"brightRed\": \"#fff78e\",\n      \"brightGreen\": \"#fff27d\",\n      \"brightYellow\": \"#feed6c\",\n      \"brightBlue\": \"#919495\",\n      \"brightPurple\": \"#9a9a9d\",\n      \"brightCyan\": \"#a3a3a6\",\n      \"brightWhite\": \"#dadbd6\",\n      \"background\": \"#1b1d1e\",\n      \"foreground\": \"#6f6f6f\"\n    }\n  ]\n}\n```\n\n然后在`profiles`部分添加该主题名来指定我们的主题\n\n```json\n{\n  \"colorScheme\": \"Batman\"\n}\n```\n\n当然，因为这是一个配置文件，`schemes`里的任何颜色变量时都可以更改的。也就是说你可以在一个主题的基础上进行魔改达到你想要的效果。\n\n这样我们的颜色主题就更改完成了\n\n## 自定义平台\n\n在`setting.json`文件中，我们看下`profiles`这一部分。\n\n每个 profiles 的类都有一个`guid`，比如 Powershell, Cmd, Azure Cloud Shell 他们的 guid 都是不同的。\n\n`profiles`的上方我们可以看到有一个`defaultProfile`，那这个定义的 guid 就是我们默认 Termin 应用打开时启动的终端。\n\n如果我们想用原生 Cmd, 就可以把 cmd 的 guid 复制到`defaultProfile`内。\n\n## 自定义字体，背景\n\n`fontFace`更改字体，字体名可以在 windows 字体库中查看\n`fontSize` 定义字体的大小\n`icon`: 更改应用上方的图标，文件地址为绝对路径\n`backgroundImage`: 更改应用内的背景，图片地址为绝对地址\n`backgroundImageOpacity`: 背景图片的透明度。0 即不显示\n`startingDirector`: 打开应用时的默认路径\n\n```json\n  \"profiles\":\n    [\n        {\n        \"guid\": \"{61c54bbd-c2c6-5271-96e7-009a87ff44bf}\",\n        \"name\": \"Yang's WorkSpace\",\n        \"commandline\": \"powershell.exe\",\n        \"hidden\": false,\n        \"colorScheme\": \"Thayer Bright\",\n        \"fontFace\": \"Monaco\",\n        \"fontSize\": 9,\n        \"cursorShape\": \"underscore\",\n        \"cursorColor\": \"#fff\",\n        \"icon\": \"C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\logo.png\",\n        \"backgroundImage\": \"C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\Wallpaper\\\\login-bg.png\",\n        \"backgroundImageOpacity\": 0.2,\n        \"startingDirectory\": \"C:\\\\Users\\\\Yang\\\\Projects\"\n        },\n    ]\n```\n","slug":"09-customize-powershell","published":1,"updated":"2020-06-20T07:09:37.633Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckbnbuimz000ii0uibpjmgt85","content":"<blockquote>\n<p>之前用 MacOS 时用的 iterm2 非常好用，无论外观自定义还是 git 当前分支的提醒，都比系统自带的 terminal 好看很多。换到 windows 之后，这个原生的界面…不能看！好在微软自己推出了一个 terminal 可以自定义 powershell 和 cmd 的外观，更改完后…真香！</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"安装软件\"><a href=\"#安装软件\" class=\"headerlink\" title=\"安装软件\"></a>安装软件</h2><p>首先我们去 windows microsoft store 搜索<code>Windows Terminal</code>，然后点击 install 安装。</p>\n<p>完成安装后我们打开 Terminal 应用，按下<code>Ctrl+,</code>打开配置文件<code>settings.json</code>。</p>\n<p>我们主要就在这个文件内更改 powershell 的字体和外观。</p>\n<h2 id=\"色板-Color-Schemes\"><a href=\"#色板-Color-Schemes\" class=\"headerlink\" title=\"色板 Color Schemes\"></a>色板 Color Schemes</h2><p><a href=\"https://atomcorp.github.io/themes/\" target=\"_blank\" rel=\"noopener\">https://atomcorp.github.io/themes/</a> 这个网站提供了大量的色彩配色方案。各种主题应有尽有…</p>\n<p>我们先挑选一个色调，比如<code>Batman</code>。</p>\n<p>然后我们点击<code>Get Theme</code>, 你的剪贴板内就会复制这个主题的 json 格式</p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Batman\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"black\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#1b1d1e\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"red\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#e6dc44\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"green\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#c8be46\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"yellow\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#f4fd22\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"blue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#737174\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"purple\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#747271\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"cyan\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#62605f\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"white\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#c6c5bf\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightBlack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#505354\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightRed\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff78e\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightGreen\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff27d\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightYellow\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#feed6c\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightBlue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#919495\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightPurple\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#9a9a9d\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightCyan\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#a3a3a6\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"brightWhite\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#dadbd6\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"background\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#1b1d1e\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"foreground\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#6f6f6f\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>我们再回到 settings.json 文件内，找到<code>&quot;schemes&quot;: [ ],</code>。</p>\n<p>这个数组就是用来定义我们主题色。我们把刚刚拷贝的主题粘贴到这个数组内。</p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"schemes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Batman\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"black\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#1b1d1e\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"red\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#e6dc44\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"green\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#c8be46\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"yellow\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#f4fd22\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"blue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#737174\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"purple\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#747271\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"cyan\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#62605f\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"white\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#c6c5bf\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightBlack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#505354\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightRed\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff78e\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightGreen\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff27d\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightYellow\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#feed6c\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightBlue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#919495\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightPurple\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#9a9a9d\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightCyan\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#a3a3a6\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"brightWhite\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#dadbd6\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"background\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#1b1d1e\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"foreground\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#6f6f6f\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>然后在<code>profiles</code>部分添加该主题名来指定我们的主题</p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"colorScheme\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Batman\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>当然，因为这是一个配置文件，<code>schemes</code>里的任何颜色变量时都可以更改的。也就是说你可以在一个主题的基础上进行魔改达到你想要的效果。</p>\n<p>这样我们的颜色主题就更改完成了</p>\n<h2 id=\"自定义平台\"><a href=\"#自定义平台\" class=\"headerlink\" title=\"自定义平台\"></a>自定义平台</h2><p>在<code>setting.json</code>文件中，我们看下<code>profiles</code>这一部分。</p>\n<p>每个 profiles 的类都有一个<code>guid</code>，比如 Powershell, Cmd, Azure Cloud Shell 他们的 guid 都是不同的。</p>\n<p><code>profiles</code>的上方我们可以看到有一个<code>defaultProfile</code>，那这个定义的 guid 就是我们默认 Termin 应用打开时启动的终端。</p>\n<p>如果我们想用原生 Cmd, 就可以把 cmd 的 guid 复制到<code>defaultProfile</code>内。</p>\n<h2 id=\"自定义字体，背景\"><a href=\"#自定义字体，背景\" class=\"headerlink\" title=\"自定义字体，背景\"></a>自定义字体，背景</h2><p><code>fontFace</code>更改字体，字体名可以在 windows 字体库中查看<br><code>fontSize</code> 定义字体的大小<br><code>icon</code>: 更改应用上方的图标，文件地址为绝对路径<br><code>backgroundImage</code>: 更改应用内的背景，图片地址为绝对地址<br><code>backgroundImageOpacity</code>: 背景图片的透明度。0 即不显示<br><code>startingDirector</code>: 打开应用时的默认路径</p>\n<pre class=\" language-json\"><code class=\"language-json\">  <span class=\"token property\">\"profiles\"</span><span class=\"token operator\">:</span>\n    <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"guid\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"{61c54bbd-c2c6-5271-96e7-009a87ff44bf}\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Yang's WorkSpace\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"commandline\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"powershell.exe\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"hidden\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"colorScheme\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Thayer Bright\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"fontFace\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Monaco\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"fontSize\"</span><span class=\"token operator\">:</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"cursorShape\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"underscore\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"cursorColor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"icon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\logo.png\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"backgroundImage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\Wallpaper\\\\login-bg.png\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"backgroundImageOpacity\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"startingDirectory\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\Yang\\\\Projects\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>之前用 MacOS 时用的 iterm2 非常好用，无论外观自定义还是 git 当前分支的提醒，都比系统自带的 terminal 好看很多。换到 windows 之后，这个原生的界面…不能看！好在微软自己推出了一个 terminal 可以自定义 powershell 和 cmd 的外观，更改完后…真香！</p>\n</blockquote>","more":"<h2 id=\"安装软件\"><a href=\"#安装软件\" class=\"headerlink\" title=\"安装软件\"></a>安装软件</h2><p>首先我们去 windows microsoft store 搜索<code>Windows Terminal</code>，然后点击 install 安装。</p>\n<p>完成安装后我们打开 Terminal 应用，按下<code>Ctrl+,</code>打开配置文件<code>settings.json</code>。</p>\n<p>我们主要就在这个文件内更改 powershell 的字体和外观。</p>\n<h2 id=\"色板-Color-Schemes\"><a href=\"#色板-Color-Schemes\" class=\"headerlink\" title=\"色板 Color Schemes\"></a>色板 Color Schemes</h2><p><a href=\"https://atomcorp.github.io/themes/\" target=\"_blank\" rel=\"noopener\">https://atomcorp.github.io/themes/</a> 这个网站提供了大量的色彩配色方案。各种主题应有尽有…</p>\n<p>我们先挑选一个色调，比如<code>Batman</code>。</p>\n<p>然后我们点击<code>Get Theme</code>, 你的剪贴板内就会复制这个主题的 json 格式</p>\n<pre><code class=\"json\">{\n  &quot;name&quot;: &quot;Batman&quot;,\n  &quot;black&quot;: &quot;#1b1d1e&quot;,\n  &quot;red&quot;: &quot;#e6dc44&quot;,\n  &quot;green&quot;: &quot;#c8be46&quot;,\n  &quot;yellow&quot;: &quot;#f4fd22&quot;,\n  &quot;blue&quot;: &quot;#737174&quot;,\n  &quot;purple&quot;: &quot;#747271&quot;,\n  &quot;cyan&quot;: &quot;#62605f&quot;,\n  &quot;white&quot;: &quot;#c6c5bf&quot;,\n  &quot;brightBlack&quot;: &quot;#505354&quot;,\n  &quot;brightRed&quot;: &quot;#fff78e&quot;,\n  &quot;brightGreen&quot;: &quot;#fff27d&quot;,\n  &quot;brightYellow&quot;: &quot;#feed6c&quot;,\n  &quot;brightBlue&quot;: &quot;#919495&quot;,\n  &quot;brightPurple&quot;: &quot;#9a9a9d&quot;,\n  &quot;brightCyan&quot;: &quot;#a3a3a6&quot;,\n  &quot;brightWhite&quot;: &quot;#dadbd6&quot;,\n  &quot;background&quot;: &quot;#1b1d1e&quot;,\n  &quot;foreground&quot;: &quot;#6f6f6f&quot;\n}</code></pre>\n<p>我们再回到 settings.json 文件内，找到<code>&quot;schemes&quot;: [ ],</code>。</p>\n<p>这个数组就是用来定义我们主题色。我们把刚刚拷贝的主题粘贴到这个数组内。</p>\n<pre><code class=\"json\">{\n  &quot;schemes&quot;: [\n    {\n      &quot;name&quot;: &quot;Batman&quot;,\n      &quot;black&quot;: &quot;#1b1d1e&quot;,\n      &quot;red&quot;: &quot;#e6dc44&quot;,\n      &quot;green&quot;: &quot;#c8be46&quot;,\n      &quot;yellow&quot;: &quot;#f4fd22&quot;,\n      &quot;blue&quot;: &quot;#737174&quot;,\n      &quot;purple&quot;: &quot;#747271&quot;,\n      &quot;cyan&quot;: &quot;#62605f&quot;,\n      &quot;white&quot;: &quot;#c6c5bf&quot;,\n      &quot;brightBlack&quot;: &quot;#505354&quot;,\n      &quot;brightRed&quot;: &quot;#fff78e&quot;,\n      &quot;brightGreen&quot;: &quot;#fff27d&quot;,\n      &quot;brightYellow&quot;: &quot;#feed6c&quot;,\n      &quot;brightBlue&quot;: &quot;#919495&quot;,\n      &quot;brightPurple&quot;: &quot;#9a9a9d&quot;,\n      &quot;brightCyan&quot;: &quot;#a3a3a6&quot;,\n      &quot;brightWhite&quot;: &quot;#dadbd6&quot;,\n      &quot;background&quot;: &quot;#1b1d1e&quot;,\n      &quot;foreground&quot;: &quot;#6f6f6f&quot;\n    }\n  ]\n}</code></pre>\n<p>然后在<code>profiles</code>部分添加该主题名来指定我们的主题</p>\n<pre><code class=\"json\">{\n  &quot;colorScheme&quot;: &quot;Batman&quot;\n}</code></pre>\n<p>当然，因为这是一个配置文件，<code>schemes</code>里的任何颜色变量时都可以更改的。也就是说你可以在一个主题的基础上进行魔改达到你想要的效果。</p>\n<p>这样我们的颜色主题就更改完成了</p>\n<h2 id=\"自定义平台\"><a href=\"#自定义平台\" class=\"headerlink\" title=\"自定义平台\"></a>自定义平台</h2><p>在<code>setting.json</code>文件中，我们看下<code>profiles</code>这一部分。</p>\n<p>每个 profiles 的类都有一个<code>guid</code>，比如 Powershell, Cmd, Azure Cloud Shell 他们的 guid 都是不同的。</p>\n<p><code>profiles</code>的上方我们可以看到有一个<code>defaultProfile</code>，那这个定义的 guid 就是我们默认 Termin 应用打开时启动的终端。</p>\n<p>如果我们想用原生 Cmd, 就可以把 cmd 的 guid 复制到<code>defaultProfile</code>内。</p>\n<h2 id=\"自定义字体，背景\"><a href=\"#自定义字体，背景\" class=\"headerlink\" title=\"自定义字体，背景\"></a>自定义字体，背景</h2><p><code>fontFace</code>更改字体，字体名可以在 windows 字体库中查看<br><code>fontSize</code> 定义字体的大小<br><code>icon</code>: 更改应用上方的图标，文件地址为绝对路径<br><code>backgroundImage</code>: 更改应用内的背景，图片地址为绝对地址<br><code>backgroundImageOpacity</code>: 背景图片的透明度。0 即不显示<br><code>startingDirector</code>: 打开应用时的默认路径</p>\n<pre><code class=\"json\">  &quot;profiles&quot;:\n    [\n        {\n        &quot;guid&quot;: &quot;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&quot;,\n        &quot;name&quot;: &quot;Yang&#39;s WorkSpace&quot;,\n        &quot;commandline&quot;: &quot;powershell.exe&quot;,\n        &quot;hidden&quot;: false,\n        &quot;colorScheme&quot;: &quot;Thayer Bright&quot;,\n        &quot;fontFace&quot;: &quot;Monaco&quot;,\n        &quot;fontSize&quot;: 9,\n        &quot;cursorShape&quot;: &quot;underscore&quot;,\n        &quot;cursorColor&quot;: &quot;#fff&quot;,\n        &quot;icon&quot;: &quot;C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\logo.png&quot;,\n        &quot;backgroundImage&quot;: &quot;C:\\\\Users\\\\Yang\\\\Pictures\\\\Footage\\\\Wallpaper\\\\login-bg.png&quot;,\n        &quot;backgroundImageOpacity&quot;: 0.2,\n        &quot;startingDirectory&quot;: &quot;C:\\\\Users\\\\Yang\\\\Projects&quot;\n        },\n    ]</code></pre>"},{"title":"Algorithim 概览","date":"2020-06-15T07:55:19.000Z","cover":"https://3.bp.blogspot.com/-bsAe5iHfUvw/XMm2l8YCMtI/AAAAAAAAA28/9-Uj-v3GHhIE06c1_HdSEOeXML1byHInACLcBGAs/s1600/what-is-an-algorithm.png","_content":"\n> 总结下暑假算法课中学习到的知识点，代码主要以 python 和 typescript 来展示。\n\n# Sorting Algorithim 排序算法\n\n## Brute Force 暴力求解\n\n> 从字面意思理解，brute force 就是用最直接的方法来解决相应的问题。比如我们设计一个猜数字的游戏。数字范围为 0-10，根据用户的输入返回是否大还是小。那暴力求解的算法就是从 0 开始然后递增，最好的情况是 1 次猜中，但最坏的情况`Worst case`就是 10 次。\n\n然而，暴力求解的算法并不是最有效的，在之后的算法`Divide and conquer`中，我们可以猜 0，然后递增到 5。根据给出的结果再进行猜测会大大提高效率。\n\n<!-- more -->\n\n### Sorting\n\n暴力求解排序方法主要讲解冒泡排序和选择排序\n\n#### Bubble Sort 冒泡排序\n\n> 假设我们有一个可排序的数组, 冒泡排序即从第一个元素开始，每个元素进行两两比较。如果左边的大于右边的,就进行位置替换。完成第一个 iteration 之后继续从第二个元素开始进行相同的步骤。\n\n根据定义，我们的伪代码如下:\n\n```cmd\nfor i = 0 to A.length - 1\n    for j = 0 to A.length - 1 -i\n        if left > right:\n            swap(left, right)\n```\n\n比如我们有一个数组`[3, 0, 6, 1]`。那我们先从第一位`3`开始， 先是`3`和`0`比较，`3`大于`0`于是我们进行调换。比较完成后我们递增到下一位继续进行两两比较\n\n现在数组为`[0, 3, 6, 1]`。于是我们继续进行比较`3`和`6`。很明显`3`小于`6`，我们不需要进行调换。我们来到最后一组比较`6`和`1`。左边大于右边我们进行调换。\n\n此时我们第一个 iteration 的排序完成了, `[0, 3, 1, 6]`。\n\n同理我们现在从`index=1`的位置开始进行以上相同的步骤直到结束。\n\n如此我们可以写出冒泡排序的代码\n\n**Python**\n\n```python\ndef bubble_sort(array):\n    n = len(array)\n    for i in range(n - 1):\n        for j in range(n - 1 -i):\n            if(array[j] > array[j+1]):\n                array[j], array[j+1] = array[j+1], array[j]\n    return array\n```\n\n**Typescrtipt**\n\n```ts\nconst bubbleSort = list => {\n  let n: number = list.length\n  for (let i = 0; i < n - 1; i++) {\n    for (let j = 0; j < n - 1 - i; j++) {\n      if (list[j] > list[j + 1]) {\n        ;[list[j], list[j + 1]] = [list[j + 1], list[j]]\n      }\n    }\n  }\n  return list\n}\n```\n\n我们可以看出，冒泡排序有两个 for 循环，我们可得出复杂度 Big Oh 为 n 的平方\n\n#### Selection Sort 选择排序\n\n选择排序的方法是我们首先设定第一个字符的元素为最小值，然后我们进行数组的循环。如果我们在 iteration 中发现有元素比当前设定的元素小，我们将该元素设置为新的最小值。重复步骤结束 iteration 并把此循环中最小值起始的值替换完成排序。伪代码如下:\n\n```cmd\nfor i = 0 to Array.length -1:\n    min = i\n    for j = i+1 to Array.length:\n        if(j < min):\n            min = j\n    swap(i, j)\n```\n\n因为暴力求解每个元素进行比较，所以我们用一个简单的数组举例...\n\n假设我们用选择排序算法来排序`[3, 0, 2]`数组。\n\n首先把最小值`min`设置为`array[0]`也就是`3`, 然后`i+1`开始进行判断，`0`小于`3`。好我们现在把`min`设置为`0`然后继续前进。\n\n`2`大于`0`，我们跳过。于是第一个循环完成了。我们进行`i`和更新后的最小值`min`调换得到\n\n`[0, 3, 2]`。\n\nOK, 同理我们从`i = 1`开始，`min`现在设置为`array[1]`也就是`3`。比较`3`和`2`条件成立进行 swap。\n\n最后我们得到`[0, 2, 3]`\n\n选择排序代码如下\n\n**Python**\n\n```python\ndef selection_sort(array):\n    n = len(array)\n    for i in range(n):\n        min = i\n        for j in range(i+1, n):\n            if(array[j] < array[min]):\n                min = j\n        array[i], array[min] = array[min], array[i]\n    return array\n```\n\n**Typescript**\n\n```ts\nconst selectionSort = array => {\n  let n = array.length\n  for (let i = 0; i < n; i++) {\n    let min = i\n    for (j = i + 1; j < n; j++) {\n      if (array[j] < array[min]) {\n        min = j\n      }\n    }\n    ;[array[i], array[min]] = [array[min], array[i]]\n  }\n  return array\n}\n```\n\n### String Match 字符串匹配\n\n回到最开始的搜索内容查询位置问题。用暴力求解的方法也写的话，我们就要每个字符开始进行比较。一旦有一个字符不匹配我们位移一个单位继续进行判断。\n\n比如我们要在`I love python`中搜索`python`。首先从`I`开始进行匹配，直到`index = 7`的位置才匹配成功并返回`index = 7`。\n\n伪代码如下:\n\n```cmd\nfor i = 0 to n - m:\n    j = 0\n    while j < m and pattern[j] = text[i + j] do\n        j = j + 1\n    if(j = m):\n        return i\nreturn -1\n```\n\n### Knapsack Problem 背包问题\n\n背包问题即给定一些特定物品并有对应的价格和重量。然后有一个限重 W 的背包，每个物品只能选择一次。在不超重的情况下如何做到价值最大化选择？\n\n举个简单的例子。我们有一个最重承受 10kg 的背包。并有以下物品可以选择: 物品一: 2kg, 10 元。 物品二: 5kg, 30 元。物品三: 4kg, 20 元....如此。\n\n暴力算法来解决这个问题就是将所有可能的组合先全部列出来，然后判断并筛选超重的集合，最后比较所有集合来找到价值最高的集合。\n\n算法效率来讲，假设我们有 n 个物品，那复杂度即为 2 的 n 次方\n\n## Decrease and Conquer 减治法\n\n这个 section 我们引入减治法。跟暴力求解不同，减治法通过逐步缩小问题规模来解决一个问题。简而言之，回到我们之前猜数字的游戏。如果用暴力求解，我们要一个数字一个数字猜测。减治法可以先把数字对半分，比如猜从 0-10 的数字，我们可以先拆成 0-5 和 6-10。如果我们给出 5 系统显示太高，那我们可以继续对半拆除从 0-4 进行同样的步骤。直到最后我们找到数字也就是一直拆分问题。\n\n### Insertation Sort 插入排序\n\n假设我们一个数组`[0, 1, 5, 3, 2]`。第一部分`[0, 1]`是有序数列，后半部分为无序数列。也就是说我们每次只要把无序数列的第一个元素插入到正确的位置后，整体问题的规模就减少 1。如果我们重复`n-1`此后，数组也重新排成有序了。\n\n> 重复 n-1 是因为只有一个元素的数组必定是有序的。\n\n可以把插入排序想象成扑克牌卡片排序。\n\n**Python**\n\n```python\ndef insertion_sort(array):\n    n = len(array)\n    for i in range(1, n):\n        index = array[i]\n        # the index in the left of i\n        j = i - 1\n\n        # 如果左边还有数字 并且 当前元素小于它左边的元素：\n        while j >= 0 and index < array[j]:\n            # 调换当前元素和左边的元素\n            array[j + 1] = array[j]\n            # 继续向左移动\n            j = j - 1\n        # 循环结束 插入到对应的位置\n        array[j + 1] = index\n    return array\n```\n\n**Typescript**\n\n```ts\nconst insertionSort = array => {\n  let n: number = array.length\n  //起始为1 因为第一个是有序的\n  for (let i = 1; i < n; i++) {\n    let index = array[i]\n    let j = i - 1\n    while (j >= 0 && index < array[j]) {\n      array[j + 1] = array[j]\n      j--\n    }\n    array[j + 1] = index\n  }\n  return array\n}\n```\n\n由上可以看出我们有 2 个循环，所以插入排序的复杂度为 n 的平方\n\n### Binary Search and Binary Tree 二分查找与二叉树\n\n#### Binary Search\n\n目前我们涉及到的算法都是从数组的第一个位置开始然后进行查找。二分查找则从一个数组的中间开始，从左往右一次查找，直到找到该元素或循环结束\n\n**Python**\n\n```python\ndef binary_search(array, key):\n    l = 0\n    r = len(array) - 1\n    while l <= r:\n        m = (l + r) // 2\n        if key == array[m]:\n            return m\n        elif key < array[m]:\n            r = m - 1\n        else:\n            l = m + 1\n    return -1\n```\n\n**Typescript**\n\n```ts\nconst binarySearch = (array, key) => {\n  let l: number = 0\n  let r: number = array.length - 1\n\n  while (l <= r) {\n    let m = Math.floor((1 + r) / 2)\n    if (key === array[m]) {\n      return m\n    } else if (key < array[m]) {\n      r = m - 1\n    } else {\n      l = m + 1\n    }\n  }\n  return -1\n}\n```\n\n#### Binary Search Tree\n\n将数组(有序)分为两部分，数组的中间元素为树的根节点，左边和右边的元素再进行相同的划分，小于根节点的元素放在左边，大于的再右边。\n\n#### Binary Search Tree Traversal 二叉树遍历\n\n根据二叉搜索树我们可以进行数组的插入，查询和删除节点。接下来我们引入二叉树遍历即怎样直到节点是否已经被访问过了。\n\n##### Pre-order Traversal 前序遍历\n\n##### In-order Traversal 中序遍历\n\n##### Post-order Traversal 后序遍历\n\n## Divide and Conquer 分治法\n\n> 分治法的理论为把一个大的问题分成若干个小问题，然后逐个解决小问题，最后将小问题的解决方案合并到原来大问题的解。比如乐高玩具，一个乐高模型分成若干个小问题即乐高零件。小问题的解就是将各个组件先拼好，比如房顶，门之类。最后解决完整的模型。\n\n在介绍归并排序之前，我们先来了解以下有序数组的合并。我们可以把将两个有序数组的合并看作为解决一个小问题。最终合并所有数组即能解决原本的问题。\n\n我们有两个有序数组\na： `[2, 3, 8, 9]`\nb: `[1, 4, 5, 7]`\n\n假设我们现在需要把 a 和 b 合并为一个新的有序数组到一个空的 c `[]`\n\n- 首先我们用三个变量分别来记录三个数组的索引值并初始化为 0， 数组 1 为`i`， 数组 2 为`j`，数组 3 为`k`\n- 然后我们比较 a[i]和 b[i]并将较小的元素存入到数组`c[0]中`。初始化为 0，所以我们比较`a[0]`和`b[0]`。\n- 之后我们将较小元素的数组索引值和数组 c 的索引值加 1\n  - 然后我们继续重复第二步进行比较\n\n最好的情况下我们要比较 n/2 个元素，最坏的情况要比较 n - 1 次。由此可以得到合并有序数组的复杂度为 n\n\n### Merge Sort 归并排序\n\n考完试再更新吧 先了解以下\n\n复杂度 nlogn\n\n### Quick Sort 快速排序\n\n> Lumuto 划分：首选选一个中间值来作为我们的中轴(pivot), 所有比中轴值小的元素位于中轴的左侧，而大于中轴值的元素位于中轴的右侧。\n\n```python\ndef partition(array):\n    l = 0\n    r = len(array) - 1\n    pivot = a[l]\n    s = l\n    for i in range(l+1, r+1):\n        if a[i] < p:\n            s += 1\n            a[s], a[i] = a[i], a[s]\n            a[l], a[s] = a[s], a[l]\n    return s\n```\n\n### 最近点对 Cloest Pair Problem\n\n## Transform and Conquer 变治法\n\n### Instance Simplification Pre-sorting 预排序\n\n#### Check Elements Uniqueness 判断元素是否独特性\n\n给出一个数组，判断是否该数组存在重复元素。\n\n我们先用暴力求解来看下\n\n```python\ndef is_unique_bf(array):\n    n = len(array)\n    for i in range(n - 1):\n        # 存储当前索引元素变量\n        index_value = array[i]\n        # 循环数组 查找是否有匹配相等的\n        for j in range(i+1, n):\n            if(array[j] == index_value):\n                return False\n    return True\n```\n\n由上可以可以得出复杂度为 n 的平方。\n\n假设我们先将数组进行排序得到一个有序数组，然后在进行判断是否存在重复元素。因为一个有序数组，我们只要查看一个元素是否跟它的下一个元素是否相等即可。比如`[2, 3, 3, 5]`。\n\n用代码来实现\n\n```python\ndef is_unique_presort(array):\n    n = len(array)\n    # 假设我们先进行排序\n    array.sort()\n    for i in range(n-1):\n        if array[i] == array[i+1]:\n            return False\n    return True\n```\n\n由于算法由两部分构成（排序和主循环），所以该其复杂度也应该为两部分：排序的复杂度加检查的复杂度。即为 nlogn + n。得到复杂度 nlogn\n\n#### Find the Mode 寻找众数\n\n众数是出现在一组数据中最频繁的数。这个算法在项目中应该算很常见，比如我最近在做的项目要涉及到计算出最常用的三个标签，或者使用频率最高的技能。\n\n我们先来看下用暴力求解如何实现这个算法\n\n```python\ndef find_mode(array):\n  n = len(array)\n  # 统计每个数字的频率\n  counter = {}\n\n  for i in range(n):\n    counter[array[i]] = counter.get(array[i], 0) + 1\n\n  occurence = 0\n  for key, value in counter.items():\n    if value > occurence:\n      occurence = value\n      mode = key\n  return mode\n\n```\n\n最坏的情况下我们的数组每个元素都只出现一次 `[1, 2, 3, 4, 5, 6]`。复杂度为 n2\n\n如果我们先将数组进行排序，那么相同的元素在有序数组里一定是相邻的。\n\n```python\ndef compute_mode_presort(array):\n    array.sort()  # sort array\n    i = 0; freq = 0\n    while i < len(array):\n        temp_freq = 1; temp_mode = array[i]\n        while i + temp_freq < len(array) and array[i+temp_freq] == temp_mode:\n            temp_freq += 1\n        if temp_freq > freq:\n            freq = temp_freq; mode = temp_mode\n        i += temp_freq\n    return mode\n\narray = [2, 6, 3, 1, 2, 1, 4, 2, 5, 3, 7, 8, 6, 4, 3]\nprint(\"The mode of the array is %d.\" % compute_mode_presort(array))\n```\n\n算法复杂度可以得出：O(nlog n) + O(log n) = O(nlog n)\n\n### Representation Change\n\n#### Heap 堆\n\n##### Complete Binary Tree 完全二叉树\n\n堆一个完全二叉树，即除了最后一层的节点没有铺满外，其他层均已排满。\n\n##### Heap Construction 堆的构建\n\n我们把堆分为两种，一种是大顶堆(max heap)即数字越大的优先级越高，另一种为小顶堆(min heap)即数字越小的优先级越高。\n\n我们以 max heap 为例，由于数字越大的优先级更高， 于是数字越大即优先级越高的数字就越靠近根节点的位置。\n\n并且父节点的值总是大于或等于其子节点的值。\n\n如何构建一个堆排序呢？\n\n- 首先我们将数组的元素以 binary tree 的形式表现出来。(无序不满足堆的性质)\n- 然后从堆尾由上至下进行节点元素的调换。直到所有节点都满足堆的性质（即父节点的值总是大于或等于其子节点的值)\n\n> 注: 父节点没有子节点时，左右的排序不需要满足右节点大于左节点（不同于二叉树搜索）\n\n//需要图片来描述步骤\n\n#### Heap Insert 堆的插入\n\n假设我们要把一个数值插入到一个堆中,如何来实现呢?\n\n给定一个堆的排序 `[16, 15, 10, 14, 7, 9, 3, 2, 8 ,1]`，我们想要插入`17`到这个堆中\n\n- 首先我们把 17 放到数组的最后一个位置中\n- 我们将 17 与它的父节点进行比较，也就是 7。7 小于 17 不满足堆的性质，于是我们进行调换 7 和 17 的位置\n- 继续进行与父节点对比，17 和 15， 依旧不满足父节点大于子节点的的性质，我们调换 17 和 15 的位置\n- 现在对比 17 和 16， 依然，我们进行调换。\n- 重复以上步骤直到满足堆的性质\n\n> 我们可以发现给定一个有 N 个元素的数组，堆的高度为 log2 为底 n 的对数。比如之前的例子，我们有 10 个元素，那堆的高度为 log2 10 = 3(向下取整)。根据堆得性质，我们发现插入一个元素到堆中需要进行堆的高度次元素。由此可得堆得算法复杂度为 log2 为底 n 的对数\n\n#### Heap Delete 堆的删除\n\n从堆中删除一个元素的实现方法为：\n\n- 交换根节点的元素与堆尾的位置(数组中头尾交换)\n- 删除堆尾\n- 从上到下调整堆的结构（与堆的插入：由下至上相反）\n  - 如果不满足堆的性质就交换两个节点的值\n\n比如我们之前的例子，`[17, 16, 10, 14, 15, 9, 3, 2, 8, 1, 7]`。\n\n我们想要删除节点 17。按照上面的步骤来实现即\n\n- 替换 17 与 7 的位置\n- 删除 17\n- 7 与 16 对比，不满足堆的性质调换位置\n- 7 小于 15， 调换\n\n#### Heap Sort 堆排序\n\n##### 步骤\n\n- 构建堆\n- 堆顶和堆尾的值交换顺序，并删除交换后的堆尾元素\n- 调整堆的结构（利用堆的删除方法，由上至下）\n- 重复第二和第三步 直到堆为空\n\nhttp://btv.melezinek.cz\n\n##### 分析\n\n## Summary of sorting algorithms\n\n| 算法     | 最好的情况 | 最坏的情况 | 稳定性 |\n| -------- | ---------- | ---------- | ------ |\n| 选择排序 | n2         | n2         | 稳定   |\n| 冒泡排序 | n          | n2         | 稳定   |\n| 插入排序 | n          | n2         | 稳定   |\n| 归并排序 | n logn     | n logn     | 稳定   |\n| 快速排序 | n logn     | n2         | 不稳定 |\n| 堆排序   | n logn     | n logn     | 不稳定 |\n","source":"_posts/10-common-algo-review.md","raw":"---\ntitle: Algorithim 概览\ndate: 2020-06-15 00:55:19\ntags: ['algorithim', 'bcit', 'notes']\ncategories: 笔记\ncover: 'https://3.bp.blogspot.com/-bsAe5iHfUvw/XMm2l8YCMtI/AAAAAAAAA28/9-Uj-v3GHhIE06c1_HdSEOeXML1byHInACLcBGAs/s1600/what-is-an-algorithm.png'\n---\n\n> 总结下暑假算法课中学习到的知识点，代码主要以 python 和 typescript 来展示。\n\n# Sorting Algorithim 排序算法\n\n## Brute Force 暴力求解\n\n> 从字面意思理解，brute force 就是用最直接的方法来解决相应的问题。比如我们设计一个猜数字的游戏。数字范围为 0-10，根据用户的输入返回是否大还是小。那暴力求解的算法就是从 0 开始然后递增，最好的情况是 1 次猜中，但最坏的情况`Worst case`就是 10 次。\n\n然而，暴力求解的算法并不是最有效的，在之后的算法`Divide and conquer`中，我们可以猜 0，然后递增到 5。根据给出的结果再进行猜测会大大提高效率。\n\n<!-- more -->\n\n### Sorting\n\n暴力求解排序方法主要讲解冒泡排序和选择排序\n\n#### Bubble Sort 冒泡排序\n\n> 假设我们有一个可排序的数组, 冒泡排序即从第一个元素开始，每个元素进行两两比较。如果左边的大于右边的,就进行位置替换。完成第一个 iteration 之后继续从第二个元素开始进行相同的步骤。\n\n根据定义，我们的伪代码如下:\n\n```cmd\nfor i = 0 to A.length - 1\n    for j = 0 to A.length - 1 -i\n        if left > right:\n            swap(left, right)\n```\n\n比如我们有一个数组`[3, 0, 6, 1]`。那我们先从第一位`3`开始， 先是`3`和`0`比较，`3`大于`0`于是我们进行调换。比较完成后我们递增到下一位继续进行两两比较\n\n现在数组为`[0, 3, 6, 1]`。于是我们继续进行比较`3`和`6`。很明显`3`小于`6`，我们不需要进行调换。我们来到最后一组比较`6`和`1`。左边大于右边我们进行调换。\n\n此时我们第一个 iteration 的排序完成了, `[0, 3, 1, 6]`。\n\n同理我们现在从`index=1`的位置开始进行以上相同的步骤直到结束。\n\n如此我们可以写出冒泡排序的代码\n\n**Python**\n\n```python\ndef bubble_sort(array):\n    n = len(array)\n    for i in range(n - 1):\n        for j in range(n - 1 -i):\n            if(array[j] > array[j+1]):\n                array[j], array[j+1] = array[j+1], array[j]\n    return array\n```\n\n**Typescrtipt**\n\n```ts\nconst bubbleSort = list => {\n  let n: number = list.length\n  for (let i = 0; i < n - 1; i++) {\n    for (let j = 0; j < n - 1 - i; j++) {\n      if (list[j] > list[j + 1]) {\n        ;[list[j], list[j + 1]] = [list[j + 1], list[j]]\n      }\n    }\n  }\n  return list\n}\n```\n\n我们可以看出，冒泡排序有两个 for 循环，我们可得出复杂度 Big Oh 为 n 的平方\n\n#### Selection Sort 选择排序\n\n选择排序的方法是我们首先设定第一个字符的元素为最小值，然后我们进行数组的循环。如果我们在 iteration 中发现有元素比当前设定的元素小，我们将该元素设置为新的最小值。重复步骤结束 iteration 并把此循环中最小值起始的值替换完成排序。伪代码如下:\n\n```cmd\nfor i = 0 to Array.length -1:\n    min = i\n    for j = i+1 to Array.length:\n        if(j < min):\n            min = j\n    swap(i, j)\n```\n\n因为暴力求解每个元素进行比较，所以我们用一个简单的数组举例...\n\n假设我们用选择排序算法来排序`[3, 0, 2]`数组。\n\n首先把最小值`min`设置为`array[0]`也就是`3`, 然后`i+1`开始进行判断，`0`小于`3`。好我们现在把`min`设置为`0`然后继续前进。\n\n`2`大于`0`，我们跳过。于是第一个循环完成了。我们进行`i`和更新后的最小值`min`调换得到\n\n`[0, 3, 2]`。\n\nOK, 同理我们从`i = 1`开始，`min`现在设置为`array[1]`也就是`3`。比较`3`和`2`条件成立进行 swap。\n\n最后我们得到`[0, 2, 3]`\n\n选择排序代码如下\n\n**Python**\n\n```python\ndef selection_sort(array):\n    n = len(array)\n    for i in range(n):\n        min = i\n        for j in range(i+1, n):\n            if(array[j] < array[min]):\n                min = j\n        array[i], array[min] = array[min], array[i]\n    return array\n```\n\n**Typescript**\n\n```ts\nconst selectionSort = array => {\n  let n = array.length\n  for (let i = 0; i < n; i++) {\n    let min = i\n    for (j = i + 1; j < n; j++) {\n      if (array[j] < array[min]) {\n        min = j\n      }\n    }\n    ;[array[i], array[min]] = [array[min], array[i]]\n  }\n  return array\n}\n```\n\n### String Match 字符串匹配\n\n回到最开始的搜索内容查询位置问题。用暴力求解的方法也写的话，我们就要每个字符开始进行比较。一旦有一个字符不匹配我们位移一个单位继续进行判断。\n\n比如我们要在`I love python`中搜索`python`。首先从`I`开始进行匹配，直到`index = 7`的位置才匹配成功并返回`index = 7`。\n\n伪代码如下:\n\n```cmd\nfor i = 0 to n - m:\n    j = 0\n    while j < m and pattern[j] = text[i + j] do\n        j = j + 1\n    if(j = m):\n        return i\nreturn -1\n```\n\n### Knapsack Problem 背包问题\n\n背包问题即给定一些特定物品并有对应的价格和重量。然后有一个限重 W 的背包，每个物品只能选择一次。在不超重的情况下如何做到价值最大化选择？\n\n举个简单的例子。我们有一个最重承受 10kg 的背包。并有以下物品可以选择: 物品一: 2kg, 10 元。 物品二: 5kg, 30 元。物品三: 4kg, 20 元....如此。\n\n暴力算法来解决这个问题就是将所有可能的组合先全部列出来，然后判断并筛选超重的集合，最后比较所有集合来找到价值最高的集合。\n\n算法效率来讲，假设我们有 n 个物品，那复杂度即为 2 的 n 次方\n\n## Decrease and Conquer 减治法\n\n这个 section 我们引入减治法。跟暴力求解不同，减治法通过逐步缩小问题规模来解决一个问题。简而言之，回到我们之前猜数字的游戏。如果用暴力求解，我们要一个数字一个数字猜测。减治法可以先把数字对半分，比如猜从 0-10 的数字，我们可以先拆成 0-5 和 6-10。如果我们给出 5 系统显示太高，那我们可以继续对半拆除从 0-4 进行同样的步骤。直到最后我们找到数字也就是一直拆分问题。\n\n### Insertation Sort 插入排序\n\n假设我们一个数组`[0, 1, 5, 3, 2]`。第一部分`[0, 1]`是有序数列，后半部分为无序数列。也就是说我们每次只要把无序数列的第一个元素插入到正确的位置后，整体问题的规模就减少 1。如果我们重复`n-1`此后，数组也重新排成有序了。\n\n> 重复 n-1 是因为只有一个元素的数组必定是有序的。\n\n可以把插入排序想象成扑克牌卡片排序。\n\n**Python**\n\n```python\ndef insertion_sort(array):\n    n = len(array)\n    for i in range(1, n):\n        index = array[i]\n        # the index in the left of i\n        j = i - 1\n\n        # 如果左边还有数字 并且 当前元素小于它左边的元素：\n        while j >= 0 and index < array[j]:\n            # 调换当前元素和左边的元素\n            array[j + 1] = array[j]\n            # 继续向左移动\n            j = j - 1\n        # 循环结束 插入到对应的位置\n        array[j + 1] = index\n    return array\n```\n\n**Typescript**\n\n```ts\nconst insertionSort = array => {\n  let n: number = array.length\n  //起始为1 因为第一个是有序的\n  for (let i = 1; i < n; i++) {\n    let index = array[i]\n    let j = i - 1\n    while (j >= 0 && index < array[j]) {\n      array[j + 1] = array[j]\n      j--\n    }\n    array[j + 1] = index\n  }\n  return array\n}\n```\n\n由上可以看出我们有 2 个循环，所以插入排序的复杂度为 n 的平方\n\n### Binary Search and Binary Tree 二分查找与二叉树\n\n#### Binary Search\n\n目前我们涉及到的算法都是从数组的第一个位置开始然后进行查找。二分查找则从一个数组的中间开始，从左往右一次查找，直到找到该元素或循环结束\n\n**Python**\n\n```python\ndef binary_search(array, key):\n    l = 0\n    r = len(array) - 1\n    while l <= r:\n        m = (l + r) // 2\n        if key == array[m]:\n            return m\n        elif key < array[m]:\n            r = m - 1\n        else:\n            l = m + 1\n    return -1\n```\n\n**Typescript**\n\n```ts\nconst binarySearch = (array, key) => {\n  let l: number = 0\n  let r: number = array.length - 1\n\n  while (l <= r) {\n    let m = Math.floor((1 + r) / 2)\n    if (key === array[m]) {\n      return m\n    } else if (key < array[m]) {\n      r = m - 1\n    } else {\n      l = m + 1\n    }\n  }\n  return -1\n}\n```\n\n#### Binary Search Tree\n\n将数组(有序)分为两部分，数组的中间元素为树的根节点，左边和右边的元素再进行相同的划分，小于根节点的元素放在左边，大于的再右边。\n\n#### Binary Search Tree Traversal 二叉树遍历\n\n根据二叉搜索树我们可以进行数组的插入，查询和删除节点。接下来我们引入二叉树遍历即怎样直到节点是否已经被访问过了。\n\n##### Pre-order Traversal 前序遍历\n\n##### In-order Traversal 中序遍历\n\n##### Post-order Traversal 后序遍历\n\n## Divide and Conquer 分治法\n\n> 分治法的理论为把一个大的问题分成若干个小问题，然后逐个解决小问题，最后将小问题的解决方案合并到原来大问题的解。比如乐高玩具，一个乐高模型分成若干个小问题即乐高零件。小问题的解就是将各个组件先拼好，比如房顶，门之类。最后解决完整的模型。\n\n在介绍归并排序之前，我们先来了解以下有序数组的合并。我们可以把将两个有序数组的合并看作为解决一个小问题。最终合并所有数组即能解决原本的问题。\n\n我们有两个有序数组\na： `[2, 3, 8, 9]`\nb: `[1, 4, 5, 7]`\n\n假设我们现在需要把 a 和 b 合并为一个新的有序数组到一个空的 c `[]`\n\n- 首先我们用三个变量分别来记录三个数组的索引值并初始化为 0， 数组 1 为`i`， 数组 2 为`j`，数组 3 为`k`\n- 然后我们比较 a[i]和 b[i]并将较小的元素存入到数组`c[0]中`。初始化为 0，所以我们比较`a[0]`和`b[0]`。\n- 之后我们将较小元素的数组索引值和数组 c 的索引值加 1\n  - 然后我们继续重复第二步进行比较\n\n最好的情况下我们要比较 n/2 个元素，最坏的情况要比较 n - 1 次。由此可以得到合并有序数组的复杂度为 n\n\n### Merge Sort 归并排序\n\n考完试再更新吧 先了解以下\n\n复杂度 nlogn\n\n### Quick Sort 快速排序\n\n> Lumuto 划分：首选选一个中间值来作为我们的中轴(pivot), 所有比中轴值小的元素位于中轴的左侧，而大于中轴值的元素位于中轴的右侧。\n\n```python\ndef partition(array):\n    l = 0\n    r = len(array) - 1\n    pivot = a[l]\n    s = l\n    for i in range(l+1, r+1):\n        if a[i] < p:\n            s += 1\n            a[s], a[i] = a[i], a[s]\n            a[l], a[s] = a[s], a[l]\n    return s\n```\n\n### 最近点对 Cloest Pair Problem\n\n## Transform and Conquer 变治法\n\n### Instance Simplification Pre-sorting 预排序\n\n#### Check Elements Uniqueness 判断元素是否独特性\n\n给出一个数组，判断是否该数组存在重复元素。\n\n我们先用暴力求解来看下\n\n```python\ndef is_unique_bf(array):\n    n = len(array)\n    for i in range(n - 1):\n        # 存储当前索引元素变量\n        index_value = array[i]\n        # 循环数组 查找是否有匹配相等的\n        for j in range(i+1, n):\n            if(array[j] == index_value):\n                return False\n    return True\n```\n\n由上可以可以得出复杂度为 n 的平方。\n\n假设我们先将数组进行排序得到一个有序数组，然后在进行判断是否存在重复元素。因为一个有序数组，我们只要查看一个元素是否跟它的下一个元素是否相等即可。比如`[2, 3, 3, 5]`。\n\n用代码来实现\n\n```python\ndef is_unique_presort(array):\n    n = len(array)\n    # 假设我们先进行排序\n    array.sort()\n    for i in range(n-1):\n        if array[i] == array[i+1]:\n            return False\n    return True\n```\n\n由于算法由两部分构成（排序和主循环），所以该其复杂度也应该为两部分：排序的复杂度加检查的复杂度。即为 nlogn + n。得到复杂度 nlogn\n\n#### Find the Mode 寻找众数\n\n众数是出现在一组数据中最频繁的数。这个算法在项目中应该算很常见，比如我最近在做的项目要涉及到计算出最常用的三个标签，或者使用频率最高的技能。\n\n我们先来看下用暴力求解如何实现这个算法\n\n```python\ndef find_mode(array):\n  n = len(array)\n  # 统计每个数字的频率\n  counter = {}\n\n  for i in range(n):\n    counter[array[i]] = counter.get(array[i], 0) + 1\n\n  occurence = 0\n  for key, value in counter.items():\n    if value > occurence:\n      occurence = value\n      mode = key\n  return mode\n\n```\n\n最坏的情况下我们的数组每个元素都只出现一次 `[1, 2, 3, 4, 5, 6]`。复杂度为 n2\n\n如果我们先将数组进行排序，那么相同的元素在有序数组里一定是相邻的。\n\n```python\ndef compute_mode_presort(array):\n    array.sort()  # sort array\n    i = 0; freq = 0\n    while i < len(array):\n        temp_freq = 1; temp_mode = array[i]\n        while i + temp_freq < len(array) and array[i+temp_freq] == temp_mode:\n            temp_freq += 1\n        if temp_freq > freq:\n            freq = temp_freq; mode = temp_mode\n        i += temp_freq\n    return mode\n\narray = [2, 6, 3, 1, 2, 1, 4, 2, 5, 3, 7, 8, 6, 4, 3]\nprint(\"The mode of the array is %d.\" % compute_mode_presort(array))\n```\n\n算法复杂度可以得出：O(nlog n) + O(log n) = O(nlog n)\n\n### Representation Change\n\n#### Heap 堆\n\n##### Complete Binary Tree 完全二叉树\n\n堆一个完全二叉树，即除了最后一层的节点没有铺满外，其他层均已排满。\n\n##### Heap Construction 堆的构建\n\n我们把堆分为两种，一种是大顶堆(max heap)即数字越大的优先级越高，另一种为小顶堆(min heap)即数字越小的优先级越高。\n\n我们以 max heap 为例，由于数字越大的优先级更高， 于是数字越大即优先级越高的数字就越靠近根节点的位置。\n\n并且父节点的值总是大于或等于其子节点的值。\n\n如何构建一个堆排序呢？\n\n- 首先我们将数组的元素以 binary tree 的形式表现出来。(无序不满足堆的性质)\n- 然后从堆尾由上至下进行节点元素的调换。直到所有节点都满足堆的性质（即父节点的值总是大于或等于其子节点的值)\n\n> 注: 父节点没有子节点时，左右的排序不需要满足右节点大于左节点（不同于二叉树搜索）\n\n//需要图片来描述步骤\n\n#### Heap Insert 堆的插入\n\n假设我们要把一个数值插入到一个堆中,如何来实现呢?\n\n给定一个堆的排序 `[16, 15, 10, 14, 7, 9, 3, 2, 8 ,1]`，我们想要插入`17`到这个堆中\n\n- 首先我们把 17 放到数组的最后一个位置中\n- 我们将 17 与它的父节点进行比较，也就是 7。7 小于 17 不满足堆的性质，于是我们进行调换 7 和 17 的位置\n- 继续进行与父节点对比，17 和 15， 依旧不满足父节点大于子节点的的性质，我们调换 17 和 15 的位置\n- 现在对比 17 和 16， 依然，我们进行调换。\n- 重复以上步骤直到满足堆的性质\n\n> 我们可以发现给定一个有 N 个元素的数组，堆的高度为 log2 为底 n 的对数。比如之前的例子，我们有 10 个元素，那堆的高度为 log2 10 = 3(向下取整)。根据堆得性质，我们发现插入一个元素到堆中需要进行堆的高度次元素。由此可得堆得算法复杂度为 log2 为底 n 的对数\n\n#### Heap Delete 堆的删除\n\n从堆中删除一个元素的实现方法为：\n\n- 交换根节点的元素与堆尾的位置(数组中头尾交换)\n- 删除堆尾\n- 从上到下调整堆的结构（与堆的插入：由下至上相反）\n  - 如果不满足堆的性质就交换两个节点的值\n\n比如我们之前的例子，`[17, 16, 10, 14, 15, 9, 3, 2, 8, 1, 7]`。\n\n我们想要删除节点 17。按照上面的步骤来实现即\n\n- 替换 17 与 7 的位置\n- 删除 17\n- 7 与 16 对比，不满足堆的性质调换位置\n- 7 小于 15， 调换\n\n#### Heap Sort 堆排序\n\n##### 步骤\n\n- 构建堆\n- 堆顶和堆尾的值交换顺序，并删除交换后的堆尾元素\n- 调整堆的结构（利用堆的删除方法，由上至下）\n- 重复第二和第三步 直到堆为空\n\nhttp://btv.melezinek.cz\n\n##### 分析\n\n## Summary of sorting algorithms\n\n| 算法     | 最好的情况 | 最坏的情况 | 稳定性 |\n| -------- | ---------- | ---------- | ------ |\n| 选择排序 | n2         | n2         | 稳定   |\n| 冒泡排序 | n          | n2         | 稳定   |\n| 插入排序 | n          | n2         | 稳定   |\n| 归并排序 | n logn     | n logn     | 稳定   |\n| 快速排序 | n logn     | n2         | 不稳定 |\n| 堆排序   | n logn     | n logn     | 不稳定 |\n","slug":"10-common-algo-review","published":1,"updated":"2020-06-20T07:08:46.099Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckbnbuin0000mi0ui3tn6gl4g","content":"<blockquote>\n<p>总结下暑假算法课中学习到的知识点，代码主要以 python 和 typescript 来展示。</p>\n</blockquote>\n<h1 id=\"Sorting-Algorithim-排序算法\"><a href=\"#Sorting-Algorithim-排序算法\" class=\"headerlink\" title=\"Sorting Algorithim 排序算法\"></a>Sorting Algorithim 排序算法</h1><h2 id=\"Brute-Force-暴力求解\"><a href=\"#Brute-Force-暴力求解\" class=\"headerlink\" title=\"Brute Force 暴力求解\"></a>Brute Force 暴力求解</h2><blockquote>\n<p>从字面意思理解，brute force 就是用最直接的方法来解决相应的问题。比如我们设计一个猜数字的游戏。数字范围为 0-10，根据用户的输入返回是否大还是小。那暴力求解的算法就是从 0 开始然后递增，最好的情况是 1 次猜中，但最坏的情况<code>Worst case</code>就是 10 次。</p>\n</blockquote>\n<p>然而，暴力求解的算法并不是最有效的，在之后的算法<code>Divide and conquer</code>中，我们可以猜 0，然后递增到 5。根据给出的结果再进行猜测会大大提高效率。</p>\n<a id=\"more\"></a>\n\n<h3 id=\"Sorting\"><a href=\"#Sorting\" class=\"headerlink\" title=\"Sorting\"></a>Sorting</h3><p>暴力求解排序方法主要讲解冒泡排序和选择排序</p>\n<h4 id=\"Bubble-Sort-冒泡排序\"><a href=\"#Bubble-Sort-冒泡排序\" class=\"headerlink\" title=\"Bubble Sort 冒泡排序\"></a>Bubble Sort 冒泡排序</h4><blockquote>\n<p>假设我们有一个可排序的数组, 冒泡排序即从第一个元素开始，每个元素进行两两比较。如果左边的大于右边的,就进行位置替换。完成第一个 iteration 之后继续从第二个元素开始进行相同的步骤。</p>\n</blockquote>\n<p>根据定义，我们的伪代码如下:</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">for i = 0 to A.length - 1\n    for j = 0 to A.length - 1 -i\n        if left > right:\n            swap(left, right)</code></pre>\n<p>比如我们有一个数组<code>[3, 0, 6, 1]</code>。那我们先从第一位<code>3</code>开始， 先是<code>3</code>和<code>0</code>比较，<code>3</code>大于<code>0</code>于是我们进行调换。比较完成后我们递增到下一位继续进行两两比较</p>\n<p>现在数组为<code>[0, 3, 6, 1]</code>。于是我们继续进行比较<code>3</code>和<code>6</code>。很明显<code>3</code>小于<code>6</code>，我们不需要进行调换。我们来到最后一组比较<code>6</code>和<code>1</code>。左边大于右边我们进行调换。</p>\n<p>此时我们第一个 iteration 的排序完成了, <code>[0, 3, 1, 6]</code>。</p>\n<p>同理我们现在从<code>index=1</code>的位置开始进行以上相同的步骤直到结束。</p>\n<p>如此我们可以写出冒泡排序的代码</p>\n<p><strong>Python</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">bubble_sort</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    n <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> array<span class=\"token punctuation\">[</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> array<span class=\"token punctuation\">[</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> array</code></pre>\n<p><strong>Typescrtipt</strong></p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> bubbleSort <span class=\"token operator\">=</span> list <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> n<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span>length\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span> i<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> list<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">;</span><span class=\"token punctuation\">[</span>list<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> list<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>list<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> list<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> list\n<span class=\"token punctuation\">}</span></code></pre>\n<p>我们可以看出，冒泡排序有两个 for 循环，我们可得出复杂度 Big Oh 为 n 的平方</p>\n<h4 id=\"Selection-Sort-选择排序\"><a href=\"#Selection-Sort-选择排序\" class=\"headerlink\" title=\"Selection Sort 选择排序\"></a>Selection Sort 选择排序</h4><p>选择排序的方法是我们首先设定第一个字符的元素为最小值，然后我们进行数组的循环。如果我们在 iteration 中发现有元素比当前设定的元素小，我们将该元素设置为新的最小值。重复步骤结束 iteration 并把此循环中最小值起始的值替换完成排序。伪代码如下:</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">for i = 0 to Array.length -1:\n    min = i\n    for j = i+1 to Array.length:\n        if(j < min):\n            min = j\n    swap(i, j)</code></pre>\n<p>因为暴力求解每个元素进行比较，所以我们用一个简单的数组举例…</p>\n<p>假设我们用选择排序算法来排序<code>[3, 0, 2]</code>数组。</p>\n<p>首先把最小值<code>min</code>设置为<code>array[0]</code>也就是<code>3</code>, 然后<code>i+1</code>开始进行判断，<code>0</code>小于<code>3</code>。好我们现在把<code>min</code>设置为<code>0</code>然后继续前进。</p>\n<p><code>2</code>大于<code>0</code>，我们跳过。于是第一个循环完成了。我们进行<code>i</code>和更新后的最小值<code>min</code>调换得到</p>\n<p><code>[0, 3, 2]</code>。</p>\n<p>OK, 同理我们从<code>i = 1</code>开始，<code>min</code>现在设置为<code>array[1]</code>也就是<code>3</code>。比较<code>3</code>和<code>2</code>条件成立进行 swap。</p>\n<p>最后我们得到<code>[0, 2, 3]</code></p>\n<p>选择排序代码如下</p>\n<p><strong>Python</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">selection_sort</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    n <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        min <span class=\"token operator\">=</span> i\n        <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> array<span class=\"token punctuation\">[</span>min<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                min <span class=\"token operator\">=</span> j\n        array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> array<span class=\"token punctuation\">[</span>min<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>min<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> array</code></pre>\n<p><strong>Typescript</strong></p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> selectionSort <span class=\"token operator\">=</span> array <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> n <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span>length\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> min <span class=\"token operator\">=</span> i\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">=</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> array<span class=\"token punctuation\">[</span>min<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        min <span class=\"token operator\">=</span> j\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">[</span>array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> array<span class=\"token punctuation\">[</span>min<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>array<span class=\"token punctuation\">[</span>min<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> array\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"String-Match-字符串匹配\"><a href=\"#String-Match-字符串匹配\" class=\"headerlink\" title=\"String Match 字符串匹配\"></a>String Match 字符串匹配</h3><p>回到最开始的搜索内容查询位置问题。用暴力求解的方法也写的话，我们就要每个字符开始进行比较。一旦有一个字符不匹配我们位移一个单位继续进行判断。</p>\n<p>比如我们要在<code>I love python</code>中搜索<code>python</code>。首先从<code>I</code>开始进行匹配，直到<code>index = 7</code>的位置才匹配成功并返回<code>index = 7</code>。</p>\n<p>伪代码如下:</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">for i = 0 to n - m:\n    j = 0\n    while j < m and pattern[j] = text[i + j] do\n        j = j + 1\n    if(j = m):\n        return i\nreturn -1</code></pre>\n<h3 id=\"Knapsack-Problem-背包问题\"><a href=\"#Knapsack-Problem-背包问题\" class=\"headerlink\" title=\"Knapsack Problem 背包问题\"></a>Knapsack Problem 背包问题</h3><p>背包问题即给定一些特定物品并有对应的价格和重量。然后有一个限重 W 的背包，每个物品只能选择一次。在不超重的情况下如何做到价值最大化选择？</p>\n<p>举个简单的例子。我们有一个最重承受 10kg 的背包。并有以下物品可以选择: 物品一: 2kg, 10 元。 物品二: 5kg, 30 元。物品三: 4kg, 20 元….如此。</p>\n<p>暴力算法来解决这个问题就是将所有可能的组合先全部列出来，然后判断并筛选超重的集合，最后比较所有集合来找到价值最高的集合。</p>\n<p>算法效率来讲，假设我们有 n 个物品，那复杂度即为 2 的 n 次方</p>\n<h2 id=\"Decrease-and-Conquer-减治法\"><a href=\"#Decrease-and-Conquer-减治法\" class=\"headerlink\" title=\"Decrease and Conquer 减治法\"></a>Decrease and Conquer 减治法</h2><p>这个 section 我们引入减治法。跟暴力求解不同，减治法通过逐步缩小问题规模来解决一个问题。简而言之，回到我们之前猜数字的游戏。如果用暴力求解，我们要一个数字一个数字猜测。减治法可以先把数字对半分，比如猜从 0-10 的数字，我们可以先拆成 0-5 和 6-10。如果我们给出 5 系统显示太高，那我们可以继续对半拆除从 0-4 进行同样的步骤。直到最后我们找到数字也就是一直拆分问题。</p>\n<h3 id=\"Insertation-Sort-插入排序\"><a href=\"#Insertation-Sort-插入排序\" class=\"headerlink\" title=\"Insertation Sort 插入排序\"></a>Insertation Sort 插入排序</h3><p>假设我们一个数组<code>[0, 1, 5, 3, 2]</code>。第一部分<code>[0, 1]</code>是有序数列，后半部分为无序数列。也就是说我们每次只要把无序数列的第一个元素插入到正确的位置后，整体问题的规模就减少 1。如果我们重复<code>n-1</code>此后，数组也重新排成有序了。</p>\n<blockquote>\n<p>重复 n-1 是因为只有一个元素的数组必定是有序的。</p>\n</blockquote>\n<p>可以把插入排序想象成扑克牌卡片排序。</p>\n<p><strong>Python</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">insertion_sort</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    n <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        index <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n        <span class=\"token comment\" spellcheck=\"true\"># the index in the left of i</span>\n        j <span class=\"token operator\">=</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n\n        <span class=\"token comment\" spellcheck=\"true\"># 如果左边还有数字 并且 当前元素小于它左边的元素：</span>\n        <span class=\"token keyword\">while</span> j <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token operator\">and</span> index <span class=\"token operator\">&lt;</span> array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 调换当前元素和左边的元素</span>\n            array<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>\n            <span class=\"token comment\" spellcheck=\"true\"># 继续向左移动</span>\n            j <span class=\"token operator\">=</span> j <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 循环结束 插入到对应的位置</span>\n        array<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> index\n    <span class=\"token keyword\">return</span> array</code></pre>\n<p><strong>Typescript</strong></p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> insertionSort <span class=\"token operator\">=</span> array <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> n<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span>length\n  <span class=\"token comment\" spellcheck=\"true\">//起始为1 因为第一个是有序的</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> index <span class=\"token operator\">&lt;</span> array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      array<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>\n      j<span class=\"token operator\">--</span>\n    <span class=\"token punctuation\">}</span>\n    array<span class=\"token punctuation\">[</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> index\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> array\n<span class=\"token punctuation\">}</span></code></pre>\n<p>由上可以看出我们有 2 个循环，所以插入排序的复杂度为 n 的平方</p>\n<h3 id=\"Binary-Search-and-Binary-Tree-二分查找与二叉树\"><a href=\"#Binary-Search-and-Binary-Tree-二分查找与二叉树\" class=\"headerlink\" title=\"Binary Search and Binary Tree 二分查找与二叉树\"></a>Binary Search and Binary Tree 二分查找与二叉树</h3><h4 id=\"Binary-Search\"><a href=\"#Binary-Search\" class=\"headerlink\" title=\"Binary Search\"></a>Binary Search</h4><p>目前我们涉及到的算法都是从数组的第一个位置开始然后进行查找。二分查找则从一个数组的中间开始，从左往右一次查找，直到找到该元素或循环结束</p>\n<p><strong>Python</strong></p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">binary_search</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    l <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    r <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">while</span> l <span class=\"token operator\">&lt;=</span> r<span class=\"token punctuation\">:</span>\n        m <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>l <span class=\"token operator\">+</span> r<span class=\"token punctuation\">)</span> <span class=\"token operator\">//</span> <span class=\"token number\">2</span>\n        <span class=\"token keyword\">if</span> key <span class=\"token operator\">==</span> array<span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> m\n        <span class=\"token keyword\">elif</span> key <span class=\"token operator\">&lt;</span> array<span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            r <span class=\"token operator\">=</span> m <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            l <span class=\"token operator\">=</span> m <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></code></pre>\n<p><strong>Typescript</strong></p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> binarySearch <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> l<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n  <span class=\"token keyword\">let</span> r<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span> <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>l <span class=\"token operator\">&lt;=</span> r<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> m <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> r<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">===</span> array<span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> m\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">&lt;</span> array<span class=\"token punctuation\">[</span>m<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      r <span class=\"token operator\">=</span> m <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      l <span class=\"token operator\">=</span> m <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h4 id=\"Binary-Search-Tree\"><a href=\"#Binary-Search-Tree\" class=\"headerlink\" title=\"Binary Search Tree\"></a>Binary Search Tree</h4><p>将数组(有序)分为两部分，数组的中间元素为树的根节点，左边和右边的元素再进行相同的划分，小于根节点的元素放在左边，大于的再右边。</p>\n<h4 id=\"Binary-Search-Tree-Traversal-二叉树遍历\"><a href=\"#Binary-Search-Tree-Traversal-二叉树遍历\" class=\"headerlink\" title=\"Binary Search Tree Traversal 二叉树遍历\"></a>Binary Search Tree Traversal 二叉树遍历</h4><p>根据二叉搜索树我们可以进行数组的插入，查询和删除节点。接下来我们引入二叉树遍历即怎样直到节点是否已经被访问过了。</p>\n<h5 id=\"Pre-order-Traversal-前序遍历\"><a href=\"#Pre-order-Traversal-前序遍历\" class=\"headerlink\" title=\"Pre-order Traversal 前序遍历\"></a>Pre-order Traversal 前序遍历</h5><h5 id=\"In-order-Traversal-中序遍历\"><a href=\"#In-order-Traversal-中序遍历\" class=\"headerlink\" title=\"In-order Traversal 中序遍历\"></a>In-order Traversal 中序遍历</h5><h5 id=\"Post-order-Traversal-后序遍历\"><a href=\"#Post-order-Traversal-后序遍历\" class=\"headerlink\" title=\"Post-order Traversal 后序遍历\"></a>Post-order Traversal 后序遍历</h5><h2 id=\"Divide-and-Conquer-分治法\"><a href=\"#Divide-and-Conquer-分治法\" class=\"headerlink\" title=\"Divide and Conquer 分治法\"></a>Divide and Conquer 分治法</h2><blockquote>\n<p>分治法的理论为把一个大的问题分成若干个小问题，然后逐个解决小问题，最后将小问题的解决方案合并到原来大问题的解。比如乐高玩具，一个乐高模型分成若干个小问题即乐高零件。小问题的解就是将各个组件先拼好，比如房顶，门之类。最后解决完整的模型。</p>\n</blockquote>\n<p>在介绍归并排序之前，我们先来了解以下有序数组的合并。我们可以把将两个有序数组的合并看作为解决一个小问题。最终合并所有数组即能解决原本的问题。</p>\n<p>我们有两个有序数组<br>a： <code>[2, 3, 8, 9]</code><br>b: <code>[1, 4, 5, 7]</code></p>\n<p>假设我们现在需要把 a 和 b 合并为一个新的有序数组到一个空的 c <code>[]</code></p>\n<ul>\n<li>首先我们用三个变量分别来记录三个数组的索引值并初始化为 0， 数组 1 为<code>i</code>， 数组 2 为<code>j</code>，数组 3 为<code>k</code></li>\n<li>然后我们比较 a[i]和 b[i]并将较小的元素存入到数组<code>c[0]中</code>。初始化为 0，所以我们比较<code>a[0]</code>和<code>b[0]</code>。</li>\n<li>之后我们将较小元素的数组索引值和数组 c 的索引值加 1<ul>\n<li>然后我们继续重复第二步进行比较</li>\n</ul>\n</li>\n</ul>\n<p>最好的情况下我们要比较 n/2 个元素，最坏的情况要比较 n - 1 次。由此可以得到合并有序数组的复杂度为 n</p>\n<h3 id=\"Merge-Sort-归并排序\"><a href=\"#Merge-Sort-归并排序\" class=\"headerlink\" title=\"Merge Sort 归并排序\"></a>Merge Sort 归并排序</h3><p>考完试再更新吧 先了解以下</p>\n<p>复杂度 nlogn</p>\n<h3 id=\"Quick-Sort-快速排序\"><a href=\"#Quick-Sort-快速排序\" class=\"headerlink\" title=\"Quick Sort 快速排序\"></a>Quick Sort 快速排序</h3><blockquote>\n<p>Lumuto 划分：首选选一个中间值来作为我们的中轴(pivot), 所有比中轴值小的元素位于中轴的左侧，而大于中轴值的元素位于中轴的右侧。</p>\n</blockquote>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">partition</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    l <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    r <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    pivot <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span>\n    s <span class=\"token operator\">=</span> l\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>l<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> r<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> p<span class=\"token punctuation\">:</span>\n            s <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n            a<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span>\n            a<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">[</span>l<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> s</code></pre>\n<h3 id=\"最近点对-Cloest-Pair-Problem\"><a href=\"#最近点对-Cloest-Pair-Problem\" class=\"headerlink\" title=\"最近点对 Cloest Pair Problem\"></a>最近点对 Cloest Pair Problem</h3><h2 id=\"Transform-and-Conquer-变治法\"><a href=\"#Transform-and-Conquer-变治法\" class=\"headerlink\" title=\"Transform and Conquer 变治法\"></a>Transform and Conquer 变治法</h2><h3 id=\"Instance-Simplification-Pre-sorting-预排序\"><a href=\"#Instance-Simplification-Pre-sorting-预排序\" class=\"headerlink\" title=\"Instance Simplification Pre-sorting 预排序\"></a>Instance Simplification Pre-sorting 预排序</h3><h4 id=\"Check-Elements-Uniqueness-判断元素是否独特性\"><a href=\"#Check-Elements-Uniqueness-判断元素是否独特性\" class=\"headerlink\" title=\"Check Elements Uniqueness 判断元素是否独特性\"></a>Check Elements Uniqueness 判断元素是否独特性</h4><p>给出一个数组，判断是否该数组存在重复元素。</p>\n<p>我们先用暴力求解来看下</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">is_unique_bf</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    n <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 存储当前索引元素变量</span>\n        index_value <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n        <span class=\"token comment\" spellcheck=\"true\"># 循环数组 查找是否有匹配相等的</span>\n        <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> index_value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></code></pre>\n<p>由上可以可以得出复杂度为 n 的平方。</p>\n<p>假设我们先将数组进行排序得到一个有序数组，然后在进行判断是否存在重复元素。因为一个有序数组，我们只要查看一个元素是否跟它的下一个元素是否相等即可。比如<code>[2, 3, 3, 5]</code>。</p>\n<p>用代码来实现</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">is_unique_presort</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    n <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\"># 假设我们先进行排序</span>\n    array<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>n<span class=\"token number\">-1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> array<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></code></pre>\n<p>由于算法由两部分构成（排序和主循环），所以该其复杂度也应该为两部分：排序的复杂度加检查的复杂度。即为 nlogn + n。得到复杂度 nlogn</p>\n<h4 id=\"Find-the-Mode-寻找众数\"><a href=\"#Find-the-Mode-寻找众数\" class=\"headerlink\" title=\"Find the Mode 寻找众数\"></a>Find the Mode 寻找众数</h4><p>众数是出现在一组数据中最频繁的数。这个算法在项目中应该算很常见，比如我最近在做的项目要涉及到计算出最常用的三个标签，或者使用频率最高的技能。</p>\n<p>我们先来看下用暴力求解如何实现这个算法</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">find_mode</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  n <span class=\"token operator\">=</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\"># 统计每个数字的频率</span>\n  counter <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> range<span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    counter<span class=\"token punctuation\">[</span>array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> counter<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n\n  occurence <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n  <span class=\"token keyword\">for</span> key<span class=\"token punctuation\">,</span> value <span class=\"token keyword\">in</span> counter<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> value <span class=\"token operator\">></span> occurence<span class=\"token punctuation\">:</span>\n      occurence <span class=\"token operator\">=</span> value\n      mode <span class=\"token operator\">=</span> key\n  <span class=\"token keyword\">return</span> mode\n</code></pre>\n<p>最坏的情况下我们的数组每个元素都只出现一次 <code>[1, 2, 3, 4, 5, 6]</code>。复杂度为 n2</p>\n<p>如果我们先将数组进行排序，那么相同的元素在有序数组里一定是相邻的。</p>\n<pre class=\" language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">compute_mode_presort</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    array<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\" spellcheck=\"true\"># sort array</span>\n    i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> freq <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">while</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        temp_freq <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> temp_mode <span class=\"token operator\">=</span> array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">while</span> i <span class=\"token operator\">+</span> temp_freq <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span> <span class=\"token operator\">and</span> array<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span>temp_freq<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> temp_mode<span class=\"token punctuation\">:</span>\n            temp_freq <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">if</span> temp_freq <span class=\"token operator\">></span> freq<span class=\"token punctuation\">:</span>\n            freq <span class=\"token operator\">=</span> temp_freq<span class=\"token punctuation\">;</span> mode <span class=\"token operator\">=</span> temp_mode\n        i <span class=\"token operator\">+=</span> temp_freq\n    <span class=\"token keyword\">return</span> mode\n\narray <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"The mode of the array is %d.\"</span> <span class=\"token operator\">%</span> compute_mode_presort<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>算法复杂度可以得出：O(nlog n) + O(log n) = O(nlog n)</p>\n<h3 id=\"Representation-Change\"><a href=\"#Representation-Change\" class=\"headerlink\" title=\"Representation Change\"></a>Representation Change</h3><h4 id=\"Heap-堆\"><a href=\"#Heap-堆\" class=\"headerlink\" title=\"Heap 堆\"></a>Heap 堆</h4><h5 id=\"Complete-Binary-Tree-完全二叉树\"><a href=\"#Complete-Binary-Tree-完全二叉树\" class=\"headerlink\" title=\"Complete Binary Tree 完全二叉树\"></a>Complete Binary Tree 完全二叉树</h5><p>堆一个完全二叉树，即除了最后一层的节点没有铺满外，其他层均已排满。</p>\n<h5 id=\"Heap-Construction-堆的构建\"><a href=\"#Heap-Construction-堆的构建\" class=\"headerlink\" title=\"Heap Construction 堆的构建\"></a>Heap Construction 堆的构建</h5><p>我们把堆分为两种，一种是大顶堆(max heap)即数字越大的优先级越高，另一种为小顶堆(min heap)即数字越小的优先级越高。</p>\n<p>我们以 max heap 为例，由于数字越大的优先级更高， 于是数字越大即优先级越高的数字就越靠近根节点的位置。</p>\n<p>并且父节点的值总是大于或等于其子节点的值。</p>\n<p>如何构建一个堆排序呢？</p>\n<ul>\n<li>首先我们将数组的元素以 binary tree 的形式表现出来。(无序不满足堆的性质)</li>\n<li>然后从堆尾由上至下进行节点元素的调换。直到所有节点都满足堆的性质（即父节点的值总是大于或等于其子节点的值)</li>\n</ul>\n<blockquote>\n<p>注: 父节点没有子节点时，左右的排序不需要满足右节点大于左节点（不同于二叉树搜索）</p>\n</blockquote>\n<p>//需要图片来描述步骤</p>\n<h4 id=\"Heap-Insert-堆的插入\"><a href=\"#Heap-Insert-堆的插入\" class=\"headerlink\" title=\"Heap Insert 堆的插入\"></a>Heap Insert 堆的插入</h4><p>假设我们要把一个数值插入到一个堆中,如何来实现呢?</p>\n<p>给定一个堆的排序 <code>[16, 15, 10, 14, 7, 9, 3, 2, 8 ,1]</code>，我们想要插入<code>17</code>到这个堆中</p>\n<ul>\n<li>首先我们把 17 放到数组的最后一个位置中</li>\n<li>我们将 17 与它的父节点进行比较，也就是 7。7 小于 17 不满足堆的性质，于是我们进行调换 7 和 17 的位置</li>\n<li>继续进行与父节点对比，17 和 15， 依旧不满足父节点大于子节点的的性质，我们调换 17 和 15 的位置</li>\n<li>现在对比 17 和 16， 依然，我们进行调换。</li>\n<li>重复以上步骤直到满足堆的性质</li>\n</ul>\n<blockquote>\n<p>我们可以发现给定一个有 N 个元素的数组，堆的高度为 log2 为底 n 的对数。比如之前的例子，我们有 10 个元素，那堆的高度为 log2 10 = 3(向下取整)。根据堆得性质，我们发现插入一个元素到堆中需要进行堆的高度次元素。由此可得堆得算法复杂度为 log2 为底 n 的对数</p>\n</blockquote>\n<h4 id=\"Heap-Delete-堆的删除\"><a href=\"#Heap-Delete-堆的删除\" class=\"headerlink\" title=\"Heap Delete 堆的删除\"></a>Heap Delete 堆的删除</h4><p>从堆中删除一个元素的实现方法为：</p>\n<ul>\n<li>交换根节点的元素与堆尾的位置(数组中头尾交换)</li>\n<li>删除堆尾</li>\n<li>从上到下调整堆的结构（与堆的插入：由下至上相反）<ul>\n<li>如果不满足堆的性质就交换两个节点的值</li>\n</ul>\n</li>\n</ul>\n<p>比如我们之前的例子，<code>[17, 16, 10, 14, 15, 9, 3, 2, 8, 1, 7]</code>。</p>\n<p>我们想要删除节点 17。按照上面的步骤来实现即</p>\n<ul>\n<li>替换 17 与 7 的位置</li>\n<li>删除 17</li>\n<li>7 与 16 对比，不满足堆的性质调换位置</li>\n<li>7 小于 15， 调换</li>\n</ul>\n<h4 id=\"Heap-Sort-堆排序\"><a href=\"#Heap-Sort-堆排序\" class=\"headerlink\" title=\"Heap Sort 堆排序\"></a>Heap Sort 堆排序</h4><h5 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h5><ul>\n<li>构建堆</li>\n<li>堆顶和堆尾的值交换顺序，并删除交换后的堆尾元素</li>\n<li>调整堆的结构（利用堆的删除方法，由上至下）</li>\n<li>重复第二和第三步 直到堆为空</li>\n</ul>\n<p><a href=\"http://btv.melezinek.cz\" target=\"_blank\" rel=\"noopener\">http://btv.melezinek.cz</a></p>\n<h5 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h5><h2 id=\"Summary-of-sorting-algorithms\"><a href=\"#Summary-of-sorting-algorithms\" class=\"headerlink\" title=\"Summary of sorting algorithms\"></a>Summary of sorting algorithms</h2><table>\n<thead>\n<tr>\n<th>算法</th>\n<th>最好的情况</th>\n<th>最坏的情况</th>\n<th>稳定性</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>选择排序</td>\n<td>n2</td>\n<td>n2</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>冒泡排序</td>\n<td>n</td>\n<td>n2</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>插入排序</td>\n<td>n</td>\n<td>n2</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>归并排序</td>\n<td>n logn</td>\n<td>n logn</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>快速排序</td>\n<td>n logn</td>\n<td>n2</td>\n<td>不稳定</td>\n</tr>\n<tr>\n<td>堆排序</td>\n<td>n logn</td>\n<td>n logn</td>\n<td>不稳定</td>\n</tr>\n</tbody></table>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>总结下暑假算法课中学习到的知识点，代码主要以 python 和 typescript 来展示。</p>\n</blockquote>\n<h1 id=\"Sorting-Algorithim-排序算法\"><a href=\"#Sorting-Algorithim-排序算法\" class=\"headerlink\" title=\"Sorting Algorithim 排序算法\"></a>Sorting Algorithim 排序算法</h1><h2 id=\"Brute-Force-暴力求解\"><a href=\"#Brute-Force-暴力求解\" class=\"headerlink\" title=\"Brute Force 暴力求解\"></a>Brute Force 暴力求解</h2><blockquote>\n<p>从字面意思理解，brute force 就是用最直接的方法来解决相应的问题。比如我们设计一个猜数字的游戏。数字范围为 0-10，根据用户的输入返回是否大还是小。那暴力求解的算法就是从 0 开始然后递增，最好的情况是 1 次猜中，但最坏的情况<code>Worst case</code>就是 10 次。</p>\n</blockquote>\n<p>然而，暴力求解的算法并不是最有效的，在之后的算法<code>Divide and conquer</code>中，我们可以猜 0，然后递增到 5。根据给出的结果再进行猜测会大大提高效率。</p>","more":"<h3 id=\"Sorting\"><a href=\"#Sorting\" class=\"headerlink\" title=\"Sorting\"></a>Sorting</h3><p>暴力求解排序方法主要讲解冒泡排序和选择排序</p>\n<h4 id=\"Bubble-Sort-冒泡排序\"><a href=\"#Bubble-Sort-冒泡排序\" class=\"headerlink\" title=\"Bubble Sort 冒泡排序\"></a>Bubble Sort 冒泡排序</h4><blockquote>\n<p>假设我们有一个可排序的数组, 冒泡排序即从第一个元素开始，每个元素进行两两比较。如果左边的大于右边的,就进行位置替换。完成第一个 iteration 之后继续从第二个元素开始进行相同的步骤。</p>\n</blockquote>\n<p>根据定义，我们的伪代码如下:</p>\n<pre><code class=\"cmd\">for i = 0 to A.length - 1\n    for j = 0 to A.length - 1 -i\n        if left &gt; right:\n            swap(left, right)</code></pre>\n<p>比如我们有一个数组<code>[3, 0, 6, 1]</code>。那我们先从第一位<code>3</code>开始， 先是<code>3</code>和<code>0</code>比较，<code>3</code>大于<code>0</code>于是我们进行调换。比较完成后我们递增到下一位继续进行两两比较</p>\n<p>现在数组为<code>[0, 3, 6, 1]</code>。于是我们继续进行比较<code>3</code>和<code>6</code>。很明显<code>3</code>小于<code>6</code>，我们不需要进行调换。我们来到最后一组比较<code>6</code>和<code>1</code>。左边大于右边我们进行调换。</p>\n<p>此时我们第一个 iteration 的排序完成了, <code>[0, 3, 1, 6]</code>。</p>\n<p>同理我们现在从<code>index=1</code>的位置开始进行以上相同的步骤直到结束。</p>\n<p>如此我们可以写出冒泡排序的代码</p>\n<p><strong>Python</strong></p>\n<pre><code class=\"python\">def bubble_sort(array):\n    n = len(array)\n    for i in range(n - 1):\n        for j in range(n - 1 -i):\n            if(array[j] &gt; array[j+1]):\n                array[j], array[j+1] = array[j+1], array[j]\n    return array</code></pre>\n<p><strong>Typescrtipt</strong></p>\n<pre><code class=\"ts\">const bubbleSort = list =&gt; {\n  let n: number = list.length\n  for (let i = 0; i &lt; n - 1; i++) {\n    for (let j = 0; j &lt; n - 1 - i; j++) {\n      if (list[j] &gt; list[j + 1]) {\n        ;[list[j], list[j + 1]] = [list[j + 1], list[j]]\n      }\n    }\n  }\n  return list\n}</code></pre>\n<p>我们可以看出，冒泡排序有两个 for 循环，我们可得出复杂度 Big Oh 为 n 的平方</p>\n<h4 id=\"Selection-Sort-选择排序\"><a href=\"#Selection-Sort-选择排序\" class=\"headerlink\" title=\"Selection Sort 选择排序\"></a>Selection Sort 选择排序</h4><p>选择排序的方法是我们首先设定第一个字符的元素为最小值，然后我们进行数组的循环。如果我们在 iteration 中发现有元素比当前设定的元素小，我们将该元素设置为新的最小值。重复步骤结束 iteration 并把此循环中最小值起始的值替换完成排序。伪代码如下:</p>\n<pre><code class=\"cmd\">for i = 0 to Array.length -1:\n    min = i\n    for j = i+1 to Array.length:\n        if(j &lt; min):\n            min = j\n    swap(i, j)</code></pre>\n<p>因为暴力求解每个元素进行比较，所以我们用一个简单的数组举例…</p>\n<p>假设我们用选择排序算法来排序<code>[3, 0, 2]</code>数组。</p>\n<p>首先把最小值<code>min</code>设置为<code>array[0]</code>也就是<code>3</code>, 然后<code>i+1</code>开始进行判断，<code>0</code>小于<code>3</code>。好我们现在把<code>min</code>设置为<code>0</code>然后继续前进。</p>\n<p><code>2</code>大于<code>0</code>，我们跳过。于是第一个循环完成了。我们进行<code>i</code>和更新后的最小值<code>min</code>调换得到</p>\n<p><code>[0, 3, 2]</code>。</p>\n<p>OK, 同理我们从<code>i = 1</code>开始，<code>min</code>现在设置为<code>array[1]</code>也就是<code>3</code>。比较<code>3</code>和<code>2</code>条件成立进行 swap。</p>\n<p>最后我们得到<code>[0, 2, 3]</code></p>\n<p>选择排序代码如下</p>\n<p><strong>Python</strong></p>\n<pre><code class=\"python\">def selection_sort(array):\n    n = len(array)\n    for i in range(n):\n        min = i\n        for j in range(i+1, n):\n            if(array[j] &lt; array[min]):\n                min = j\n        array[i], array[min] = array[min], array[i]\n    return array</code></pre>\n<p><strong>Typescript</strong></p>\n<pre><code class=\"ts\">const selectionSort = array =&gt; {\n  let n = array.length\n  for (let i = 0; i &lt; n; i++) {\n    let min = i\n    for (j = i + 1; j &lt; n; j++) {\n      if (array[j] &lt; array[min]) {\n        min = j\n      }\n    }\n    ;[array[i], array[min]] = [array[min], array[i]]\n  }\n  return array\n}</code></pre>\n<h3 id=\"String-Match-字符串匹配\"><a href=\"#String-Match-字符串匹配\" class=\"headerlink\" title=\"String Match 字符串匹配\"></a>String Match 字符串匹配</h3><p>回到最开始的搜索内容查询位置问题。用暴力求解的方法也写的话，我们就要每个字符开始进行比较。一旦有一个字符不匹配我们位移一个单位继续进行判断。</p>\n<p>比如我们要在<code>I love python</code>中搜索<code>python</code>。首先从<code>I</code>开始进行匹配，直到<code>index = 7</code>的位置才匹配成功并返回<code>index = 7</code>。</p>\n<p>伪代码如下:</p>\n<pre><code class=\"cmd\">for i = 0 to n - m:\n    j = 0\n    while j &lt; m and pattern[j] = text[i + j] do\n        j = j + 1\n    if(j = m):\n        return i\nreturn -1</code></pre>\n<h3 id=\"Knapsack-Problem-背包问题\"><a href=\"#Knapsack-Problem-背包问题\" class=\"headerlink\" title=\"Knapsack Problem 背包问题\"></a>Knapsack Problem 背包问题</h3><p>背包问题即给定一些特定物品并有对应的价格和重量。然后有一个限重 W 的背包，每个物品只能选择一次。在不超重的情况下如何做到价值最大化选择？</p>\n<p>举个简单的例子。我们有一个最重承受 10kg 的背包。并有以下物品可以选择: 物品一: 2kg, 10 元。 物品二: 5kg, 30 元。物品三: 4kg, 20 元….如此。</p>\n<p>暴力算法来解决这个问题就是将所有可能的组合先全部列出来，然后判断并筛选超重的集合，最后比较所有集合来找到价值最高的集合。</p>\n<p>算法效率来讲，假设我们有 n 个物品，那复杂度即为 2 的 n 次方</p>\n<h2 id=\"Decrease-and-Conquer-减治法\"><a href=\"#Decrease-and-Conquer-减治法\" class=\"headerlink\" title=\"Decrease and Conquer 减治法\"></a>Decrease and Conquer 减治法</h2><p>这个 section 我们引入减治法。跟暴力求解不同，减治法通过逐步缩小问题规模来解决一个问题。简而言之，回到我们之前猜数字的游戏。如果用暴力求解，我们要一个数字一个数字猜测。减治法可以先把数字对半分，比如猜从 0-10 的数字，我们可以先拆成 0-5 和 6-10。如果我们给出 5 系统显示太高，那我们可以继续对半拆除从 0-4 进行同样的步骤。直到最后我们找到数字也就是一直拆分问题。</p>\n<h3 id=\"Insertation-Sort-插入排序\"><a href=\"#Insertation-Sort-插入排序\" class=\"headerlink\" title=\"Insertation Sort 插入排序\"></a>Insertation Sort 插入排序</h3><p>假设我们一个数组<code>[0, 1, 5, 3, 2]</code>。第一部分<code>[0, 1]</code>是有序数列，后半部分为无序数列。也就是说我们每次只要把无序数列的第一个元素插入到正确的位置后，整体问题的规模就减少 1。如果我们重复<code>n-1</code>此后，数组也重新排成有序了。</p>\n<blockquote>\n<p>重复 n-1 是因为只有一个元素的数组必定是有序的。</p>\n</blockquote>\n<p>可以把插入排序想象成扑克牌卡片排序。</p>\n<p><strong>Python</strong></p>\n<pre><code class=\"python\">def insertion_sort(array):\n    n = len(array)\n    for i in range(1, n):\n        index = array[i]\n        # the index in the left of i\n        j = i - 1\n\n        # 如果左边还有数字 并且 当前元素小于它左边的元素：\n        while j &gt;= 0 and index &lt; array[j]:\n            # 调换当前元素和左边的元素\n            array[j + 1] = array[j]\n            # 继续向左移动\n            j = j - 1\n        # 循环结束 插入到对应的位置\n        array[j + 1] = index\n    return array</code></pre>\n<p><strong>Typescript</strong></p>\n<pre><code class=\"ts\">const insertionSort = array =&gt; {\n  let n: number = array.length\n  //起始为1 因为第一个是有序的\n  for (let i = 1; i &lt; n; i++) {\n    let index = array[i]\n    let j = i - 1\n    while (j &gt;= 0 &amp;&amp; index &lt; array[j]) {\n      array[j + 1] = array[j]\n      j--\n    }\n    array[j + 1] = index\n  }\n  return array\n}</code></pre>\n<p>由上可以看出我们有 2 个循环，所以插入排序的复杂度为 n 的平方</p>\n<h3 id=\"Binary-Search-and-Binary-Tree-二分查找与二叉树\"><a href=\"#Binary-Search-and-Binary-Tree-二分查找与二叉树\" class=\"headerlink\" title=\"Binary Search and Binary Tree 二分查找与二叉树\"></a>Binary Search and Binary Tree 二分查找与二叉树</h3><h4 id=\"Binary-Search\"><a href=\"#Binary-Search\" class=\"headerlink\" title=\"Binary Search\"></a>Binary Search</h4><p>目前我们涉及到的算法都是从数组的第一个位置开始然后进行查找。二分查找则从一个数组的中间开始，从左往右一次查找，直到找到该元素或循环结束</p>\n<p><strong>Python</strong></p>\n<pre><code class=\"python\">def binary_search(array, key):\n    l = 0\n    r = len(array) - 1\n    while l &lt;= r:\n        m = (l + r) // 2\n        if key == array[m]:\n            return m\n        elif key &lt; array[m]:\n            r = m - 1\n        else:\n            l = m + 1\n    return -1</code></pre>\n<p><strong>Typescript</strong></p>\n<pre><code class=\"ts\">const binarySearch = (array, key) =&gt; {\n  let l: number = 0\n  let r: number = array.length - 1\n\n  while (l &lt;= r) {\n    let m = Math.floor((1 + r) / 2)\n    if (key === array[m]) {\n      return m\n    } else if (key &lt; array[m]) {\n      r = m - 1\n    } else {\n      l = m + 1\n    }\n  }\n  return -1\n}</code></pre>\n<h4 id=\"Binary-Search-Tree\"><a href=\"#Binary-Search-Tree\" class=\"headerlink\" title=\"Binary Search Tree\"></a>Binary Search Tree</h4><p>将数组(有序)分为两部分，数组的中间元素为树的根节点，左边和右边的元素再进行相同的划分，小于根节点的元素放在左边，大于的再右边。</p>\n<h4 id=\"Binary-Search-Tree-Traversal-二叉树遍历\"><a href=\"#Binary-Search-Tree-Traversal-二叉树遍历\" class=\"headerlink\" title=\"Binary Search Tree Traversal 二叉树遍历\"></a>Binary Search Tree Traversal 二叉树遍历</h4><p>根据二叉搜索树我们可以进行数组的插入，查询和删除节点。接下来我们引入二叉树遍历即怎样直到节点是否已经被访问过了。</p>\n<h5 id=\"Pre-order-Traversal-前序遍历\"><a href=\"#Pre-order-Traversal-前序遍历\" class=\"headerlink\" title=\"Pre-order Traversal 前序遍历\"></a>Pre-order Traversal 前序遍历</h5><h5 id=\"In-order-Traversal-中序遍历\"><a href=\"#In-order-Traversal-中序遍历\" class=\"headerlink\" title=\"In-order Traversal 中序遍历\"></a>In-order Traversal 中序遍历</h5><h5 id=\"Post-order-Traversal-后序遍历\"><a href=\"#Post-order-Traversal-后序遍历\" class=\"headerlink\" title=\"Post-order Traversal 后序遍历\"></a>Post-order Traversal 后序遍历</h5><h2 id=\"Divide-and-Conquer-分治法\"><a href=\"#Divide-and-Conquer-分治法\" class=\"headerlink\" title=\"Divide and Conquer 分治法\"></a>Divide and Conquer 分治法</h2><blockquote>\n<p>分治法的理论为把一个大的问题分成若干个小问题，然后逐个解决小问题，最后将小问题的解决方案合并到原来大问题的解。比如乐高玩具，一个乐高模型分成若干个小问题即乐高零件。小问题的解就是将各个组件先拼好，比如房顶，门之类。最后解决完整的模型。</p>\n</blockquote>\n<p>在介绍归并排序之前，我们先来了解以下有序数组的合并。我们可以把将两个有序数组的合并看作为解决一个小问题。最终合并所有数组即能解决原本的问题。</p>\n<p>我们有两个有序数组<br>a： <code>[2, 3, 8, 9]</code><br>b: <code>[1, 4, 5, 7]</code></p>\n<p>假设我们现在需要把 a 和 b 合并为一个新的有序数组到一个空的 c <code>[]</code></p>\n<ul>\n<li>首先我们用三个变量分别来记录三个数组的索引值并初始化为 0， 数组 1 为<code>i</code>， 数组 2 为<code>j</code>，数组 3 为<code>k</code></li>\n<li>然后我们比较 a[i]和 b[i]并将较小的元素存入到数组<code>c[0]中</code>。初始化为 0，所以我们比较<code>a[0]</code>和<code>b[0]</code>。</li>\n<li>之后我们将较小元素的数组索引值和数组 c 的索引值加 1<ul>\n<li>然后我们继续重复第二步进行比较</li>\n</ul>\n</li>\n</ul>\n<p>最好的情况下我们要比较 n/2 个元素，最坏的情况要比较 n - 1 次。由此可以得到合并有序数组的复杂度为 n</p>\n<h3 id=\"Merge-Sort-归并排序\"><a href=\"#Merge-Sort-归并排序\" class=\"headerlink\" title=\"Merge Sort 归并排序\"></a>Merge Sort 归并排序</h3><p>考完试再更新吧 先了解以下</p>\n<p>复杂度 nlogn</p>\n<h3 id=\"Quick-Sort-快速排序\"><a href=\"#Quick-Sort-快速排序\" class=\"headerlink\" title=\"Quick Sort 快速排序\"></a>Quick Sort 快速排序</h3><blockquote>\n<p>Lumuto 划分：首选选一个中间值来作为我们的中轴(pivot), 所有比中轴值小的元素位于中轴的左侧，而大于中轴值的元素位于中轴的右侧。</p>\n</blockquote>\n<pre><code class=\"python\">def partition(array):\n    l = 0\n    r = len(array) - 1\n    pivot = a[l]\n    s = l\n    for i in range(l+1, r+1):\n        if a[i] &lt; p:\n            s += 1\n            a[s], a[i] = a[i], a[s]\n            a[l], a[s] = a[s], a[l]\n    return s</code></pre>\n<h3 id=\"最近点对-Cloest-Pair-Problem\"><a href=\"#最近点对-Cloest-Pair-Problem\" class=\"headerlink\" title=\"最近点对 Cloest Pair Problem\"></a>最近点对 Cloest Pair Problem</h3><h2 id=\"Transform-and-Conquer-变治法\"><a href=\"#Transform-and-Conquer-变治法\" class=\"headerlink\" title=\"Transform and Conquer 变治法\"></a>Transform and Conquer 变治法</h2><h3 id=\"Instance-Simplification-Pre-sorting-预排序\"><a href=\"#Instance-Simplification-Pre-sorting-预排序\" class=\"headerlink\" title=\"Instance Simplification Pre-sorting 预排序\"></a>Instance Simplification Pre-sorting 预排序</h3><h4 id=\"Check-Elements-Uniqueness-判断元素是否独特性\"><a href=\"#Check-Elements-Uniqueness-判断元素是否独特性\" class=\"headerlink\" title=\"Check Elements Uniqueness 判断元素是否独特性\"></a>Check Elements Uniqueness 判断元素是否独特性</h4><p>给出一个数组，判断是否该数组存在重复元素。</p>\n<p>我们先用暴力求解来看下</p>\n<pre><code class=\"python\">def is_unique_bf(array):\n    n = len(array)\n    for i in range(n - 1):\n        # 存储当前索引元素变量\n        index_value = array[i]\n        # 循环数组 查找是否有匹配相等的\n        for j in range(i+1, n):\n            if(array[j] == index_value):\n                return False\n    return True</code></pre>\n<p>由上可以可以得出复杂度为 n 的平方。</p>\n<p>假设我们先将数组进行排序得到一个有序数组，然后在进行判断是否存在重复元素。因为一个有序数组，我们只要查看一个元素是否跟它的下一个元素是否相等即可。比如<code>[2, 3, 3, 5]</code>。</p>\n<p>用代码来实现</p>\n<pre><code class=\"python\">def is_unique_presort(array):\n    n = len(array)\n    # 假设我们先进行排序\n    array.sort()\n    for i in range(n-1):\n        if array[i] == array[i+1]:\n            return False\n    return True</code></pre>\n<p>由于算法由两部分构成（排序和主循环），所以该其复杂度也应该为两部分：排序的复杂度加检查的复杂度。即为 nlogn + n。得到复杂度 nlogn</p>\n<h4 id=\"Find-the-Mode-寻找众数\"><a href=\"#Find-the-Mode-寻找众数\" class=\"headerlink\" title=\"Find the Mode 寻找众数\"></a>Find the Mode 寻找众数</h4><p>众数是出现在一组数据中最频繁的数。这个算法在项目中应该算很常见，比如我最近在做的项目要涉及到计算出最常用的三个标签，或者使用频率最高的技能。</p>\n<p>我们先来看下用暴力求解如何实现这个算法</p>\n<pre><code class=\"python\">def find_mode(array):\n  n = len(array)\n  # 统计每个数字的频率\n  counter = {}\n\n  for i in range(n):\n    counter[array[i]] = counter.get(array[i], 0) + 1\n\n  occurence = 0\n  for key, value in counter.items():\n    if value &gt; occurence:\n      occurence = value\n      mode = key\n  return mode\n</code></pre>\n<p>最坏的情况下我们的数组每个元素都只出现一次 <code>[1, 2, 3, 4, 5, 6]</code>。复杂度为 n2</p>\n<p>如果我们先将数组进行排序，那么相同的元素在有序数组里一定是相邻的。</p>\n<pre><code class=\"python\">def compute_mode_presort(array):\n    array.sort()  # sort array\n    i = 0; freq = 0\n    while i &lt; len(array):\n        temp_freq = 1; temp_mode = array[i]\n        while i + temp_freq &lt; len(array) and array[i+temp_freq] == temp_mode:\n            temp_freq += 1\n        if temp_freq &gt; freq:\n            freq = temp_freq; mode = temp_mode\n        i += temp_freq\n    return mode\n\narray = [2, 6, 3, 1, 2, 1, 4, 2, 5, 3, 7, 8, 6, 4, 3]\nprint(&quot;The mode of the array is %d.&quot; % compute_mode_presort(array))</code></pre>\n<p>算法复杂度可以得出：O(nlog n) + O(log n) = O(nlog n)</p>\n<h3 id=\"Representation-Change\"><a href=\"#Representation-Change\" class=\"headerlink\" title=\"Representation Change\"></a>Representation Change</h3><h4 id=\"Heap-堆\"><a href=\"#Heap-堆\" class=\"headerlink\" title=\"Heap 堆\"></a>Heap 堆</h4><h5 id=\"Complete-Binary-Tree-完全二叉树\"><a href=\"#Complete-Binary-Tree-完全二叉树\" class=\"headerlink\" title=\"Complete Binary Tree 完全二叉树\"></a>Complete Binary Tree 完全二叉树</h5><p>堆一个完全二叉树，即除了最后一层的节点没有铺满外，其他层均已排满。</p>\n<h5 id=\"Heap-Construction-堆的构建\"><a href=\"#Heap-Construction-堆的构建\" class=\"headerlink\" title=\"Heap Construction 堆的构建\"></a>Heap Construction 堆的构建</h5><p>我们把堆分为两种，一种是大顶堆(max heap)即数字越大的优先级越高，另一种为小顶堆(min heap)即数字越小的优先级越高。</p>\n<p>我们以 max heap 为例，由于数字越大的优先级更高， 于是数字越大即优先级越高的数字就越靠近根节点的位置。</p>\n<p>并且父节点的值总是大于或等于其子节点的值。</p>\n<p>如何构建一个堆排序呢？</p>\n<ul>\n<li>首先我们将数组的元素以 binary tree 的形式表现出来。(无序不满足堆的性质)</li>\n<li>然后从堆尾由上至下进行节点元素的调换。直到所有节点都满足堆的性质（即父节点的值总是大于或等于其子节点的值)</li>\n</ul>\n<blockquote>\n<p>注: 父节点没有子节点时，左右的排序不需要满足右节点大于左节点（不同于二叉树搜索）</p>\n</blockquote>\n<p>//需要图片来描述步骤</p>\n<h4 id=\"Heap-Insert-堆的插入\"><a href=\"#Heap-Insert-堆的插入\" class=\"headerlink\" title=\"Heap Insert 堆的插入\"></a>Heap Insert 堆的插入</h4><p>假设我们要把一个数值插入到一个堆中,如何来实现呢?</p>\n<p>给定一个堆的排序 <code>[16, 15, 10, 14, 7, 9, 3, 2, 8 ,1]</code>，我们想要插入<code>17</code>到这个堆中</p>\n<ul>\n<li>首先我们把 17 放到数组的最后一个位置中</li>\n<li>我们将 17 与它的父节点进行比较，也就是 7。7 小于 17 不满足堆的性质，于是我们进行调换 7 和 17 的位置</li>\n<li>继续进行与父节点对比，17 和 15， 依旧不满足父节点大于子节点的的性质，我们调换 17 和 15 的位置</li>\n<li>现在对比 17 和 16， 依然，我们进行调换。</li>\n<li>重复以上步骤直到满足堆的性质</li>\n</ul>\n<blockquote>\n<p>我们可以发现给定一个有 N 个元素的数组，堆的高度为 log2 为底 n 的对数。比如之前的例子，我们有 10 个元素，那堆的高度为 log2 10 = 3(向下取整)。根据堆得性质，我们发现插入一个元素到堆中需要进行堆的高度次元素。由此可得堆得算法复杂度为 log2 为底 n 的对数</p>\n</blockquote>\n<h4 id=\"Heap-Delete-堆的删除\"><a href=\"#Heap-Delete-堆的删除\" class=\"headerlink\" title=\"Heap Delete 堆的删除\"></a>Heap Delete 堆的删除</h4><p>从堆中删除一个元素的实现方法为：</p>\n<ul>\n<li>交换根节点的元素与堆尾的位置(数组中头尾交换)</li>\n<li>删除堆尾</li>\n<li>从上到下调整堆的结构（与堆的插入：由下至上相反）<ul>\n<li>如果不满足堆的性质就交换两个节点的值</li>\n</ul>\n</li>\n</ul>\n<p>比如我们之前的例子，<code>[17, 16, 10, 14, 15, 9, 3, 2, 8, 1, 7]</code>。</p>\n<p>我们想要删除节点 17。按照上面的步骤来实现即</p>\n<ul>\n<li>替换 17 与 7 的位置</li>\n<li>删除 17</li>\n<li>7 与 16 对比，不满足堆的性质调换位置</li>\n<li>7 小于 15， 调换</li>\n</ul>\n<h4 id=\"Heap-Sort-堆排序\"><a href=\"#Heap-Sort-堆排序\" class=\"headerlink\" title=\"Heap Sort 堆排序\"></a>Heap Sort 堆排序</h4><h5 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h5><ul>\n<li>构建堆</li>\n<li>堆顶和堆尾的值交换顺序，并删除交换后的堆尾元素</li>\n<li>调整堆的结构（利用堆的删除方法，由上至下）</li>\n<li>重复第二和第三步 直到堆为空</li>\n</ul>\n<p><a href=\"http://btv.melezinek.cz\" target=\"_blank\" rel=\"noopener\">http://btv.melezinek.cz</a></p>\n<h5 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h5><h2 id=\"Summary-of-sorting-algorithms\"><a href=\"#Summary-of-sorting-algorithms\" class=\"headerlink\" title=\"Summary of sorting algorithms\"></a>Summary of sorting algorithms</h2><table>\n<thead>\n<tr>\n<th>算法</th>\n<th>最好的情况</th>\n<th>最坏的情况</th>\n<th>稳定性</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>选择排序</td>\n<td>n2</td>\n<td>n2</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>冒泡排序</td>\n<td>n</td>\n<td>n2</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>插入排序</td>\n<td>n</td>\n<td>n2</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>归并排序</td>\n<td>n logn</td>\n<td>n logn</td>\n<td>稳定</td>\n</tr>\n<tr>\n<td>快速排序</td>\n<td>n logn</td>\n<td>n2</td>\n<td>不稳定</td>\n</tr>\n<tr>\n<td>堆排序</td>\n<td>n logn</td>\n<td>n logn</td>\n<td>不稳定</td>\n</tr>\n</tbody></table>"},{"title":"ES6与Javascrpit的对比","date":"2020-06-18T05:55:19.000Z","comments":0,"cover":"https://miro.medium.com/max/840/0*Vbp13RW_9HpRqH6E.png","_content":"\n> 在之前学 React 的过程中渐渐的从 js 写法转变为 es6 写法，不过都是学到什么用么。于是今天重新来学习一下 ES6 的新特性以及对比跟 javascript 的区别\n\n<!-- more -->\n\n## 简介\n\n引用维基百科的定义\n\n> ECMAScript is a scripting-language specification standardized by Ecma International. It was created to standardize JavaScript to help foster multiple independent implementations.\n\n简单来说，ES6 就是在原 javascript 的基础上创建了新的语法和特性来让代码更易读和简介。\n\n## Variables\n\n**Javascript**\nES6 之前我们声明变量用 var, 但是 var 我们可以重复声明同一个变量。\n\n比如\n\n```js\nvar name = 'Yang'\nvar name = 'Jason'\n\nfor (var i = 0; i < 5; i++) {\n  console.log(i)\n  //0, 1, 2, 3, 4\n}\n\nconsole.log(i) //0, 1, 2, 3, 4 不是block scoping, 可能会有未知错误\n```\n\n**ES6**\nES6 中我们可以用`let`和`const`来声明变量\n\n- let 和 const 都是 block scoping: 在`{}`中声明的 let 和 const 只能在`{}`中 access\n- let 的变量可以重新定义\n- const 的变量声明后不可以更改\n\n```js\nlet name = 'Yang'\nname = 'Nathan' //ok\n\nconst title = 'ES6 Notes'\ntitle = 'Cant change const variable' //error: variable has already been declared\n\nfor (let i = 0; i < 5; i++) {\n  console.log(i)\n  //0, 1, 2, 3, 4\n}\n\nconsole.log(i) //error\n```\n\n## String Concatenation\n\n**Javascript**\n较早的 Javascript 中我们只需要用`+`就可以实现 string concatenation。\n\n```js\nvar name = 'Yang'\nvar age = 23\nconsole.log('My name is' + name + ' and my age is' + age)\n```\n\n**ES6**\nES6 中我们可以用 template literal。比`+`更方便。我们只需要用``来包括内容，用\\${}来声明变量即可。\n\n```js\nconst name = 'Yang'\nconst age = '23'\nconsole.log(`My name is ${name} and my age is ${age}`)\n```\n\n## Object Deconstruction\n\n**Javascript**\nOld Javascript 我们用`.`来获取对象的变量。\n\n```js\nvar profile = {\n  name: 'Yang',\n  age: 23,\n  avatar: 'img/user.jpg',\n}\n\nconsole.log(profile.name, profile.age, profile.avatar)\n```\n\n**ES6**\nES6 中我们可以使用`{}`destruct 对象，然后可以直接引用变量名。\n\n```js\nconst profile = {\n  name: 'Yang',\n  age: 23,\n  avatar: 'img/user/jpg',\n}\n\nconst { name, age, avatar } = profile\nconsole.log(name, age, avatar)\n```\n\n## Arrow Functions\n\n**Javascript**\n\n```js\nfunction greeting() {\n  console.log('Hello javascript')\n}\n\nvar greeting = function () {\n  console.log('Hello javascript')\n}\n```\n\n**ES6**\n\n```js\nconst greeting = () => {\n  console.log('Hello javascript')\n}\n\n//如果只有一个parameter 可以省略()\nconst sayHello = name => {\n  console.log(`Hello ${name}`)\n}\n\n//return statement只有一行时可以省略{}\nconst sayHello = name => console.log(`Hello ${name}`)\n```\n\n## Default Parameters\n\n**Javascript**\n\n```js\nfunction addOperation(numOne, numTwo) {\n  //如果没有input将设置默认值为1\n  var oneDefault = numOne || 1\n  var twoDefault = numTwo || 1\n\n  return oneDefault + twoDefault\n}\n```\n\n**ES6**\n\n```js\nconst addOperation = (numOne = 1, numTwo = 1) => {\n  return numOne + numTwo\n}\n\naddOperation(13) //14\n```\n\n## Array Functions\n\nES6 中引入了 forEach, map 和 filter。forEach 对当前数组进行操作。map 和 filter 拷贝原数组在其基础上进行更改\n\n**ES6**\n\n```js\nconst animeList = ['fate zero', 'fate stay night', 'haikyuu', 'clannad']\n\n//index返回数组内每个元素的索引值\nanimeList.forEach((anime, index) => {\n  console.log(anime, index)\n})\n\n//map创建一个新的数组\nconst myAnimeList = animeList.map(myAnime => return myAnime.includes('fate')\n)\n\n//假设每个动画都有自己的评分\nconst myFavouriteList = animeList.filter(item => item.rank >= 9.3)\n```\n\n## Constructor Functions and Classes\n\n**ES6**\n\n```js\nclass Anime {\n    constructor(name, year, rank) {\n        this.name = name\n        this.year = year\n        this.rank = rank\n    }\n    const animeInfo = () => {\n        console.log(`The anime is ${this.name}, and made in ${this.year}。`)\n    }\n}\n\nconst fate = new Anime('Fate Stay Night', 2015, 9.5)\n\nconsole.log(fate.animeInfo())\n\n//继承 extends\nclass AnimeYuri extends Anime {\n    constructor(name, year, rank, isForChild) {\n        //从父级anime中继承name props\n        super(name, year, rank)\n        this.isForChild = isForChild\n    }\n}\n\nconst yuriyuri = new AnimeYuri('Yuriyuri', 2017, 9.9, true)\n```\n\n## Promise\n\n### Using Promise: fetch()\n\n**ES6**\n\n```js\nconst url = 'https://theapiurl/'\n\nfetch(url)\n  .then(response => response.json())\n  .then(data => console.log(data))\n  .catch(error => console.log(error))\n```\n","source":"_posts/11-es6-notes.md","raw":"---\ntitle: ES6与Javascrpit的对比\ndate: 2020-06-17 22:55:19\ntags: ['javascript', 'es6', 'notes']\ncategories: 笔记\ncomments: false\ncover: 'https://miro.medium.com/max/840/0*Vbp13RW_9HpRqH6E.png'\n---\n\n> 在之前学 React 的过程中渐渐的从 js 写法转变为 es6 写法，不过都是学到什么用么。于是今天重新来学习一下 ES6 的新特性以及对比跟 javascript 的区别\n\n<!-- more -->\n\n## 简介\n\n引用维基百科的定义\n\n> ECMAScript is a scripting-language specification standardized by Ecma International. It was created to standardize JavaScript to help foster multiple independent implementations.\n\n简单来说，ES6 就是在原 javascript 的基础上创建了新的语法和特性来让代码更易读和简介。\n\n## Variables\n\n**Javascript**\nES6 之前我们声明变量用 var, 但是 var 我们可以重复声明同一个变量。\n\n比如\n\n```js\nvar name = 'Yang'\nvar name = 'Jason'\n\nfor (var i = 0; i < 5; i++) {\n  console.log(i)\n  //0, 1, 2, 3, 4\n}\n\nconsole.log(i) //0, 1, 2, 3, 4 不是block scoping, 可能会有未知错误\n```\n\n**ES6**\nES6 中我们可以用`let`和`const`来声明变量\n\n- let 和 const 都是 block scoping: 在`{}`中声明的 let 和 const 只能在`{}`中 access\n- let 的变量可以重新定义\n- const 的变量声明后不可以更改\n\n```js\nlet name = 'Yang'\nname = 'Nathan' //ok\n\nconst title = 'ES6 Notes'\ntitle = 'Cant change const variable' //error: variable has already been declared\n\nfor (let i = 0; i < 5; i++) {\n  console.log(i)\n  //0, 1, 2, 3, 4\n}\n\nconsole.log(i) //error\n```\n\n## String Concatenation\n\n**Javascript**\n较早的 Javascript 中我们只需要用`+`就可以实现 string concatenation。\n\n```js\nvar name = 'Yang'\nvar age = 23\nconsole.log('My name is' + name + ' and my age is' + age)\n```\n\n**ES6**\nES6 中我们可以用 template literal。比`+`更方便。我们只需要用``来包括内容，用\\${}来声明变量即可。\n\n```js\nconst name = 'Yang'\nconst age = '23'\nconsole.log(`My name is ${name} and my age is ${age}`)\n```\n\n## Object Deconstruction\n\n**Javascript**\nOld Javascript 我们用`.`来获取对象的变量。\n\n```js\nvar profile = {\n  name: 'Yang',\n  age: 23,\n  avatar: 'img/user.jpg',\n}\n\nconsole.log(profile.name, profile.age, profile.avatar)\n```\n\n**ES6**\nES6 中我们可以使用`{}`destruct 对象，然后可以直接引用变量名。\n\n```js\nconst profile = {\n  name: 'Yang',\n  age: 23,\n  avatar: 'img/user/jpg',\n}\n\nconst { name, age, avatar } = profile\nconsole.log(name, age, avatar)\n```\n\n## Arrow Functions\n\n**Javascript**\n\n```js\nfunction greeting() {\n  console.log('Hello javascript')\n}\n\nvar greeting = function () {\n  console.log('Hello javascript')\n}\n```\n\n**ES6**\n\n```js\nconst greeting = () => {\n  console.log('Hello javascript')\n}\n\n//如果只有一个parameter 可以省略()\nconst sayHello = name => {\n  console.log(`Hello ${name}`)\n}\n\n//return statement只有一行时可以省略{}\nconst sayHello = name => console.log(`Hello ${name}`)\n```\n\n## Default Parameters\n\n**Javascript**\n\n```js\nfunction addOperation(numOne, numTwo) {\n  //如果没有input将设置默认值为1\n  var oneDefault = numOne || 1\n  var twoDefault = numTwo || 1\n\n  return oneDefault + twoDefault\n}\n```\n\n**ES6**\n\n```js\nconst addOperation = (numOne = 1, numTwo = 1) => {\n  return numOne + numTwo\n}\n\naddOperation(13) //14\n```\n\n## Array Functions\n\nES6 中引入了 forEach, map 和 filter。forEach 对当前数组进行操作。map 和 filter 拷贝原数组在其基础上进行更改\n\n**ES6**\n\n```js\nconst animeList = ['fate zero', 'fate stay night', 'haikyuu', 'clannad']\n\n//index返回数组内每个元素的索引值\nanimeList.forEach((anime, index) => {\n  console.log(anime, index)\n})\n\n//map创建一个新的数组\nconst myAnimeList = animeList.map(myAnime => return myAnime.includes('fate')\n)\n\n//假设每个动画都有自己的评分\nconst myFavouriteList = animeList.filter(item => item.rank >= 9.3)\n```\n\n## Constructor Functions and Classes\n\n**ES6**\n\n```js\nclass Anime {\n    constructor(name, year, rank) {\n        this.name = name\n        this.year = year\n        this.rank = rank\n    }\n    const animeInfo = () => {\n        console.log(`The anime is ${this.name}, and made in ${this.year}。`)\n    }\n}\n\nconst fate = new Anime('Fate Stay Night', 2015, 9.5)\n\nconsole.log(fate.animeInfo())\n\n//继承 extends\nclass AnimeYuri extends Anime {\n    constructor(name, year, rank, isForChild) {\n        //从父级anime中继承name props\n        super(name, year, rank)\n        this.isForChild = isForChild\n    }\n}\n\nconst yuriyuri = new AnimeYuri('Yuriyuri', 2017, 9.9, true)\n```\n\n## Promise\n\n### Using Promise: fetch()\n\n**ES6**\n\n```js\nconst url = 'https://theapiurl/'\n\nfetch(url)\n  .then(response => response.json())\n  .then(data => console.log(data))\n  .catch(error => console.log(error))\n```\n","slug":"11-es6-notes","published":1,"updated":"2020-06-20T07:08:14.125Z","layout":"post","photos":[],"link":"","_id":"ckbnbuin1000oi0ui2s2e0ia9","content":"<blockquote>\n<p>在之前学 React 的过程中渐渐的从 js 写法转变为 es6 写法，不过都是学到什么用么。于是今天重新来学习一下 ES6 的新特性以及对比跟 javascript 的区别</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>引用维基百科的定义</p>\n<blockquote>\n<p>ECMAScript is a scripting-language specification standardized by Ecma International. It was created to standardize JavaScript to help foster multiple independent implementations.</p>\n</blockquote>\n<p>简单来说，ES6 就是在原 javascript 的基础上创建了新的语法和特性来让代码更易读和简介。</p>\n<h2 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h2><p><strong>Javascript</strong><br>ES6 之前我们声明变量用 var, 但是 var 我们可以重复声明同一个变量。</p>\n<p>比如</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Yang'</span>\n<span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Jason'</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\">//0, 1, 2, 3, 4</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//0, 1, 2, 3, 4 不是block scoping, 可能会有未知错误</span></code></pre>\n<p><strong>ES6</strong><br>ES6 中我们可以用<code>let</code>和<code>const</code>来声明变量</p>\n<ul>\n<li>let 和 const 都是 block scoping: 在<code>{}</code>中声明的 let 和 const 只能在<code>{}</code>中 access</li>\n<li>let 的变量可以重新定义</li>\n<li>const 的变量声明后不可以更改</li>\n</ul>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Yang'</span>\nname <span class=\"token operator\">=</span> <span class=\"token string\">'Nathan'</span> <span class=\"token comment\" spellcheck=\"true\">//ok</span>\n\n<span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> <span class=\"token string\">'ES6 Notes'</span>\ntitle <span class=\"token operator\">=</span> <span class=\"token string\">'Cant change const variable'</span> <span class=\"token comment\" spellcheck=\"true\">//error: variable has already been declared</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\">//0, 1, 2, 3, 4</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//error</span></code></pre>\n<h2 id=\"String-Concatenation\"><a href=\"#String-Concatenation\" class=\"headerlink\" title=\"String Concatenation\"></a>String Concatenation</h2><p><strong>Javascript</strong><br>较早的 Javascript 中我们只需要用<code>+</code>就可以实现 string concatenation。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Yang'</span>\n<span class=\"token keyword\">var</span> age <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'My name is'</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">' and my age is'</span> <span class=\"token operator\">+</span> age<span class=\"token punctuation\">)</span></code></pre>\n<p><strong>ES6</strong><br>ES6 中我们可以用 template literal。比<code>+</code>更方便。我们只需要用``来包括内容，用${}来声明变量即可。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'Yang'</span>\n<span class=\"token keyword\">const</span> age <span class=\"token operator\">=</span> <span class=\"token string\">'23'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`My name is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and my age is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>age<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Object-Deconstruction\"><a href=\"#Object-Deconstruction\" class=\"headerlink\" title=\"Object Deconstruction\"></a>Object Deconstruction</h2><p><strong>Javascript</strong><br>Old Javascript 我们用<code>.</code>来获取对象的变量。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> profile <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span>\n  age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span>\n  avatar<span class=\"token punctuation\">:</span> <span class=\"token string\">'img/user.jpg'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>profile<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> profile<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">,</span> profile<span class=\"token punctuation\">.</span>avatar<span class=\"token punctuation\">)</span></code></pre>\n<p><strong>ES6</strong><br>ES6 中我们可以使用<code>{}</code>destruct 对象，然后可以直接引用变量名。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> profile <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span>\n  age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span>\n  avatar<span class=\"token punctuation\">:</span> <span class=\"token string\">'img/user/jpg'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> avatar <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> profile\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> avatar<span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Arrow-Functions\"><a href=\"#Arrow-Functions\" class=\"headerlink\" title=\"Arrow Functions\"></a>Arrow Functions</h2><p><strong>Javascript</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">greeting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello javascript'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> greeting <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello javascript'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><strong>ES6</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> greeting <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello javascript'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//如果只有一个parameter 可以省略()</span>\n<span class=\"token keyword\">const</span> sayHello <span class=\"token operator\">=</span> name <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`Hello </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//return statement只有一行时可以省略{}</span>\n<span class=\"token keyword\">const</span> sayHello <span class=\"token operator\">=</span> name <span class=\"token operator\">=</span><span class=\"token operator\">></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`Hello </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Default-Parameters\"><a href=\"#Default-Parameters\" class=\"headerlink\" title=\"Default Parameters\"></a>Default Parameters</h2><p><strong>Javascript</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span>numOne<span class=\"token punctuation\">,</span> numTwo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\" spellcheck=\"true\">//如果没有input将设置默认值为1</span>\n  <span class=\"token keyword\">var</span> oneDefault <span class=\"token operator\">=</span> numOne <span class=\"token operator\">||</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">var</span> twoDefault <span class=\"token operator\">=</span> numTwo <span class=\"token operator\">||</span> <span class=\"token number\">1</span>\n\n  <span class=\"token keyword\">return</span> oneDefault <span class=\"token operator\">+</span> twoDefault\n<span class=\"token punctuation\">}</span></code></pre>\n<p><strong>ES6</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> addOperation <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>numOne <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> numTwo <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> numOne <span class=\"token operator\">+</span> numTwo\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">addOperation</span><span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//14</span></code></pre>\n<h2 id=\"Array-Functions\"><a href=\"#Array-Functions\" class=\"headerlink\" title=\"Array Functions\"></a>Array Functions</h2><p>ES6 中引入了 forEach, map 和 filter。forEach 对当前数组进行操作。map 和 filter 拷贝原数组在其基础上进行更改</p>\n<p><strong>ES6</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animeList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'fate zero'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'fate stay night'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'clannad'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//index返回数组内每个元素的索引值</span>\nanimeList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>anime<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>anime<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//map创建一个新的数组</span>\n<span class=\"token keyword\">const</span> myAnimeList <span class=\"token operator\">=</span> animeList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>myAnime <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">return</span> myAnime<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fate'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//假设每个动画都有自己的评分</span>\n<span class=\"token keyword\">const</span> myFavouriteList <span class=\"token operator\">=</span> animeList<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=</span><span class=\"token operator\">></span> item<span class=\"token punctuation\">.</span>rank <span class=\"token operator\">>=</span> <span class=\"token number\">9.3</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Constructor-Functions-and-Classes\"><a href=\"#Constructor-Functions-and-Classes\" class=\"headerlink\" title=\"Constructor Functions and Classes\"></a>Constructor Functions and Classes</h2><p><strong>ES6</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Anime</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> year<span class=\"token punctuation\">,</span> rank<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>year <span class=\"token operator\">=</span> year\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rank <span class=\"token operator\">=</span> rank\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">const</span> animeInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`The anime is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, and made in </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>year<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">。`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> fate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Anime</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fate Stay Night'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2015</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9.5</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>fate<span class=\"token punctuation\">.</span><span class=\"token function\">animeInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//继承 extends</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AnimeYuri</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Anime</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> year<span class=\"token punctuation\">,</span> rank<span class=\"token punctuation\">,</span> isForChild<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\" spellcheck=\"true\">//从父级anime中继承name props</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> year<span class=\"token punctuation\">,</span> rank<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isForChild <span class=\"token operator\">=</span> isForChild\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> yuriyuri <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AnimeYuri</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Yuriyuri'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9.9</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h2><h3 id=\"Using-Promise-fetch\"><a href=\"#Using-Promise-fetch\" class=\"headerlink\" title=\"Using Promise: fetch()\"></a>Using Promise: fetch()</h3><p><strong>ES6</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token string\">'https://theapiurl/'</span>\n\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>response <span class=\"token operator\">=</span><span class=\"token operator\">></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=</span><span class=\"token operator\">></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>error <span class=\"token operator\">=</span><span class=\"token operator\">></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>在之前学 React 的过程中渐渐的从 js 写法转变为 es6 写法，不过都是学到什么用么。于是今天重新来学习一下 ES6 的新特性以及对比跟 javascript 的区别</p>\n</blockquote>","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>引用维基百科的定义</p>\n<blockquote>\n<p>ECMAScript is a scripting-language specification standardized by Ecma International. It was created to standardize JavaScript to help foster multiple independent implementations.</p>\n</blockquote>\n<p>简单来说，ES6 就是在原 javascript 的基础上创建了新的语法和特性来让代码更易读和简介。</p>\n<h2 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h2><p><strong>Javascript</strong><br>ES6 之前我们声明变量用 var, 但是 var 我们可以重复声明同一个变量。</p>\n<p>比如</p>\n<pre><code class=\"js\">var name = &#39;Yang&#39;\nvar name = &#39;Jason&#39;\n\nfor (var i = 0; i &lt; 5; i++) {\n  console.log(i)\n  //0, 1, 2, 3, 4\n}\n\nconsole.log(i) //0, 1, 2, 3, 4 不是block scoping, 可能会有未知错误</code></pre>\n<p><strong>ES6</strong><br>ES6 中我们可以用<code>let</code>和<code>const</code>来声明变量</p>\n<ul>\n<li>let 和 const 都是 block scoping: 在<code>{}</code>中声明的 let 和 const 只能在<code>{}</code>中 access</li>\n<li>let 的变量可以重新定义</li>\n<li>const 的变量声明后不可以更改</li>\n</ul>\n<pre><code class=\"js\">let name = &#39;Yang&#39;\nname = &#39;Nathan&#39; //ok\n\nconst title = &#39;ES6 Notes&#39;\ntitle = &#39;Cant change const variable&#39; //error: variable has already been declared\n\nfor (let i = 0; i &lt; 5; i++) {\n  console.log(i)\n  //0, 1, 2, 3, 4\n}\n\nconsole.log(i) //error</code></pre>\n<h2 id=\"String-Concatenation\"><a href=\"#String-Concatenation\" class=\"headerlink\" title=\"String Concatenation\"></a>String Concatenation</h2><p><strong>Javascript</strong><br>较早的 Javascript 中我们只需要用<code>+</code>就可以实现 string concatenation。</p>\n<pre><code class=\"js\">var name = &#39;Yang&#39;\nvar age = 23\nconsole.log(&#39;My name is&#39; + name + &#39; and my age is&#39; + age)</code></pre>\n<p><strong>ES6</strong><br>ES6 中我们可以用 template literal。比<code>+</code>更方便。我们只需要用``来包括内容，用${}来声明变量即可。</p>\n<pre><code class=\"js\">const name = &#39;Yang&#39;\nconst age = &#39;23&#39;\nconsole.log(`My name is ${name} and my age is ${age}`)</code></pre>\n<h2 id=\"Object-Deconstruction\"><a href=\"#Object-Deconstruction\" class=\"headerlink\" title=\"Object Deconstruction\"></a>Object Deconstruction</h2><p><strong>Javascript</strong><br>Old Javascript 我们用<code>.</code>来获取对象的变量。</p>\n<pre><code class=\"js\">var profile = {\n  name: &#39;Yang&#39;,\n  age: 23,\n  avatar: &#39;img/user.jpg&#39;,\n}\n\nconsole.log(profile.name, profile.age, profile.avatar)</code></pre>\n<p><strong>ES6</strong><br>ES6 中我们可以使用<code>{}</code>destruct 对象，然后可以直接引用变量名。</p>\n<pre><code class=\"js\">const profile = {\n  name: &#39;Yang&#39;,\n  age: 23,\n  avatar: &#39;img/user/jpg&#39;,\n}\n\nconst { name, age, avatar } = profile\nconsole.log(name, age, avatar)</code></pre>\n<h2 id=\"Arrow-Functions\"><a href=\"#Arrow-Functions\" class=\"headerlink\" title=\"Arrow Functions\"></a>Arrow Functions</h2><p><strong>Javascript</strong></p>\n<pre><code class=\"js\">function greeting() {\n  console.log(&#39;Hello javascript&#39;)\n}\n\nvar greeting = function () {\n  console.log(&#39;Hello javascript&#39;)\n}</code></pre>\n<p><strong>ES6</strong></p>\n<pre><code class=\"js\">const greeting = () =&gt; {\n  console.log(&#39;Hello javascript&#39;)\n}\n\n//如果只有一个parameter 可以省略()\nconst sayHello = name =&gt; {\n  console.log(`Hello ${name}`)\n}\n\n//return statement只有一行时可以省略{}\nconst sayHello = name =&gt; console.log(`Hello ${name}`)</code></pre>\n<h2 id=\"Default-Parameters\"><a href=\"#Default-Parameters\" class=\"headerlink\" title=\"Default Parameters\"></a>Default Parameters</h2><p><strong>Javascript</strong></p>\n<pre><code class=\"js\">function addOperation(numOne, numTwo) {\n  //如果没有input将设置默认值为1\n  var oneDefault = numOne || 1\n  var twoDefault = numTwo || 1\n\n  return oneDefault + twoDefault\n}</code></pre>\n<p><strong>ES6</strong></p>\n<pre><code class=\"js\">const addOperation = (numOne = 1, numTwo = 1) =&gt; {\n  return numOne + numTwo\n}\n\naddOperation(13) //14</code></pre>\n<h2 id=\"Array-Functions\"><a href=\"#Array-Functions\" class=\"headerlink\" title=\"Array Functions\"></a>Array Functions</h2><p>ES6 中引入了 forEach, map 和 filter。forEach 对当前数组进行操作。map 和 filter 拷贝原数组在其基础上进行更改</p>\n<p><strong>ES6</strong></p>\n<pre><code class=\"js\">const animeList = [&#39;fate zero&#39;, &#39;fate stay night&#39;, &#39;haikyuu&#39;, &#39;clannad&#39;]\n\n//index返回数组内每个元素的索引值\nanimeList.forEach((anime, index) =&gt; {\n  console.log(anime, index)\n})\n\n//map创建一个新的数组\nconst myAnimeList = animeList.map(myAnime =&gt; return myAnime.includes(&#39;fate&#39;)\n)\n\n//假设每个动画都有自己的评分\nconst myFavouriteList = animeList.filter(item =&gt; item.rank &gt;= 9.3)</code></pre>\n<h2 id=\"Constructor-Functions-and-Classes\"><a href=\"#Constructor-Functions-and-Classes\" class=\"headerlink\" title=\"Constructor Functions and Classes\"></a>Constructor Functions and Classes</h2><p><strong>ES6</strong></p>\n<pre><code class=\"js\">class Anime {\n    constructor(name, year, rank) {\n        this.name = name\n        this.year = year\n        this.rank = rank\n    }\n    const animeInfo = () =&gt; {\n        console.log(`The anime is ${this.name}, and made in ${this.year}。`)\n    }\n}\n\nconst fate = new Anime(&#39;Fate Stay Night&#39;, 2015, 9.5)\n\nconsole.log(fate.animeInfo())\n\n//继承 extends\nclass AnimeYuri extends Anime {\n    constructor(name, year, rank, isForChild) {\n        //从父级anime中继承name props\n        super(name, year, rank)\n        this.isForChild = isForChild\n    }\n}\n\nconst yuriyuri = new AnimeYuri(&#39;Yuriyuri&#39;, 2017, 9.9, true)</code></pre>\n<h2 id=\"Promise\"><a href=\"#Promise\" class=\"headerlink\" title=\"Promise\"></a>Promise</h2><h3 id=\"Using-Promise-fetch\"><a href=\"#Using-Promise-fetch\" class=\"headerlink\" title=\"Using Promise: fetch()\"></a>Using Promise: fetch()</h3><p><strong>ES6</strong></p>\n<pre><code class=\"js\">const url = &#39;https://theapiurl/&#39;\n\nfetch(url)\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(data))\n  .catch(error =&gt; console.log(error))</code></pre>"},{"title":"健力课表长期短期规划浅谈以及个人经验","date":"2020-06-19T00:55:19.000Z","cover":"https://physiqz.com/wp-content/uploads/2018/04/Powerlifting-Gear-and-Equipment-Guide.jpg","_content":"\n> 在刚接触力量举的时候，我一直以为计划加饮食是能帮助我提升最大的因素。其实不然，在去过日本关西前三的健力馆，并有幸跟世界卧推冠军 Kodoma Daiki 交流后，我意识到训练中个人意识起到了更重要的作用。一个系统的计划依旧很重要，但你的态度以及热爱可以超过所有营养和计划。本文将介绍我路程中所吸取到的经验，以及我之后创立的课表都会放在这边。\n\n<!-- more -->\n","source":"_posts/12-intermediate-powerlifting.md","raw":"---\ntitle: 健力课表长期短期规划浅谈以及个人经验\ndate: 2020-06-18 17:55:19\ntags: ['powerlifting', 'routine', 'Big three', 'rogue']\ncategories: 文章\ncover: 'https://physiqz.com/wp-content/uploads/2018/04/Powerlifting-Gear-and-Equipment-Guide.jpg'\n---\n\n> 在刚接触力量举的时候，我一直以为计划加饮食是能帮助我提升最大的因素。其实不然，在去过日本关西前三的健力馆，并有幸跟世界卧推冠军 Kodoma Daiki 交流后，我意识到训练中个人意识起到了更重要的作用。一个系统的计划依旧很重要，但你的态度以及热爱可以超过所有营养和计划。本文将介绍我路程中所吸取到的经验，以及我之后创立的课表都会放在这边。\n\n<!-- more -->\n","slug":"12-intermediate-powerlifting","published":1,"updated":"2020-06-20T07:07:41.428Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckbnbuin3000ri0ui4d8mehny","content":"<blockquote>\n<p>在刚接触力量举的时候，我一直以为计划加饮食是能帮助我提升最大的因素。其实不然，在去过日本关西前三的健力馆，并有幸跟世界卧推冠军 Kodoma Daiki 交流后，我意识到训练中个人意识起到了更重要的作用。一个系统的计划依旧很重要，但你的态度以及热爱可以超过所有营养和计划。本文将介绍我路程中所吸取到的经验，以及我之后创立的课表都会放在这边。</p>\n</blockquote>\n<a id=\"more\"></a>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>在刚接触力量举的时候，我一直以为计划加饮食是能帮助我提升最大的因素。其实不然，在去过日本关西前三的健力馆，并有幸跟世界卧推冠军 Kodoma Daiki 交流后，我意识到训练中个人意识起到了更重要的作用。一个系统的计划依旧很重要，但你的态度以及热爱可以超过所有营养和计划。本文将介绍我路程中所吸取到的经验，以及我之后创立的课表都会放在这边。</p>\n</blockquote>","more":""},{"title":"React常用Hooks笔记","date":"2020-06-19T04:37:47.000Z","cover":"https://www.educative.io/api/page/6018530514305024/image/download/5753173610332160","_content":"\n> React Hooks 是 react 16.8 之后的新特性。相比于之前的在 class 组件中管理 state，我们现在可以在函数组件(function component)中管理状态和生命周期\n\n<!-- more -->\n\n## useState(): 管理状态 hooks\n\n在之前的函数组件中，我们只能由上至下传递 props 而且 props 是只读不可更改，只有 class 组件才可以有状态管理。\n\n现在，函数组件也可以利用 useState()管理组件状态。\n\nuseState()有两个 parameters，期中第一个是变量，即指向状态的 value。第二个是管理该状态的函数，通常以 set 开头加状态名。\n\n比如我们声明一个用户登录的状态。\n\n```jsx\nimport React, {useState} from 'react'\n\nexport const App:React.FC = () => {\n    // 初始化isLogged的状态为false\n    const [isLogged, setIsLoggedIn] = useState<boolean>(false)\n\n    // 点击按钮后 更改isLogged的状态为true\n    const handleLogin = () {\n        setIsLoggedIn(true)\n    }\n\n    return (\n        <div>\n            <button onClick={handleLogin}>Login</button>\n        </div>\n    )\n}\n\n```\n\n## useEffect(): 管理生命周期\n\n我们之前在 class 组件中可以利用`componentDidMount`以及其他函数来管理生命周期。现在，我们可以利用 useEffect 来管理组件的渲染或者处理第三方 API 的请求数据。\n\n```jsx\nuseEffect(() => {\n  //action\n}, [dependencies])\n```\n\nuseEffect()中有两个参数，第一个为 arrow 函数即我们要执行的操作。第二个参数为依赖，当依赖发生变化时就会执行 useEffect。\n\n如果我们只想执行 useEffect 一次，类似于之前 componentDidMount。我们给第二个参数留空的数组即可。\n\n```jsx\nuseEffect(() => {\n  const url = 'https://whatevertheapiis/'\n  fetch(url)\n    .then(repsonse => response.json)\n    .then(data => {\n      console.log(data)\n    })\n}, [])\n```\n\n## useContext(): 跨组件传递状态\n\n在之前的版本中我们可以利用 context 来创建 Consumer 和 Provider。但是 useContext()可以更加方便。\n\n最简单的例子，用户登录之后，用户名是可以被多个组件使用。\n\n比如下面我们创建一个 ProfileMenu 和 Dashboard 组件。这两个组件都需要用到用户的姓名。\n\n```jsx\nexport const App: React.FC = () => {\n  return (\n    <div className=\"app-container\">\n      <ProfileMenu />\n      <Dashboard />\n    </div>\n  )\n}\n```\n\n首先我们需要给 Profile 和 Dashboard 组件创建一个 Context\n\n```jsx\nimport React, { createContext } from 'react'\n\nconst UserNameContext = createContext({})\n```\n\n然后我们把 Profile 和 Dashboard 封装在我们刚刚建立的`UserNameContext`中作为状态的**提供者**(Provider), 以供子级组件共享。\n\n```jsx\nexport const App: React.FC = () => {\n  return (\n    <UserNameContext.Provider\n      value={{\n        userName: 'Yang Li',\n      }}\n    >\n      <div className=\"app-container\">\n        <ProfileMenu />\n        <Dashboard />\n      </div>\n    </UserNameContext.Provider>\n  )\n}\n```\n\n然后我们就可以在 ProfileMenu 和 Dashboard 中引用我们`UserNameContext`的 userName\n\n```jsx\nexport const ProfileMenu: React.FC = () => {\n  const { userName } = useContext(UserNameContext)\n  return (\n    <div clasName=\"profile-menu-container\">\n      <p>{userName}</p>\n    </div>\n  )\n}\n\nexport const Dashboard: React.FC = () => {\n  const { userName } = useContext(UserNameContext)\n  return (\n    <div className=\"dashboard-container\">\n      <h2>Welcome Back {userName}</h2>\n    </div>\n  )\n}\n```\n\n## useReducer(): 状态管理\n\n首先来看一下 useReducer()的参数\n\n```jsx\nconst [state, dispatch] = useReducer(reducer, initialState)\n```\n\n其中第一个`state`即函数的状态值， `dispath`则是用来发送 action。`reduce`即我们我们之后 Reducer 的函数。`initialState`为状态的初始值。\n\n比如我们有 3 个按钮，分别对应着数字的加，减，归零。利用 useReducer()来实现即\n\n```jsx\nexport const Counter: React.FC = () => {\n  const counterReducer = (state, action) => {\n    switch (action.type) {\n      case 'increment':\n        return {\n          ...state,\n          count: state.count + 1,\n        }\n      case 'decrement':\n        return {\n          ...state,\n          count: state.count - 1,\n        }\n      case 'reset':\n        return {\n          ...state,\n          count: 0,\n        }\n      default:\n        return state\n    }\n  }\n\n  const [state, dispatch] = useReducer(counterReducer, { count: 0 })\n  return (\n    <div className=\"counter-container\">\n      <button onClick={() => dispatch({ type: 'increment' })}>Increment</button>\n      <button onClick={() => dispatch({ type: 'decrement' })}>Decrement</button>\n      <button onClick={() => dispatch({ type: 'reset' })}>Reset</button>\n\n      <p>{state.count}</p>\n    </div>\n  )\n}\n```\n\n<iframe src=\"https://stackblitz.com/edit/react-2ytrpj?embed=1&file=index.js&hideExplorer=1&hideNavigation=1\"></iframe>\n\n我们当然也可以利用 useState()来实现同样的效果，但是我们需要给 increment, decrement, reset 每个按钮都单独创建一个 useState()。然后每个按钮我们再利用 setIncrement()来实现状态的更新。\n\n很明显，利用 useReducer()可以让我们的代码更容易读，也增加了代码的维护性。一个开发团队，你永远都不知道下一个跟你合作的或者接手你的代码的人的技术性。因此提高代码的阅读性和维护性是至关重要的。\n\n## Custom Hooks 自定义 Hooks\n\n除了利用 react 官方提供的 hooks API 之外，我们还可以把我们自己的函数封装成 hooks 重复利用。\n\n比如上面的 counter 我们可以封装为 useCounter()。\n\n```jsx\nimport React, {useState} from 'react'\n\nexport default const useCounter = (defaultValue) => {\n    const [count, setCount] = useState(defaultValue)\n\n    const increment = () {\n        setCount(prevCnt => prevCnt + 1)\n    }\n\n    //就像我们声明useState两个参数一样，第一个为变量，第二个为函数。\n    return [count, increment]\n}\n```\n\n在我们的 App 组件中运用我们的 useCounter hooks\n\n```jsx\nimport React, {useState} from 'react'\nimport useCounter from './useCounter'\n\nexport default const App = () => {\n    const [count, increment] = useCounter(10)\n\n    return (\n        <div className=\"app-container\">\n            <p>{count}</p>\n            <button onClick={increment}>Increment</button>\n        </div>\n    )\n}\n```\n","source":"_posts/13-userRef-useReduce.md","raw":"---\ntitle: React常用Hooks笔记\ndate: 2020-06-18 21:37:47\ntags: ['react', 'framework', 'front-end', 'react-hooks', 'notes']\ncategories: 笔记\ncover: 'https://www.educative.io/api/page/6018530514305024/image/download/5753173610332160'\n---\n\n> React Hooks 是 react 16.8 之后的新特性。相比于之前的在 class 组件中管理 state，我们现在可以在函数组件(function component)中管理状态和生命周期\n\n<!-- more -->\n\n## useState(): 管理状态 hooks\n\n在之前的函数组件中，我们只能由上至下传递 props 而且 props 是只读不可更改，只有 class 组件才可以有状态管理。\n\n现在，函数组件也可以利用 useState()管理组件状态。\n\nuseState()有两个 parameters，期中第一个是变量，即指向状态的 value。第二个是管理该状态的函数，通常以 set 开头加状态名。\n\n比如我们声明一个用户登录的状态。\n\n```jsx\nimport React, {useState} from 'react'\n\nexport const App:React.FC = () => {\n    // 初始化isLogged的状态为false\n    const [isLogged, setIsLoggedIn] = useState<boolean>(false)\n\n    // 点击按钮后 更改isLogged的状态为true\n    const handleLogin = () {\n        setIsLoggedIn(true)\n    }\n\n    return (\n        <div>\n            <button onClick={handleLogin}>Login</button>\n        </div>\n    )\n}\n\n```\n\n## useEffect(): 管理生命周期\n\n我们之前在 class 组件中可以利用`componentDidMount`以及其他函数来管理生命周期。现在，我们可以利用 useEffect 来管理组件的渲染或者处理第三方 API 的请求数据。\n\n```jsx\nuseEffect(() => {\n  //action\n}, [dependencies])\n```\n\nuseEffect()中有两个参数，第一个为 arrow 函数即我们要执行的操作。第二个参数为依赖，当依赖发生变化时就会执行 useEffect。\n\n如果我们只想执行 useEffect 一次，类似于之前 componentDidMount。我们给第二个参数留空的数组即可。\n\n```jsx\nuseEffect(() => {\n  const url = 'https://whatevertheapiis/'\n  fetch(url)\n    .then(repsonse => response.json)\n    .then(data => {\n      console.log(data)\n    })\n}, [])\n```\n\n## useContext(): 跨组件传递状态\n\n在之前的版本中我们可以利用 context 来创建 Consumer 和 Provider。但是 useContext()可以更加方便。\n\n最简单的例子，用户登录之后，用户名是可以被多个组件使用。\n\n比如下面我们创建一个 ProfileMenu 和 Dashboard 组件。这两个组件都需要用到用户的姓名。\n\n```jsx\nexport const App: React.FC = () => {\n  return (\n    <div className=\"app-container\">\n      <ProfileMenu />\n      <Dashboard />\n    </div>\n  )\n}\n```\n\n首先我们需要给 Profile 和 Dashboard 组件创建一个 Context\n\n```jsx\nimport React, { createContext } from 'react'\n\nconst UserNameContext = createContext({})\n```\n\n然后我们把 Profile 和 Dashboard 封装在我们刚刚建立的`UserNameContext`中作为状态的**提供者**(Provider), 以供子级组件共享。\n\n```jsx\nexport const App: React.FC = () => {\n  return (\n    <UserNameContext.Provider\n      value={{\n        userName: 'Yang Li',\n      }}\n    >\n      <div className=\"app-container\">\n        <ProfileMenu />\n        <Dashboard />\n      </div>\n    </UserNameContext.Provider>\n  )\n}\n```\n\n然后我们就可以在 ProfileMenu 和 Dashboard 中引用我们`UserNameContext`的 userName\n\n```jsx\nexport const ProfileMenu: React.FC = () => {\n  const { userName } = useContext(UserNameContext)\n  return (\n    <div clasName=\"profile-menu-container\">\n      <p>{userName}</p>\n    </div>\n  )\n}\n\nexport const Dashboard: React.FC = () => {\n  const { userName } = useContext(UserNameContext)\n  return (\n    <div className=\"dashboard-container\">\n      <h2>Welcome Back {userName}</h2>\n    </div>\n  )\n}\n```\n\n## useReducer(): 状态管理\n\n首先来看一下 useReducer()的参数\n\n```jsx\nconst [state, dispatch] = useReducer(reducer, initialState)\n```\n\n其中第一个`state`即函数的状态值， `dispath`则是用来发送 action。`reduce`即我们我们之后 Reducer 的函数。`initialState`为状态的初始值。\n\n比如我们有 3 个按钮，分别对应着数字的加，减，归零。利用 useReducer()来实现即\n\n```jsx\nexport const Counter: React.FC = () => {\n  const counterReducer = (state, action) => {\n    switch (action.type) {\n      case 'increment':\n        return {\n          ...state,\n          count: state.count + 1,\n        }\n      case 'decrement':\n        return {\n          ...state,\n          count: state.count - 1,\n        }\n      case 'reset':\n        return {\n          ...state,\n          count: 0,\n        }\n      default:\n        return state\n    }\n  }\n\n  const [state, dispatch] = useReducer(counterReducer, { count: 0 })\n  return (\n    <div className=\"counter-container\">\n      <button onClick={() => dispatch({ type: 'increment' })}>Increment</button>\n      <button onClick={() => dispatch({ type: 'decrement' })}>Decrement</button>\n      <button onClick={() => dispatch({ type: 'reset' })}>Reset</button>\n\n      <p>{state.count}</p>\n    </div>\n  )\n}\n```\n\n<iframe src=\"https://stackblitz.com/edit/react-2ytrpj?embed=1&file=index.js&hideExplorer=1&hideNavigation=1\"></iframe>\n\n我们当然也可以利用 useState()来实现同样的效果，但是我们需要给 increment, decrement, reset 每个按钮都单独创建一个 useState()。然后每个按钮我们再利用 setIncrement()来实现状态的更新。\n\n很明显，利用 useReducer()可以让我们的代码更容易读，也增加了代码的维护性。一个开发团队，你永远都不知道下一个跟你合作的或者接手你的代码的人的技术性。因此提高代码的阅读性和维护性是至关重要的。\n\n## Custom Hooks 自定义 Hooks\n\n除了利用 react 官方提供的 hooks API 之外，我们还可以把我们自己的函数封装成 hooks 重复利用。\n\n比如上面的 counter 我们可以封装为 useCounter()。\n\n```jsx\nimport React, {useState} from 'react'\n\nexport default const useCounter = (defaultValue) => {\n    const [count, setCount] = useState(defaultValue)\n\n    const increment = () {\n        setCount(prevCnt => prevCnt + 1)\n    }\n\n    //就像我们声明useState两个参数一样，第一个为变量，第二个为函数。\n    return [count, increment]\n}\n```\n\n在我们的 App 组件中运用我们的 useCounter hooks\n\n```jsx\nimport React, {useState} from 'react'\nimport useCounter from './useCounter'\n\nexport default const App = () => {\n    const [count, increment] = useCounter(10)\n\n    return (\n        <div className=\"app-container\">\n            <p>{count}</p>\n            <button onClick={increment}>Increment</button>\n        </div>\n    )\n}\n```\n","slug":"13-userRef-useReduce","published":1,"updated":"2020-06-20T07:06:26.085Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckbnbuin4000ui0ui6oua8vfl","content":"<blockquote>\n<p>React Hooks 是 react 16.8 之后的新特性。相比于之前的在 class 组件中管理 state，我们现在可以在函数组件(function component)中管理状态和生命周期</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"useState-管理状态-hooks\"><a href=\"#useState-管理状态-hooks\" class=\"headerlink\" title=\"useState(): 管理状态 hooks\"></a>useState(): 管理状态 hooks</h2><p>在之前的函数组件中，我们只能由上至下传递 props 而且 props 是只读不可更改，只有 class 组件才可以有状态管理。</p>\n<p>现在，函数组件也可以利用 useState()管理组件状态。</p>\n<p>useState()有两个 parameters，期中第一个是变量，即指向状态的 value。第二个是管理该状态的函数，通常以 set 开头加状态名。</p>\n<p>比如我们声明一个用户登录的状态。</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>useState<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> App<span class=\"token punctuation\">:</span>React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 初始化isLogged的状态为false</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isLogged<span class=\"token punctuation\">,</span> setIsLoggedIn<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>boolean</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// 点击按钮后 更改isLogged的状态为true</span>\n    <span class=\"token keyword\">const</span> handleLogin <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setIsLoggedIn</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span>handleLogin<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>Login<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2 id=\"useEffect-管理生命周期\"><a href=\"#useEffect-管理生命周期\" class=\"headerlink\" title=\"useEffect(): 管理生命周期\"></a>useEffect(): 管理生命周期</h2><p>我们之前在 class 组件中可以利用<code>componentDidMount</code>以及其他函数来管理生命周期。现在，我们可以利用 useEffect 来管理组件的渲染或者处理第三方 API 的请求数据。</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\" spellcheck=\"true\">//action</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>dependencies<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre>\n<p>useEffect()中有两个参数，第一个为 arrow 函数即我们要执行的操作。第二个参数为依赖，当依赖发生变化时就会执行 useEffect。</p>\n<p>如果我们只想执行 useEffect 一次，类似于之前 componentDidMount。我们给第二个参数留空的数组即可。</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> <span class=\"token string\">'https://whatevertheapiis/'</span>\n  <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>repsonse <span class=\"token operator\">=</span><span class=\"token operator\">></span> response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"useContext-跨组件传递状态\"><a href=\"#useContext-跨组件传递状态\" class=\"headerlink\" title=\"useContext(): 跨组件传递状态\"></a>useContext(): 跨组件传递状态</h2><p>在之前的版本中我们可以利用 context 来创建 Consumer 和 Provider。但是 useContext()可以更加方便。</p>\n<p>最简单的例子，用户登录之后，用户名是可以被多个组件使用。</p>\n<p>比如下面我们创建一个 ProfileMenu 和 Dashboard 组件。这两个组件都需要用到用户的姓名。</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> App<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ProfileMenu</span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Dashboard</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>首先我们需要给 Profile 和 Dashboard 组件创建一个 Context</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> createContext <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> UserNameContext <span class=\"token operator\">=</span> <span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>然后我们把 Profile 和 Dashboard 封装在我们刚刚建立的<code>UserNameContext</code>中作为状态的<strong>提供者</strong>(Provider), 以供子级组件共享。</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> App<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>UserNameContext.Provider</span>\n      <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n        userName<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang Li'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ProfileMenu</span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Dashboard</span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>UserNameContext.Provider</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>然后我们就可以在 ProfileMenu 和 Dashboard 中引用我们<code>UserNameContext</code>的 userName</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> ProfileMenu<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> userName <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>UserNameContext<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">clasName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>profile-menu-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>userName<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Dashboard<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> userName <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>UserNameContext<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>dashboard-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Welcome Back <span class=\"token punctuation\">{</span>userName<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"useReducer-状态管理\"><a href=\"#useReducer-状态管理\" class=\"headerlink\" title=\"useReducer(): 状态管理\"></a>useReducer(): 状态管理</h2><p>首先来看一下 useReducer()的参数</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>reducer<span class=\"token punctuation\">,</span> initialState<span class=\"token punctuation\">)</span></code></pre>\n<p>其中第一个<code>state</code>即函数的状态值， <code>dispath</code>则是用来发送 action。<code>reduce</code>即我们我们之后 Reducer 的函数。<code>initialState</code>为状态的初始值。</p>\n<p>比如我们有 3 个按钮，分别对应着数字的加，减，归零。利用 useReducer()来实现即</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Counter<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> counterReducer <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'increment'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span>\n          count<span class=\"token punctuation\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'decrement'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span>\n          count<span class=\"token punctuation\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">'reset'</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span>\n          count<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> state\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">,</span> dispatch<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useReducer</span><span class=\"token punctuation\">(</span>counterReducer<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> count<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>counter-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'increment'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>Increment<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'decrement'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>Decrement<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> type<span class=\"token punctuation\">:</span> <span class=\"token string\">'reset'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>Reset<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<iframe src=\"https://stackblitz.com/edit/react-2ytrpj?embed=1&file=index.js&hideExplorer=1&hideNavigation=1\"></iframe>\n\n<p>我们当然也可以利用 useState()来实现同样的效果，但是我们需要给 increment, decrement, reset 每个按钮都单独创建一个 useState()。然后每个按钮我们再利用 setIncrement()来实现状态的更新。</p>\n<p>很明显，利用 useReducer()可以让我们的代码更容易读，也增加了代码的维护性。一个开发团队，你永远都不知道下一个跟你合作的或者接手你的代码的人的技术性。因此提高代码的阅读性和维护性是至关重要的。</p>\n<h2 id=\"Custom-Hooks-自定义-Hooks\"><a href=\"#Custom-Hooks-自定义-Hooks\" class=\"headerlink\" title=\"Custom Hooks 自定义 Hooks\"></a>Custom Hooks 自定义 Hooks</h2><p>除了利用 react 官方提供的 hooks API 之外，我们还可以把我们自己的函数封装成 hooks 重复利用。</p>\n<p>比如上面的 counter 我们可以封装为 useCounter()。</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>useState<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">const</span> useCounter <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>defaultValue<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>defaultValue<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> increment <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>prevCnt <span class=\"token operator\">=</span><span class=\"token operator\">></span> prevCnt <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">//就像我们声明useState两个参数一样，第一个为变量，第二个为函数。</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> increment<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>在我们的 App 组件中运用我们的 useCounter hooks</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>useState<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> useCounter <span class=\"token keyword\">from</span> <span class=\"token string\">'./useCounter'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">const</span> App <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> increment<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useCounter</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span>increment<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>Increment<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>React Hooks 是 react 16.8 之后的新特性。相比于之前的在 class 组件中管理 state，我们现在可以在函数组件(function component)中管理状态和生命周期</p>\n</blockquote>","more":"<h2 id=\"useState-管理状态-hooks\"><a href=\"#useState-管理状态-hooks\" class=\"headerlink\" title=\"useState(): 管理状态 hooks\"></a>useState(): 管理状态 hooks</h2><p>在之前的函数组件中，我们只能由上至下传递 props 而且 props 是只读不可更改，只有 class 组件才可以有状态管理。</p>\n<p>现在，函数组件也可以利用 useState()管理组件状态。</p>\n<p>useState()有两个 parameters，期中第一个是变量，即指向状态的 value。第二个是管理该状态的函数，通常以 set 开头加状态名。</p>\n<p>比如我们声明一个用户登录的状态。</p>\n<pre><code class=\"jsx\">import React, {useState} from &#39;react&#39;\n\nexport const App:React.FC = () =&gt; {\n    // 初始化isLogged的状态为false\n    const [isLogged, setIsLoggedIn] = useState&lt;boolean&gt;(false)\n\n    // 点击按钮后 更改isLogged的状态为true\n    const handleLogin = () {\n        setIsLoggedIn(true)\n    }\n\n    return (\n        &lt;div&gt;\n            &lt;button onClick={handleLogin}&gt;Login&lt;/button&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n<h2 id=\"useEffect-管理生命周期\"><a href=\"#useEffect-管理生命周期\" class=\"headerlink\" title=\"useEffect(): 管理生命周期\"></a>useEffect(): 管理生命周期</h2><p>我们之前在 class 组件中可以利用<code>componentDidMount</code>以及其他函数来管理生命周期。现在，我们可以利用 useEffect 来管理组件的渲染或者处理第三方 API 的请求数据。</p>\n<pre><code class=\"jsx\">useEffect(() =&gt; {\n  //action\n}, [dependencies])</code></pre>\n<p>useEffect()中有两个参数，第一个为 arrow 函数即我们要执行的操作。第二个参数为依赖，当依赖发生变化时就会执行 useEffect。</p>\n<p>如果我们只想执行 useEffect 一次，类似于之前 componentDidMount。我们给第二个参数留空的数组即可。</p>\n<pre><code class=\"jsx\">useEffect(() =&gt; {\n  const url = &#39;https://whatevertheapiis/&#39;\n  fetch(url)\n    .then(repsonse =&gt; response.json)\n    .then(data =&gt; {\n      console.log(data)\n    })\n}, [])</code></pre>\n<h2 id=\"useContext-跨组件传递状态\"><a href=\"#useContext-跨组件传递状态\" class=\"headerlink\" title=\"useContext(): 跨组件传递状态\"></a>useContext(): 跨组件传递状态</h2><p>在之前的版本中我们可以利用 context 来创建 Consumer 和 Provider。但是 useContext()可以更加方便。</p>\n<p>最简单的例子，用户登录之后，用户名是可以被多个组件使用。</p>\n<p>比如下面我们创建一个 ProfileMenu 和 Dashboard 组件。这两个组件都需要用到用户的姓名。</p>\n<pre><code class=\"jsx\">export const App: React.FC = () =&gt; {\n  return (\n    &lt;div className=&quot;app-container&quot;&gt;\n      &lt;ProfileMenu /&gt;\n      &lt;Dashboard /&gt;\n    &lt;/div&gt;\n  )\n}</code></pre>\n<p>首先我们需要给 Profile 和 Dashboard 组件创建一个 Context</p>\n<pre><code class=\"jsx\">import React, { createContext } from &#39;react&#39;\n\nconst UserNameContext = createContext({})</code></pre>\n<p>然后我们把 Profile 和 Dashboard 封装在我们刚刚建立的<code>UserNameContext</code>中作为状态的<strong>提供者</strong>(Provider), 以供子级组件共享。</p>\n<pre><code class=\"jsx\">export const App: React.FC = () =&gt; {\n  return (\n    &lt;UserNameContext.Provider\n      value={{\n        userName: 'Yang Li',\n      }}\n    &gt;\n      &lt;div className=&quot;app-container&quot;&gt;\n        &lt;ProfileMenu /&gt;\n        &lt;Dashboard /&gt;\n      &lt;/div&gt;\n    &lt;/UserNameContext.Provider&gt;\n  )\n}</code></pre>\n<p>然后我们就可以在 ProfileMenu 和 Dashboard 中引用我们<code>UserNameContext</code>的 userName</p>\n<pre><code class=\"jsx\">export const ProfileMenu: React.FC = () =&gt; {\n  const { userName } = useContext(UserNameContext)\n  return (\n    &lt;div clasName=&quot;profile-menu-container&quot;&gt;\n      &lt;p&gt;{userName}&lt;/p&gt;\n    &lt;/div&gt;\n  )\n}\n\nexport const Dashboard: React.FC = () =&gt; {\n  const { userName } = useContext(UserNameContext)\n  return (\n    &lt;div className=&quot;dashboard-container&quot;&gt;\n      &lt;h2&gt;Welcome Back {userName}&lt;/h2&gt;\n    &lt;/div&gt;\n  )\n}</code></pre>\n<h2 id=\"useReducer-状态管理\"><a href=\"#useReducer-状态管理\" class=\"headerlink\" title=\"useReducer(): 状态管理\"></a>useReducer(): 状态管理</h2><p>首先来看一下 useReducer()的参数</p>\n<pre><code class=\"jsx\">const [state, dispatch] = useReducer(reducer, initialState)</code></pre>\n<p>其中第一个<code>state</code>即函数的状态值， <code>dispath</code>则是用来发送 action。<code>reduce</code>即我们我们之后 Reducer 的函数。<code>initialState</code>为状态的初始值。</p>\n<p>比如我们有 3 个按钮，分别对应着数字的加，减，归零。利用 useReducer()来实现即</p>\n<pre><code class=\"jsx\">export const Counter: React.FC = () =&gt; {\n  const counterReducer = (state, action) =&gt; {\n    switch (action.type) {\n      case &#39;increment&#39;:\n        return {\n          ...state,\n          count: state.count + 1,\n        }\n      case &#39;decrement&#39;:\n        return {\n          ...state,\n          count: state.count - 1,\n        }\n      case &#39;reset&#39;:\n        return {\n          ...state,\n          count: 0,\n        }\n      default:\n        return state\n    }\n  }\n\n  const [state, dispatch] = useReducer(counterReducer, { count: 0 })\n  return (\n    &lt;div className=&quot;counter-container&quot;&gt;\n      &lt;button onClick={() =&gt; dispatch({ type: &#39;increment&#39; })}&gt;Increment&lt;/button&gt;\n      &lt;button onClick={() =&gt; dispatch({ type: &#39;decrement&#39; })}&gt;Decrement&lt;/button&gt;\n      &lt;button onClick={() =&gt; dispatch({ type: &#39;reset&#39; })}&gt;Reset&lt;/button&gt;\n\n      &lt;p&gt;{state.count}&lt;/p&gt;\n    &lt;/div&gt;\n  )\n}</code></pre>\n<iframe src=\"https://stackblitz.com/edit/react-2ytrpj?embed=1&file=index.js&hideExplorer=1&hideNavigation=1\"></iframe>\n\n<p>我们当然也可以利用 useState()来实现同样的效果，但是我们需要给 increment, decrement, reset 每个按钮都单独创建一个 useState()。然后每个按钮我们再利用 setIncrement()来实现状态的更新。</p>\n<p>很明显，利用 useReducer()可以让我们的代码更容易读，也增加了代码的维护性。一个开发团队，你永远都不知道下一个跟你合作的或者接手你的代码的人的技术性。因此提高代码的阅读性和维护性是至关重要的。</p>\n<h2 id=\"Custom-Hooks-自定义-Hooks\"><a href=\"#Custom-Hooks-自定义-Hooks\" class=\"headerlink\" title=\"Custom Hooks 自定义 Hooks\"></a>Custom Hooks 自定义 Hooks</h2><p>除了利用 react 官方提供的 hooks API 之外，我们还可以把我们自己的函数封装成 hooks 重复利用。</p>\n<p>比如上面的 counter 我们可以封装为 useCounter()。</p>\n<pre><code class=\"jsx\">import React, {useState} from &#39;react&#39;\n\nexport default const useCounter = (defaultValue) =&gt; {\n    const [count, setCount] = useState(defaultValue)\n\n    const increment = () {\n        setCount(prevCnt =&gt; prevCnt + 1)\n    }\n\n    //就像我们声明useState两个参数一样，第一个为变量，第二个为函数。\n    return [count, increment]\n}</code></pre>\n<p>在我们的 App 组件中运用我们的 useCounter hooks</p>\n<pre><code class=\"jsx\">import React, {useState} from &#39;react&#39;\nimport useCounter from &#39;./useCounter&#39;\n\nexport default const App = () =&gt; {\n    const [count, increment] = useCounter(10)\n\n    return (\n        &lt;div className=&quot;app-container&quot;&gt;\n            &lt;p&gt;{count}&lt;/p&gt;\n            &lt;button onClick={increment}&gt;Increment&lt;/button&gt;\n        &lt;/div&gt;\n    )\n}</code></pre>"},{"title":"正则表达式基础","date":"2020-06-19T18:31:47.000Z","comments":0,"cover":"https://blog.alexdevero.com/wp-content/uploads/2014/12/regex-e1517472406481.jpg","_content":"\n> A regular expression is a sequence of characters that define a search pattern.\n\n正则表达式简而言之我们可以对一个字符串组合进行查找，替换，以及字符验证等其他操作。举个例子，我们有一个 login 的登陆页面，我们希望对用户密码加以强度监测。用户密码必须要包含大写字母，数字，特殊符号，以及长度大于 8 的要求。正则表达式就是用来对密码字符串进行查找来判断是否满足我们的规则。\n\n这个网站可以让你在练习过程中更好的了解正则表达式https://regexr.com/\n\n<!-- more -->\n\n## Syntax 语法\n\n```bash\n/pattern/modifier\n```\n\npattern 即我们想要搜索字符串的 pattern，比如我们想查找一个字符串中所有的`play`。pattern 的两侧我们分别用`/`包裹起来，我们所有的规则都在这两个`/`之内。`modifier`即表达式的修饰符。\n\n## Anchors 插入符\n\n### Beginning ^\n\n匹配开头包含的字符。\n\n```js\nconst text = 'Regular expression string\\nThis is a new line'\nconsole.log(text.match(/^This/gim))\n// 返回 [\"T\"]\n```\n\n### End \\$\n\n匹配字符串结尾处的字符，或行的末尾如果启用`m`修饰符\n\n```js\nconst text = 'Regular expression string\\nThis is a new line'\nconsole.log(text.match(/line$/gi))\n```\n\n### Word Boundary\n\n这个插入符会查找一个字符与非字符之间的位置。\n\n比如我们下面代码中的例子，text 字符串中有`@`, `,` 和两个`whitespace`非字符。那么`/e\\b/gi`就会匹配所有与 e 相邻非字符的字符。\n\n```js\nconst text = 'This@one,is kind tricky'\n\nconsole.log(text.match(/e\\b/gi))\n\n//返回 [\"s\", \"s\"]\n```\n\n### Not Word Boundary\n\n跟上面的 word boundary 截然相反。\n\n### Not Word Boundary\n\n## Modifiers 修饰符\n\n下面将介绍`g`, `i`, `m`, `s`, `u`, `y`以及它们分别的作用。\n\n### Global 全局\n\n`g`修饰符可以让我们搜索整个字符串内所有匹配的字符。\n\n```js\nconst text =\n  'Hinata studies and is accepted to Karasuno, the same high school the Little Giant played for, but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno?'\n\nlet karasuno = text.match(/Karasuno/g)\n\n// 返回[\"Karasuno\", \"Karasuno\"]\n```\n\n> 如果我们不包括`g`修饰符时，则只会返回查找的第一个匹配结果。\n\n### Case Insensitive 不区分大小写\n\n`i` 即让表达式不区分大小写。\n\n之前的例子，假设我们想返回所有`karasuno`但不区分大小写。\n\n```js\nlet karasuno = text.match(/karasuno/gi)\n\n//返回[\"Karasuno\", \"Karasuno\", \"karasuno\"]\n```\n\n### Multiline 多行搜索\n\n跟搜索整个字符串不同。当添加了`m`修饰符，`^`和`$`则只会匹配每行的开头和结尾。\n\n```js\nconst text =\n  'Hinata studies and is accepted to Karasuno\\nThe same high school the Little Giant played for but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno'\n\nlet karasuno = text.match(/karasuno$/gim)\n\n//[\"Karasuno\", \"karasuno\"] 第一段和最后一段结尾处。\n```\n\n与之前字符串不同的是现在这个字符串在`Karasuno`出有新的一行开始。所以我们添加`m`修饰符来返回每行以`karasuno`为结尾的字符(不区分大小写)。\n\n如果我们不包括`m`修饰符，则只会返回整个字符串最后结尾处的`karasuno`。\n\n## Character Classes\n\n### Character set [abc]\n\n返回所有括号内包括的字符。\n\n```js\nconst text = 'Hinata studies and is accepted to Karasuno'\nconsole.log(text.match(/[ak]/g))\n\n//返回 [\"a\", \"a\", \"a\", \"a\", \"K\", \"a\", \"a\"]\n```\n\n### Negated set [^abc]\n\n返回所有括号内不包括的字符。\n\n```js\nconst text = 'Kit kat'\nconsole.log(text.match(/[^kt]/gi))\n// 返回 [\"i\", \" \", \"a\"]\n```\n\n### Range [a-z]\n\n返回字符串中所有在括号范围内的字符。\n\n```js\nconst text = 'Hinata studies and is accepted to Karasuno'\nconsole.log(text.match(/[a-c]/gi))\n//返回 [\"a\", \"a\", \"a\", \"a\", \"c\", \"c\", \"a\", \"a\"]\n```\n\n### Word \\w\n\n返回字符串中所有单字字符，包括字母数字和下划线。但不包括 ASCII 之外的字符。\n\nhttps://wiktel.com/standards/ascii.htm\n\n同等于`[A-Za-z0-9_]`\n\n```js\nconst text = 'Some Japanese pass by 最後の字符'\nconsole.log(text.match(/\\w/gi))\n// 返回 [\"S\", \"o\", \"m\", \"e\", \"J\", \"a\", \"p\", \"a\", \"n\", \"e\", \"s\", \"e\", \"p\", \"a\", \"s\", \"s\", \"b\", \"y\"]\n```\n\n### Not Word \\W\n\n与`\\w`截然相反，返回字符串中所有非单字字符。\n\n同等于`[^A-Za-z0-9_]`\n\n```js\nconst text = 'Some Japanese pass by 最後の字符'\n\nconsole.log(text.match(/\\W/gi))\n// 返回 [\" \", \" \", \" \", \" \", \"最\", \"後\", \"の\", \"字\", \"符\"]\n\nconsole.log(text.match(/[^A-Za-z0-9_ ,]/gi))\n// 返回 [\"最\", \"後\", \"の\", \"字\", \"符\"]\n```\n\n### Digit \\d\n\n返回所有数字(0-9)。等同于`[0-9]`\n\n### Not Digit \\D\n\n返回所有非数字。等同于`[^0-9]`\n\n### Whitespace \\s\n\n返回所有空格字符(space, tabs, line breaks)\n\n### Not Whitespace \\S\n\n返回所有非空格字符(space, tabs, line breaks)\n\n## Escaped Characters 转义字符\n\n### Reserved Characters 保留字符\n\n以下字符为保留字符\n\n```bash\n+\n*\n?\n^\n$\n\\\n.\n[]\n{}\n()\n|\n/\n```\n\n## Groups 组合\n\n### Capturing Group (abc)\n\n组合括号内的字符并创建为一个新的组合\n\n```js\nconst text = 'some random value for rand function'\n\nconsole.log(text.match(/(rand)/gi))\n\n// 返回 [\"rand\", \"rand\"]\n```\n\n## Lookaround 查找\n\n### Positive Lookahead (?=abc)\n\n匹配一个不包括括号内的组合。比如下面的例子我们首先匹配所有字母字符数字，这时候我们匹配到`1, 2, 3, 4`。然后我们`?=(px)`匹配所有包括 px 的数字。即 2 和 4\n\n```js\nconst text = '1pt 2px 3em 4px'\nconsole.log(text.match(/\\d(?=px)/gi))\n```\n\n### Negative Lookahead (?!abc)\n\n下面我们先匹配所有数字，然后匹配数字中所有不是 px 的字符。\n\n```js\nconst text = '1pt 2px 3em 4px'\nconsole.log(text.match(/\\d(?!px)/gi))\n\n// 返回 [\"1\", \"3\"]\n```\n\n## Quantifiers & Alternation\n\n### Plus +\n\n返回一个或多个之前的的规则\n\n```js\nconst text = 'b be bee beer beers'\nconsole.log(text.match(/b\\w+/gi))\n```\n\n### Star \\*\n\n返回 0 个或多个之前的规则\n\n```js\nconst text = 'b be bee beer beers'\nconsole.log(text.match(/b\\w*/gi))\n```\n\n### Quantifier {}\n\n返回定义的数量。\n\n```js\nconst text = 'b be bee beer beers'\nconsole.log(text.match(/b\\w{1}/gi))\n\n//返回 [\"be\", \"be\", \"be\", \"be\"]\n```\n\n### Optional ?\n\n```js\nconst text = 'color colour color colour'\n//u设定为optional\nconsole.log(text.match(/colou?r/gi))\n\n//返回 [\"color\", \"colour\", \"color\", \"colour\"]\n```\n\n### Alternation |\n\n```js\nconst text = 'bad bud bod bed bid'\nconsole.log(text.match(/b(a|u|o)/gi))\n\n//返回[\"ba\", \"bu\", \"bo\"]\n```\n","source":"_posts/14-regular-expression.md","raw":"---\ntitle: 正则表达式基础\ndate: 2020-06-19 11:31:47\ntags: ['regular expression', 'javascript', 'learning everyday']\ncategories: 每日一学\ncomments: false\ncover: 'https://blog.alexdevero.com/wp-content/uploads/2014/12/regex-e1517472406481.jpg'\n---\n\n> A regular expression is a sequence of characters that define a search pattern.\n\n正则表达式简而言之我们可以对一个字符串组合进行查找，替换，以及字符验证等其他操作。举个例子，我们有一个 login 的登陆页面，我们希望对用户密码加以强度监测。用户密码必须要包含大写字母，数字，特殊符号，以及长度大于 8 的要求。正则表达式就是用来对密码字符串进行查找来判断是否满足我们的规则。\n\n这个网站可以让你在练习过程中更好的了解正则表达式https://regexr.com/\n\n<!-- more -->\n\n## Syntax 语法\n\n```bash\n/pattern/modifier\n```\n\npattern 即我们想要搜索字符串的 pattern，比如我们想查找一个字符串中所有的`play`。pattern 的两侧我们分别用`/`包裹起来，我们所有的规则都在这两个`/`之内。`modifier`即表达式的修饰符。\n\n## Anchors 插入符\n\n### Beginning ^\n\n匹配开头包含的字符。\n\n```js\nconst text = 'Regular expression string\\nThis is a new line'\nconsole.log(text.match(/^This/gim))\n// 返回 [\"T\"]\n```\n\n### End \\$\n\n匹配字符串结尾处的字符，或行的末尾如果启用`m`修饰符\n\n```js\nconst text = 'Regular expression string\\nThis is a new line'\nconsole.log(text.match(/line$/gi))\n```\n\n### Word Boundary\n\n这个插入符会查找一个字符与非字符之间的位置。\n\n比如我们下面代码中的例子，text 字符串中有`@`, `,` 和两个`whitespace`非字符。那么`/e\\b/gi`就会匹配所有与 e 相邻非字符的字符。\n\n```js\nconst text = 'This@one,is kind tricky'\n\nconsole.log(text.match(/e\\b/gi))\n\n//返回 [\"s\", \"s\"]\n```\n\n### Not Word Boundary\n\n跟上面的 word boundary 截然相反。\n\n### Not Word Boundary\n\n## Modifiers 修饰符\n\n下面将介绍`g`, `i`, `m`, `s`, `u`, `y`以及它们分别的作用。\n\n### Global 全局\n\n`g`修饰符可以让我们搜索整个字符串内所有匹配的字符。\n\n```js\nconst text =\n  'Hinata studies and is accepted to Karasuno, the same high school the Little Giant played for, but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno?'\n\nlet karasuno = text.match(/Karasuno/g)\n\n// 返回[\"Karasuno\", \"Karasuno\"]\n```\n\n> 如果我们不包括`g`修饰符时，则只会返回查找的第一个匹配结果。\n\n### Case Insensitive 不区分大小写\n\n`i` 即让表达式不区分大小写。\n\n之前的例子，假设我们想返回所有`karasuno`但不区分大小写。\n\n```js\nlet karasuno = text.match(/karasuno/gi)\n\n//返回[\"Karasuno\", \"Karasuno\", \"karasuno\"]\n```\n\n### Multiline 多行搜索\n\n跟搜索整个字符串不同。当添加了`m`修饰符，`^`和`$`则只会匹配每行的开头和结尾。\n\n```js\nconst text =\n  'Hinata studies and is accepted to Karasuno\\nThe same high school the Little Giant played for but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno'\n\nlet karasuno = text.match(/karasuno$/gim)\n\n//[\"Karasuno\", \"karasuno\"] 第一段和最后一段结尾处。\n```\n\n与之前字符串不同的是现在这个字符串在`Karasuno`出有新的一行开始。所以我们添加`m`修饰符来返回每行以`karasuno`为结尾的字符(不区分大小写)。\n\n如果我们不包括`m`修饰符，则只会返回整个字符串最后结尾处的`karasuno`。\n\n## Character Classes\n\n### Character set [abc]\n\n返回所有括号内包括的字符。\n\n```js\nconst text = 'Hinata studies and is accepted to Karasuno'\nconsole.log(text.match(/[ak]/g))\n\n//返回 [\"a\", \"a\", \"a\", \"a\", \"K\", \"a\", \"a\"]\n```\n\n### Negated set [^abc]\n\n返回所有括号内不包括的字符。\n\n```js\nconst text = 'Kit kat'\nconsole.log(text.match(/[^kt]/gi))\n// 返回 [\"i\", \" \", \"a\"]\n```\n\n### Range [a-z]\n\n返回字符串中所有在括号范围内的字符。\n\n```js\nconst text = 'Hinata studies and is accepted to Karasuno'\nconsole.log(text.match(/[a-c]/gi))\n//返回 [\"a\", \"a\", \"a\", \"a\", \"c\", \"c\", \"a\", \"a\"]\n```\n\n### Word \\w\n\n返回字符串中所有单字字符，包括字母数字和下划线。但不包括 ASCII 之外的字符。\n\nhttps://wiktel.com/standards/ascii.htm\n\n同等于`[A-Za-z0-9_]`\n\n```js\nconst text = 'Some Japanese pass by 最後の字符'\nconsole.log(text.match(/\\w/gi))\n// 返回 [\"S\", \"o\", \"m\", \"e\", \"J\", \"a\", \"p\", \"a\", \"n\", \"e\", \"s\", \"e\", \"p\", \"a\", \"s\", \"s\", \"b\", \"y\"]\n```\n\n### Not Word \\W\n\n与`\\w`截然相反，返回字符串中所有非单字字符。\n\n同等于`[^A-Za-z0-9_]`\n\n```js\nconst text = 'Some Japanese pass by 最後の字符'\n\nconsole.log(text.match(/\\W/gi))\n// 返回 [\" \", \" \", \" \", \" \", \"最\", \"後\", \"の\", \"字\", \"符\"]\n\nconsole.log(text.match(/[^A-Za-z0-9_ ,]/gi))\n// 返回 [\"最\", \"後\", \"の\", \"字\", \"符\"]\n```\n\n### Digit \\d\n\n返回所有数字(0-9)。等同于`[0-9]`\n\n### Not Digit \\D\n\n返回所有非数字。等同于`[^0-9]`\n\n### Whitespace \\s\n\n返回所有空格字符(space, tabs, line breaks)\n\n### Not Whitespace \\S\n\n返回所有非空格字符(space, tabs, line breaks)\n\n## Escaped Characters 转义字符\n\n### Reserved Characters 保留字符\n\n以下字符为保留字符\n\n```bash\n+\n*\n?\n^\n$\n\\\n.\n[]\n{}\n()\n|\n/\n```\n\n## Groups 组合\n\n### Capturing Group (abc)\n\n组合括号内的字符并创建为一个新的组合\n\n```js\nconst text = 'some random value for rand function'\n\nconsole.log(text.match(/(rand)/gi))\n\n// 返回 [\"rand\", \"rand\"]\n```\n\n## Lookaround 查找\n\n### Positive Lookahead (?=abc)\n\n匹配一个不包括括号内的组合。比如下面的例子我们首先匹配所有字母字符数字，这时候我们匹配到`1, 2, 3, 4`。然后我们`?=(px)`匹配所有包括 px 的数字。即 2 和 4\n\n```js\nconst text = '1pt 2px 3em 4px'\nconsole.log(text.match(/\\d(?=px)/gi))\n```\n\n### Negative Lookahead (?!abc)\n\n下面我们先匹配所有数字，然后匹配数字中所有不是 px 的字符。\n\n```js\nconst text = '1pt 2px 3em 4px'\nconsole.log(text.match(/\\d(?!px)/gi))\n\n// 返回 [\"1\", \"3\"]\n```\n\n## Quantifiers & Alternation\n\n### Plus +\n\n返回一个或多个之前的的规则\n\n```js\nconst text = 'b be bee beer beers'\nconsole.log(text.match(/b\\w+/gi))\n```\n\n### Star \\*\n\n返回 0 个或多个之前的规则\n\n```js\nconst text = 'b be bee beer beers'\nconsole.log(text.match(/b\\w*/gi))\n```\n\n### Quantifier {}\n\n返回定义的数量。\n\n```js\nconst text = 'b be bee beer beers'\nconsole.log(text.match(/b\\w{1}/gi))\n\n//返回 [\"be\", \"be\", \"be\", \"be\"]\n```\n\n### Optional ?\n\n```js\nconst text = 'color colour color colour'\n//u设定为optional\nconsole.log(text.match(/colou?r/gi))\n\n//返回 [\"color\", \"colour\", \"color\", \"colour\"]\n```\n\n### Alternation |\n\n```js\nconst text = 'bad bud bod bed bid'\nconsole.log(text.match(/b(a|u|o)/gi))\n\n//返回[\"ba\", \"bu\", \"bo\"]\n```\n","slug":"14-regular-expression","published":1,"updated":"2020-06-20T07:05:02.740Z","layout":"post","photos":[],"link":"","_id":"ckbnbuin5000wi0uicj1yg7xo","content":"<blockquote>\n<p>A regular expression is a sequence of characters that define a search pattern.</p>\n</blockquote>\n<p>正则表达式简而言之我们可以对一个字符串组合进行查找，替换，以及字符验证等其他操作。举个例子，我们有一个 login 的登陆页面，我们希望对用户密码加以强度监测。用户密码必须要包含大写字母，数字，特殊符号，以及长度大于 8 的要求。正则表达式就是用来对密码字符串进行查找来判断是否满足我们的规则。</p>\n<p>这个网站可以让你在练习过程中更好的了解正则表达式<a href=\"https://regexr.com/\" target=\"_blank\" rel=\"noopener\">https://regexr.com/</a></p>\n<a id=\"more\"></a>\n\n<h2 id=\"Syntax-语法\"><a href=\"#Syntax-语法\" class=\"headerlink\" title=\"Syntax 语法\"></a>Syntax 语法</h2><pre class=\" language-bash\"><code class=\"language-bash\">/pattern/modifier</code></pre>\n<p>pattern 即我们想要搜索字符串的 pattern，比如我们想查找一个字符串中所有的<code>play</code>。pattern 的两侧我们分别用<code>/</code>包裹起来，我们所有的规则都在这两个<code>/</code>之内。<code>modifier</code>即表达式的修饰符。</p>\n<h2 id=\"Anchors-插入符\"><a href=\"#Anchors-插入符\" class=\"headerlink\" title=\"Anchors 插入符\"></a>Anchors 插入符</h2><h3 id=\"Beginning\"><a href=\"#Beginning\" class=\"headerlink\" title=\"Beginning ^\"></a>Beginning ^</h3><p>匹配开头包含的字符。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Regular expression string\\nThis is a new line'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/^This/gim</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">// 返回 [\"T\"]</span></code></pre>\n<h3 id=\"End\"><a href=\"#End\" class=\"headerlink\" title=\"End $\"></a>End $</h3><p>匹配字符串结尾处的字符，或行的末尾如果启用<code>m</code>修饰符</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Regular expression string\\nThis is a new line'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/line$/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Word-Boundary\"><a href=\"#Word-Boundary\" class=\"headerlink\" title=\"Word Boundary\"></a>Word Boundary</h3><p>这个插入符会查找一个字符与非字符之间的位置。</p>\n<p>比如我们下面代码中的例子，text 字符串中有<code>@</code>, <code>,</code> 和两个<code>whitespace</code>非字符。那么<code>/e\\b/gi</code>就会匹配所有与 e 相邻非字符的字符。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'This@one,is kind tricky'</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/e\\b/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//返回 [\"s\", \"s\"]</span></code></pre>\n<h3 id=\"Not-Word-Boundary\"><a href=\"#Not-Word-Boundary\" class=\"headerlink\" title=\"Not Word Boundary\"></a>Not Word Boundary</h3><p>跟上面的 word boundary 截然相反。</p>\n<h3 id=\"Not-Word-Boundary-1\"><a href=\"#Not-Word-Boundary-1\" class=\"headerlink\" title=\"Not Word Boundary\"></a>Not Word Boundary</h3><h2 id=\"Modifiers-修饰符\"><a href=\"#Modifiers-修饰符\" class=\"headerlink\" title=\"Modifiers 修饰符\"></a>Modifiers 修饰符</h2><p>下面将介绍<code>g</code>, <code>i</code>, <code>m</code>, <code>s</code>, <code>u</code>, <code>y</code>以及它们分别的作用。</p>\n<h3 id=\"Global-全局\"><a href=\"#Global-全局\" class=\"headerlink\" title=\"Global 全局\"></a>Global 全局</h3><p><code>g</code>修饰符可以让我们搜索整个字符串内所有匹配的字符。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span>\n  <span class=\"token string\">'Hinata studies and is accepted to Karasuno, the same high school the Little Giant played for, but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno?'</span>\n\n<span class=\"token keyword\">let</span> karasuno <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/Karasuno/g</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">// 返回[\"Karasuno\", \"Karasuno\"]</span></code></pre>\n<blockquote>\n<p>如果我们不包括<code>g</code>修饰符时，则只会返回查找的第一个匹配结果。</p>\n</blockquote>\n<h3 id=\"Case-Insensitive-不区分大小写\"><a href=\"#Case-Insensitive-不区分大小写\" class=\"headerlink\" title=\"Case Insensitive 不区分大小写\"></a>Case Insensitive 不区分大小写</h3><p><code>i</code> 即让表达式不区分大小写。</p>\n<p>之前的例子，假设我们想返回所有<code>karasuno</code>但不区分大小写。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> karasuno <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/karasuno/gi</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//返回[\"Karasuno\", \"Karasuno\", \"karasuno\"]</span></code></pre>\n<h3 id=\"Multiline-多行搜索\"><a href=\"#Multiline-多行搜索\" class=\"headerlink\" title=\"Multiline 多行搜索\"></a>Multiline 多行搜索</h3><p>跟搜索整个字符串不同。当添加了<code>m</code>修饰符，<code>^</code>和<code>$</code>则只会匹配每行的开头和结尾。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span>\n  <span class=\"token string\">'Hinata studies and is accepted to Karasuno\\nThe same high school the Little Giant played for but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno'</span>\n\n<span class=\"token keyword\">let</span> karasuno <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/karasuno$/gim</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//[\"Karasuno\", \"karasuno\"] 第一段和最后一段结尾处。</span></code></pre>\n<p>与之前字符串不同的是现在这个字符串在<code>Karasuno</code>出有新的一行开始。所以我们添加<code>m</code>修饰符来返回每行以<code>karasuno</code>为结尾的字符(不区分大小写)。</p>\n<p>如果我们不包括<code>m</code>修饰符，则只会返回整个字符串最后结尾处的<code>karasuno</code>。</p>\n<h2 id=\"Character-Classes\"><a href=\"#Character-Classes\" class=\"headerlink\" title=\"Character Classes\"></a>Character Classes</h2><h3 id=\"Character-set-abc\"><a href=\"#Character-set-abc\" class=\"headerlink\" title=\"Character set [abc]\"></a>Character set [abc]</h3><p>返回所有括号内包括的字符。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Hinata studies and is accepted to Karasuno'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[ak]/g</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//返回 [\"a\", \"a\", \"a\", \"a\", \"K\", \"a\", \"a\"]</span></code></pre>\n<h3 id=\"Negated-set-abc\"><a href=\"#Negated-set-abc\" class=\"headerlink\" title=\"Negated set [^abc]\"></a>Negated set [^abc]</h3><p>返回所有括号内不包括的字符。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Kit kat'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[^kt]/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">// 返回 [\"i\", \" \", \"a\"]</span></code></pre>\n<h3 id=\"Range-a-z\"><a href=\"#Range-a-z\" class=\"headerlink\" title=\"Range [a-z]\"></a>Range [a-z]</h3><p>返回字符串中所有在括号范围内的字符。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Hinata studies and is accepted to Karasuno'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[a-c]/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">//返回 [\"a\", \"a\", \"a\", \"a\", \"c\", \"c\", \"a\", \"a\"]</span></code></pre>\n<h3 id=\"Word-w\"><a href=\"#Word-w\" class=\"headerlink\" title=\"Word \\w\"></a>Word \\w</h3><p>返回字符串中所有单字字符，包括字母数字和下划线。但不包括 ASCII 之外的字符。</p>\n<p><a href=\"https://wiktel.com/standards/ascii.htm\" target=\"_blank\" rel=\"noopener\">https://wiktel.com/standards/ascii.htm</a></p>\n<p>同等于<code>[A-Za-z0-9_]</code></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Some Japanese pass by 最後の字符'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/\\w/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">// 返回 [\"S\", \"o\", \"m\", \"e\", \"J\", \"a\", \"p\", \"a\", \"n\", \"e\", \"s\", \"e\", \"p\", \"a\", \"s\", \"s\", \"b\", \"y\"]</span></code></pre>\n<h3 id=\"Not-Word-W\"><a href=\"#Not-Word-W\" class=\"headerlink\" title=\"Not Word \\W\"></a>Not Word \\W</h3><p>与<code>\\w</code>截然相反，返回字符串中所有非单字字符。</p>\n<p>同等于<code>[^A-Za-z0-9_]</code></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Some Japanese pass by 最後の字符'</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/\\W/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">// 返回 [\" \", \" \", \" \", \" \", \"最\", \"後\", \"の\", \"字\", \"符\"]</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[^A-Za-z0-9_ ,]/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">// 返回 [\"最\", \"後\", \"の\", \"字\", \"符\"]</span></code></pre>\n<h3 id=\"Digit-d\"><a href=\"#Digit-d\" class=\"headerlink\" title=\"Digit \\d\"></a>Digit \\d</h3><p>返回所有数字(0-9)。等同于<code>[0-9]</code></p>\n<h3 id=\"Not-Digit-D\"><a href=\"#Not-Digit-D\" class=\"headerlink\" title=\"Not Digit \\D\"></a>Not Digit \\D</h3><p>返回所有非数字。等同于<code>[^0-9]</code></p>\n<h3 id=\"Whitespace-s\"><a href=\"#Whitespace-s\" class=\"headerlink\" title=\"Whitespace \\s\"></a>Whitespace \\s</h3><p>返回所有空格字符(space, tabs, line breaks)</p>\n<h3 id=\"Not-Whitespace-S\"><a href=\"#Not-Whitespace-S\" class=\"headerlink\" title=\"Not Whitespace \\S\"></a>Not Whitespace \\S</h3><p>返回所有非空格字符(space, tabs, line breaks)</p>\n<h2 id=\"Escaped-Characters-转义字符\"><a href=\"#Escaped-Characters-转义字符\" class=\"headerlink\" title=\"Escaped Characters 转义字符\"></a>Escaped Characters 转义字符</h2><h3 id=\"Reserved-Characters-保留字符\"><a href=\"#Reserved-Characters-保留字符\" class=\"headerlink\" title=\"Reserved Characters 保留字符\"></a>Reserved Characters 保留字符</h3><p>以下字符为保留字符</p>\n<pre class=\" language-bash\"><code class=\"language-bash\">+\n*\n?\n^\n$\n\\\n<span class=\"token keyword\">.</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">|</span>\n/</code></pre>\n<h2 id=\"Groups-组合\"><a href=\"#Groups-组合\" class=\"headerlink\" title=\"Groups 组合\"></a>Groups 组合</h2><h3 id=\"Capturing-Group-abc\"><a href=\"#Capturing-Group-abc\" class=\"headerlink\" title=\"Capturing Group (abc)\"></a>Capturing Group (abc)</h3><p>组合括号内的字符并创建为一个新的组合</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'some random value for rand function'</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/(rand)/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">// 返回 [\"rand\", \"rand\"]</span></code></pre>\n<h2 id=\"Lookaround-查找\"><a href=\"#Lookaround-查找\" class=\"headerlink\" title=\"Lookaround 查找\"></a>Lookaround 查找</h2><h3 id=\"Positive-Lookahead-abc\"><a href=\"#Positive-Lookahead-abc\" class=\"headerlink\" title=\"Positive Lookahead (?=abc)\"></a>Positive Lookahead (?=abc)</h3><p>匹配一个不包括括号内的组合。比如下面的例子我们首先匹配所有字母字符数字，这时候我们匹配到<code>1, 2, 3, 4</code>。然后我们<code>?=(px)</code>匹配所有包括 px 的数字。即 2 和 4</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'1pt 2px 3em 4px'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/\\d(?=px)/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Negative-Lookahead-abc\"><a href=\"#Negative-Lookahead-abc\" class=\"headerlink\" title=\"Negative Lookahead (?!abc)\"></a>Negative Lookahead (?!abc)</h3><p>下面我们先匹配所有数字，然后匹配数字中所有不是 px 的字符。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'1pt 2px 3em 4px'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/\\d(?!px)/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">// 返回 [\"1\", \"3\"]</span></code></pre>\n<h2 id=\"Quantifiers-amp-Alternation\"><a href=\"#Quantifiers-amp-Alternation\" class=\"headerlink\" title=\"Quantifiers &amp; Alternation\"></a>Quantifiers &amp; Alternation</h2><h3 id=\"Plus\"><a href=\"#Plus\" class=\"headerlink\" title=\"Plus +\"></a>Plus +</h3><p>返回一个或多个之前的的规则</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'b be bee beer beers'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/b\\w+/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Star\"><a href=\"#Star\" class=\"headerlink\" title=\"Star *\"></a>Star *</h3><p>返回 0 个或多个之前的规则</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'b be bee beer beers'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/b\\w*/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Quantifier\"><a href=\"#Quantifier\" class=\"headerlink\" title=\"Quantifier {}\"></a>Quantifier {}</h3><p>返回定义的数量。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'b be bee beer beers'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/b\\w{1}/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//返回 [\"be\", \"be\", \"be\", \"be\"]</span></code></pre>\n<h3 id=\"Optional\"><a href=\"#Optional\" class=\"headerlink\" title=\"Optional ?\"></a>Optional ?</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'color colour color colour'</span>\n<span class=\"token comment\" spellcheck=\"true\">//u设定为optional</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/colou?r/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//返回 [\"color\", \"colour\", \"color\", \"colour\"]</span></code></pre>\n<h3 id=\"Alternation\"><a href=\"#Alternation\" class=\"headerlink\" title=\"Alternation |\"></a>Alternation |</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'bad bud bod bed bid'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/b(a|u|o)/gi</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//返回[\"ba\", \"bu\", \"bo\"]</span></code></pre>\n","site":{"data":{"link":[{"class_name":"网站","class_desc":"值得推荐的网站","link_list":[{"name":"Personal Website","link":"https://www.youtube.com/","avatar":"https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png","descr":"视频网站"},{"name":"Portfolio","link":"https://www.weibo.com/","avatar":"https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png","descr":"中国最大社交分享平台"},{"name":"Twitter","link":"https://twitter.com/","avatar":"https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png","descr":"社交分享平台"}]},{"class_name":"友情链接","class_desc":"我的小伙伴们","link_list":[{"name":"JerryC","link":"https://jerryc.me/","avatar":"https://jerryc.me/image/avatar.png","descr":"今日事,今日毕"},{"name":"Hexo","link":"https://hexo.io/zh-tw/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"快速、简单且强大的网誌框架"}]}]}},"excerpt":"<blockquote>\n<p>A regular expression is a sequence of characters that define a search pattern.</p>\n</blockquote>\n<p>正则表达式简而言之我们可以对一个字符串组合进行查找，替换，以及字符验证等其他操作。举个例子，我们有一个 login 的登陆页面，我们希望对用户密码加以强度监测。用户密码必须要包含大写字母，数字，特殊符号，以及长度大于 8 的要求。正则表达式就是用来对密码字符串进行查找来判断是否满足我们的规则。</p>\n<p>这个网站可以让你在练习过程中更好的了解正则表达式<a href=\"https://regexr.com/\" target=\"_blank\" rel=\"noopener\">https://regexr.com/</a></p>","more":"<h2 id=\"Syntax-语法\"><a href=\"#Syntax-语法\" class=\"headerlink\" title=\"Syntax 语法\"></a>Syntax 语法</h2><pre><code class=\"bash\">/pattern/modifier</code></pre>\n<p>pattern 即我们想要搜索字符串的 pattern，比如我们想查找一个字符串中所有的<code>play</code>。pattern 的两侧我们分别用<code>/</code>包裹起来，我们所有的规则都在这两个<code>/</code>之内。<code>modifier</code>即表达式的修饰符。</p>\n<h2 id=\"Anchors-插入符\"><a href=\"#Anchors-插入符\" class=\"headerlink\" title=\"Anchors 插入符\"></a>Anchors 插入符</h2><h3 id=\"Beginning\"><a href=\"#Beginning\" class=\"headerlink\" title=\"Beginning ^\"></a>Beginning ^</h3><p>匹配开头包含的字符。</p>\n<pre><code class=\"js\">const text = &#39;Regular expression string\\nThis is a new line&#39;\nconsole.log(text.match(/^This/gim))\n// 返回 [&quot;T&quot;]</code></pre>\n<h3 id=\"End\"><a href=\"#End\" class=\"headerlink\" title=\"End $\"></a>End $</h3><p>匹配字符串结尾处的字符，或行的末尾如果启用<code>m</code>修饰符</p>\n<pre><code class=\"js\">const text = &#39;Regular expression string\\nThis is a new line&#39;\nconsole.log(text.match(/line$/gi))</code></pre>\n<h3 id=\"Word-Boundary\"><a href=\"#Word-Boundary\" class=\"headerlink\" title=\"Word Boundary\"></a>Word Boundary</h3><p>这个插入符会查找一个字符与非字符之间的位置。</p>\n<p>比如我们下面代码中的例子，text 字符串中有<code>@</code>, <code>,</code> 和两个<code>whitespace</code>非字符。那么<code>/e\\b/gi</code>就会匹配所有与 e 相邻非字符的字符。</p>\n<pre><code class=\"js\">const text = &#39;This@one,is kind tricky&#39;\n\nconsole.log(text.match(/e\\b/gi))\n\n//返回 [&quot;s&quot;, &quot;s&quot;]</code></pre>\n<h3 id=\"Not-Word-Boundary\"><a href=\"#Not-Word-Boundary\" class=\"headerlink\" title=\"Not Word Boundary\"></a>Not Word Boundary</h3><p>跟上面的 word boundary 截然相反。</p>\n<h3 id=\"Not-Word-Boundary-1\"><a href=\"#Not-Word-Boundary-1\" class=\"headerlink\" title=\"Not Word Boundary\"></a>Not Word Boundary</h3><h2 id=\"Modifiers-修饰符\"><a href=\"#Modifiers-修饰符\" class=\"headerlink\" title=\"Modifiers 修饰符\"></a>Modifiers 修饰符</h2><p>下面将介绍<code>g</code>, <code>i</code>, <code>m</code>, <code>s</code>, <code>u</code>, <code>y</code>以及它们分别的作用。</p>\n<h3 id=\"Global-全局\"><a href=\"#Global-全局\" class=\"headerlink\" title=\"Global 全局\"></a>Global 全局</h3><p><code>g</code>修饰符可以让我们搜索整个字符串内所有匹配的字符。</p>\n<pre><code class=\"js\">const text =\n  &#39;Hinata studies and is accepted to Karasuno, the same high school the Little Giant played for, but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno?&#39;\n\nlet karasuno = text.match(/Karasuno/g)\n\n// 返回[&quot;Karasuno&quot;, &quot;Karasuno&quot;]</code></pre>\n<blockquote>\n<p>如果我们不包括<code>g</code>修饰符时，则只会返回查找的第一个匹配结果。</p>\n</blockquote>\n<h3 id=\"Case-Insensitive-不区分大小写\"><a href=\"#Case-Insensitive-不区分大小写\" class=\"headerlink\" title=\"Case Insensitive 不区分大小写\"></a>Case Insensitive 不区分大小写</h3><p><code>i</code> 即让表达式不区分大小写。</p>\n<p>之前的例子，假设我们想返回所有<code>karasuno</code>但不区分大小写。</p>\n<pre><code class=\"js\">let karasuno = text.match(/karasuno/gi)\n\n//返回[&quot;Karasuno&quot;, &quot;Karasuno&quot;, &quot;karasuno&quot;]</code></pre>\n<h3 id=\"Multiline-多行搜索\"><a href=\"#Multiline-多行搜索\" class=\"headerlink\" title=\"Multiline 多行搜索\"></a>Multiline 多行搜索</h3><p>跟搜索整个字符串不同。当添加了<code>m</code>修饰符，<code>^</code>和<code>$</code>则只会匹配每行的开头和结尾。</p>\n<pre><code class=\"js\">const text =\n  &#39;Hinata studies and is accepted to Karasuno\\nThe same high school the Little Giant played for but is shocked to discover that Kageyama has also chosen to attend Karasuno. What is karasuno&#39;\n\nlet karasuno = text.match(/karasuno$/gim)\n\n//[&quot;Karasuno&quot;, &quot;karasuno&quot;] 第一段和最后一段结尾处。</code></pre>\n<p>与之前字符串不同的是现在这个字符串在<code>Karasuno</code>出有新的一行开始。所以我们添加<code>m</code>修饰符来返回每行以<code>karasuno</code>为结尾的字符(不区分大小写)。</p>\n<p>如果我们不包括<code>m</code>修饰符，则只会返回整个字符串最后结尾处的<code>karasuno</code>。</p>\n<h2 id=\"Character-Classes\"><a href=\"#Character-Classes\" class=\"headerlink\" title=\"Character Classes\"></a>Character Classes</h2><h3 id=\"Character-set-abc\"><a href=\"#Character-set-abc\" class=\"headerlink\" title=\"Character set [abc]\"></a>Character set [abc]</h3><p>返回所有括号内包括的字符。</p>\n<pre><code class=\"js\">const text = &#39;Hinata studies and is accepted to Karasuno&#39;\nconsole.log(text.match(/[ak]/g))\n\n//返回 [&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;K&quot;, &quot;a&quot;, &quot;a&quot;]</code></pre>\n<h3 id=\"Negated-set-abc\"><a href=\"#Negated-set-abc\" class=\"headerlink\" title=\"Negated set [^abc]\"></a>Negated set [^abc]</h3><p>返回所有括号内不包括的字符。</p>\n<pre><code class=\"js\">const text = &#39;Kit kat&#39;\nconsole.log(text.match(/[^kt]/gi))\n// 返回 [&quot;i&quot;, &quot; &quot;, &quot;a&quot;]</code></pre>\n<h3 id=\"Range-a-z\"><a href=\"#Range-a-z\" class=\"headerlink\" title=\"Range [a-z]\"></a>Range [a-z]</h3><p>返回字符串中所有在括号范围内的字符。</p>\n<pre><code class=\"js\">const text = &#39;Hinata studies and is accepted to Karasuno&#39;\nconsole.log(text.match(/[a-c]/gi))\n//返回 [&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;c&quot;, &quot;c&quot;, &quot;a&quot;, &quot;a&quot;]</code></pre>\n<h3 id=\"Word-w\"><a href=\"#Word-w\" class=\"headerlink\" title=\"Word \\w\"></a>Word \\w</h3><p>返回字符串中所有单字字符，包括字母数字和下划线。但不包括 ASCII 之外的字符。</p>\n<p><a href=\"https://wiktel.com/standards/ascii.htm\" target=\"_blank\" rel=\"noopener\">https://wiktel.com/standards/ascii.htm</a></p>\n<p>同等于<code>[A-Za-z0-9_]</code></p>\n<pre><code class=\"js\">const text = &#39;Some Japanese pass by 最後の字符&#39;\nconsole.log(text.match(/\\w/gi))\n// 返回 [&quot;S&quot;, &quot;o&quot;, &quot;m&quot;, &quot;e&quot;, &quot;J&quot;, &quot;a&quot;, &quot;p&quot;, &quot;a&quot;, &quot;n&quot;, &quot;e&quot;, &quot;s&quot;, &quot;e&quot;, &quot;p&quot;, &quot;a&quot;, &quot;s&quot;, &quot;s&quot;, &quot;b&quot;, &quot;y&quot;]</code></pre>\n<h3 id=\"Not-Word-W\"><a href=\"#Not-Word-W\" class=\"headerlink\" title=\"Not Word \\W\"></a>Not Word \\W</h3><p>与<code>\\w</code>截然相反，返回字符串中所有非单字字符。</p>\n<p>同等于<code>[^A-Za-z0-9_]</code></p>\n<pre><code class=\"js\">const text = &#39;Some Japanese pass by 最後の字符&#39;\n\nconsole.log(text.match(/\\W/gi))\n// 返回 [&quot; &quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;最&quot;, &quot;後&quot;, &quot;の&quot;, &quot;字&quot;, &quot;符&quot;]\n\nconsole.log(text.match(/[^A-Za-z0-9_ ,]/gi))\n// 返回 [&quot;最&quot;, &quot;後&quot;, &quot;の&quot;, &quot;字&quot;, &quot;符&quot;]</code></pre>\n<h3 id=\"Digit-d\"><a href=\"#Digit-d\" class=\"headerlink\" title=\"Digit \\d\"></a>Digit \\d</h3><p>返回所有数字(0-9)。等同于<code>[0-9]</code></p>\n<h3 id=\"Not-Digit-D\"><a href=\"#Not-Digit-D\" class=\"headerlink\" title=\"Not Digit \\D\"></a>Not Digit \\D</h3><p>返回所有非数字。等同于<code>[^0-9]</code></p>\n<h3 id=\"Whitespace-s\"><a href=\"#Whitespace-s\" class=\"headerlink\" title=\"Whitespace \\s\"></a>Whitespace \\s</h3><p>返回所有空格字符(space, tabs, line breaks)</p>\n<h3 id=\"Not-Whitespace-S\"><a href=\"#Not-Whitespace-S\" class=\"headerlink\" title=\"Not Whitespace \\S\"></a>Not Whitespace \\S</h3><p>返回所有非空格字符(space, tabs, line breaks)</p>\n<h2 id=\"Escaped-Characters-转义字符\"><a href=\"#Escaped-Characters-转义字符\" class=\"headerlink\" title=\"Escaped Characters 转义字符\"></a>Escaped Characters 转义字符</h2><h3 id=\"Reserved-Characters-保留字符\"><a href=\"#Reserved-Characters-保留字符\" class=\"headerlink\" title=\"Reserved Characters 保留字符\"></a>Reserved Characters 保留字符</h3><p>以下字符为保留字符</p>\n<pre><code class=\"bash\">+\n*\n?\n^\n$\n\\\n.\n[]\n{}\n()\n|\n/</code></pre>\n<h2 id=\"Groups-组合\"><a href=\"#Groups-组合\" class=\"headerlink\" title=\"Groups 组合\"></a>Groups 组合</h2><h3 id=\"Capturing-Group-abc\"><a href=\"#Capturing-Group-abc\" class=\"headerlink\" title=\"Capturing Group (abc)\"></a>Capturing Group (abc)</h3><p>组合括号内的字符并创建为一个新的组合</p>\n<pre><code class=\"js\">const text = &#39;some random value for rand function&#39;\n\nconsole.log(text.match(/(rand)/gi))\n\n// 返回 [&quot;rand&quot;, &quot;rand&quot;]</code></pre>\n<h2 id=\"Lookaround-查找\"><a href=\"#Lookaround-查找\" class=\"headerlink\" title=\"Lookaround 查找\"></a>Lookaround 查找</h2><h3 id=\"Positive-Lookahead-abc\"><a href=\"#Positive-Lookahead-abc\" class=\"headerlink\" title=\"Positive Lookahead (?=abc)\"></a>Positive Lookahead (?=abc)</h3><p>匹配一个不包括括号内的组合。比如下面的例子我们首先匹配所有字母字符数字，这时候我们匹配到<code>1, 2, 3, 4</code>。然后我们<code>?=(px)</code>匹配所有包括 px 的数字。即 2 和 4</p>\n<pre><code class=\"js\">const text = &#39;1pt 2px 3em 4px&#39;\nconsole.log(text.match(/\\d(?=px)/gi))</code></pre>\n<h3 id=\"Negative-Lookahead-abc\"><a href=\"#Negative-Lookahead-abc\" class=\"headerlink\" title=\"Negative Lookahead (?!abc)\"></a>Negative Lookahead (?!abc)</h3><p>下面我们先匹配所有数字，然后匹配数字中所有不是 px 的字符。</p>\n<pre><code class=\"js\">const text = &#39;1pt 2px 3em 4px&#39;\nconsole.log(text.match(/\\d(?!px)/gi))\n\n// 返回 [&quot;1&quot;, &quot;3&quot;]</code></pre>\n<h2 id=\"Quantifiers-amp-Alternation\"><a href=\"#Quantifiers-amp-Alternation\" class=\"headerlink\" title=\"Quantifiers &amp; Alternation\"></a>Quantifiers &amp; Alternation</h2><h3 id=\"Plus\"><a href=\"#Plus\" class=\"headerlink\" title=\"Plus +\"></a>Plus +</h3><p>返回一个或多个之前的的规则</p>\n<pre><code class=\"js\">const text = &#39;b be bee beer beers&#39;\nconsole.log(text.match(/b\\w+/gi))</code></pre>\n<h3 id=\"Star\"><a href=\"#Star\" class=\"headerlink\" title=\"Star *\"></a>Star *</h3><p>返回 0 个或多个之前的规则</p>\n<pre><code class=\"js\">const text = &#39;b be bee beer beers&#39;\nconsole.log(text.match(/b\\w*/gi))</code></pre>\n<h3 id=\"Quantifier\"><a href=\"#Quantifier\" class=\"headerlink\" title=\"Quantifier {}\"></a>Quantifier {}</h3><p>返回定义的数量。</p>\n<pre><code class=\"js\">const text = &#39;b be bee beer beers&#39;\nconsole.log(text.match(/b\\w{1}/gi))\n\n//返回 [&quot;be&quot;, &quot;be&quot;, &quot;be&quot;, &quot;be&quot;]</code></pre>\n<h3 id=\"Optional\"><a href=\"#Optional\" class=\"headerlink\" title=\"Optional ?\"></a>Optional ?</h3><pre><code class=\"js\">const text = &#39;color colour color colour&#39;\n//u设定为optional\nconsole.log(text.match(/colou?r/gi))\n\n//返回 [&quot;color&quot;, &quot;colour&quot;, &quot;color&quot;, &quot;colour&quot;]</code></pre>\n<h3 id=\"Alternation\"><a href=\"#Alternation\" class=\"headerlink\" title=\"Alternation |\"></a>Alternation |</h3><pre><code class=\"js\">const text = &#39;bad bud bod bed bid&#39;\nconsole.log(text.match(/b(a|u|o)/gi))\n\n//返回[&quot;ba&quot;, &quot;bu&quot;, &quot;bo&quot;]</code></pre>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckbnbuims0007i0ui9svkfeoa","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuimx000di0ui4db330hc"},{"post_id":"ckbnbuimh0000i0ui2kbh783j","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuimy000hi0ui6h6ygyyb"},{"post_id":"ckbnbuimt0008i0ui4n1v0peu","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuimz000ji0ui784i0yfb"},{"post_id":"ckbnbuimv000bi0ui3ekl08sc","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuin1000ni0uic58a64uz"},{"post_id":"ckbnbuimn0002i0uicsz4f9ab","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuin2000pi0ui1bdbfdul"},{"post_id":"ckbnbuimw000ci0uicanz13jd","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuin4000ti0uidcif8iyx"},{"post_id":"ckbnbuimr0006i0ui7ntz5qs7","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuin5000vi0ui8dop90xy"},{"post_id":"ckbnbuin0000mi0ui3tn6gl4g","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuin5000xi0ui7ujm218h"},{"post_id":"ckbnbuin1000oi0ui2s2e0ia9","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuin60011i0uie995du83"},{"post_id":"ckbnbuimy000gi0uiaa25fgup","category_id":"ckbnbuin0000li0ui7oko58l6","_id":"ckbnbuin70013i0ui0bcc3v20"},{"post_id":"ckbnbuin4000ui0ui6oua8vfl","category_id":"ckbnbuimp0004i0ui0ntr9m5b","_id":"ckbnbuin70017i0ui08ob3j4w"},{"post_id":"ckbnbuimz000ii0uibpjmgt85","category_id":"ckbnbuin3000si0uihxx459ov","_id":"ckbnbuin80019i0ui4e0ff6ik"},{"post_id":"ckbnbuin3000ri0ui4d8mehny","category_id":"ckbnbuin6000zi0ui8d3iaqkl","_id":"ckbnbuin9001ci0ui5q3h1h74"},{"post_id":"ckbnbuin5000wi0uicj1yg7xo","category_id":"ckbnbuin70015i0ui9immhulb","_id":"ckbnbuina001fi0ui1s0s7u0z"}],"PostTag":[{"post_id":"ckbnbuimh0000i0ui2kbh783j","tag_id":"ckbnbuimq0005i0ui5s4p24zc","_id":"ckbnbuin60010i0uiae9ifgdh"},{"post_id":"ckbnbuimh0000i0ui2kbh783j","tag_id":"ckbnbuimu000ai0ui0kzt4ixk","_id":"ckbnbuin70012i0uic9yfesvr"},{"post_id":"ckbnbuimh0000i0ui2kbh783j","tag_id":"ckbnbuimx000fi0ui9l6tbfwt","_id":"ckbnbuin70016i0uiaf9dc0tg"},{"post_id":"ckbnbuimh0000i0ui2kbh783j","tag_id":"ckbnbuin0000ki0ui4iczh3bt","_id":"ckbnbuin80018i0ui81onht4k"},{"post_id":"ckbnbuimh0000i0ui2kbh783j","tag_id":"ckbnbuin3000qi0ui2mrq4ir5","_id":"ckbnbuin9001bi0ui8nxa1fcw"},{"post_id":"ckbnbuimn0002i0uicsz4f9ab","tag_id":"ckbnbuin5000yi0ui2u63a0xj","_id":"ckbnbuin9001di0ui3mg3ff22"},{"post_id":"ckbnbuimn0002i0uicsz4f9ab","tag_id":"ckbnbuin70014i0uigellgpn2","_id":"ckbnbuina001gi0ui5ce13ydt"},{"post_id":"ckbnbuimr0006i0ui7ntz5qs7","tag_id":"ckbnbuin5000yi0ui2u63a0xj","_id":"ckbnbuina001ii0uifdi2c8rz"},{"post_id":"ckbnbuimr0006i0ui7ntz5qs7","tag_id":"ckbnbuin9001ei0ui7tx5br69","_id":"ckbnbuina001ji0uigo3tabrq"},{"post_id":"ckbnbuims0007i0ui9svkfeoa","tag_id":"ckbnbuin5000yi0ui2u63a0xj","_id":"ckbnbuinb001ni0uidlvs76b8"},{"post_id":"ckbnbuims0007i0ui9svkfeoa","tag_id":"ckbnbuina001ki0ui3z5c44cn","_id":"ckbnbuinb001oi0ui3e89gole"},{"post_id":"ckbnbuims0007i0ui9svkfeoa","tag_id":"ckbnbuinb001li0uicofeg54o","_id":"ckbnbuinc001qi0uif6hbggw1"},{"post_id":"ckbnbuimt0008i0ui4n1v0peu","tag_id":"ckbnbuin5000yi0ui2u63a0xj","_id":"ckbnbuinc001si0ui60x90c97"},{"post_id":"ckbnbuimt0008i0ui4n1v0peu","tag_id":"ckbnbuinc001pi0ui9696cuye","_id":"ckbnbuinc001ti0ui3qsd2usu"},{"post_id":"ckbnbuimv000bi0ui3ekl08sc","tag_id":"ckbnbuinc001ri0uieqpabboy","_id":"ckbnbuind001xi0uictsy3kkq"},{"post_id":"ckbnbuimv000bi0ui3ekl08sc","tag_id":"ckbnbuinc001ui0ui9wpx1a7n","_id":"ckbnbuind001yi0ui5k517wbb"},{"post_id":"ckbnbuimv000bi0ui3ekl08sc","tag_id":"ckbnbuind001vi0uidvl2f6o0","_id":"ckbnbuine0020i0uiascp2jw3"},{"post_id":"ckbnbuimw000ci0uicanz13jd","tag_id":"ckbnbuina001ki0ui3z5c44cn","_id":"ckbnbuinl0025i0uih33eetmu"},{"post_id":"ckbnbuimw000ci0uicanz13jd","tag_id":"ckbnbuind001zi0uie750fbff","_id":"ckbnbuinl0026i0ui87ku2t5v"},{"post_id":"ckbnbuimw000ci0uicanz13jd","tag_id":"ckbnbuine0021i0uib03r7us9","_id":"ckbnbuinm0028i0ui8l2p5gf2"},{"post_id":"ckbnbuimw000ci0uicanz13jd","tag_id":"ckbnbuini0022i0ui2vaicfxb","_id":"ckbnbuinm0029i0uig5au3rdo"},{"post_id":"ckbnbuimw000ci0uicanz13jd","tag_id":"ckbnbuinj0023i0ui5gck2qy9","_id":"ckbnbuinm002bi0uifhbtfix8"},{"post_id":"ckbnbuimy000gi0uiaa25fgup","tag_id":"ckbnbuina001ki0ui3z5c44cn","_id":"ckbnbuinn002fi0uih3agamtr"},{"post_id":"ckbnbuimy000gi0uiaa25fgup","tag_id":"ckbnbuine0021i0uib03r7us9","_id":"ckbnbuinn002gi0uiatvsdx8p"},{"post_id":"ckbnbuimy000gi0uiaa25fgup","tag_id":"ckbnbuinj0023i0ui5gck2qy9","_id":"ckbnbuino002ii0ui9pfve6gb"},{"post_id":"ckbnbuimy000gi0uiaa25fgup","tag_id":"ckbnbuinm002ci0uihhhf195v","_id":"ckbnbuino002ji0uido5g6kdj"},{"post_id":"ckbnbuimy000gi0uiaa25fgup","tag_id":"ckbnbuinn002di0uicod880ob","_id":"ckbnbuino002li0uibkp03w5p"},{"post_id":"ckbnbuimz000ii0uibpjmgt85","tag_id":"ckbnbuinn002ei0uifk88792u","_id":"ckbnbuino002ni0ui2208c98s"},{"post_id":"ckbnbuimz000ii0uibpjmgt85","tag_id":"ckbnbuinn002hi0uib2ct1b39","_id":"ckbnbuino002oi0ui57gda10k"},{"post_id":"ckbnbuimz000ii0uibpjmgt85","tag_id":"ckbnbuino002ki0ui2hy96sib","_id":"ckbnbuinp002qi0uid7npd2mx"},{"post_id":"ckbnbuin0000mi0ui3tn6gl4g","tag_id":"ckbnbuino002mi0ui0nlmbjdy","_id":"ckbnbuinp002ti0uic3o46waf"},{"post_id":"ckbnbuin0000mi0ui3tn6gl4g","tag_id":"ckbnbuino002pi0ui7omt5ecm","_id":"ckbnbuinq002ui0ui70os8kbr"},{"post_id":"ckbnbuin0000mi0ui3tn6gl4g","tag_id":"ckbnbuinj0023i0ui5gck2qy9","_id":"ckbnbuinq002wi0uif6qk6s4b"},{"post_id":"ckbnbuin1000oi0ui2s2e0ia9","tag_id":"ckbnbuin9001ei0ui7tx5br69","_id":"ckbnbuinr002zi0ui0d6fe7q7"},{"post_id":"ckbnbuin1000oi0ui2s2e0ia9","tag_id":"ckbnbuinq002vi0ui8dwm0k41","_id":"ckbnbuinr0030i0uih6e4ev4h"},{"post_id":"ckbnbuin1000oi0ui2s2e0ia9","tag_id":"ckbnbuinj0023i0ui5gck2qy9","_id":"ckbnbuinr0032i0ui5uvk82zv"},{"post_id":"ckbnbuin3000ri0ui4d8mehny","tag_id":"ckbnbuinq002yi0uifnr3130b","_id":"ckbnbuins0036i0uie4l198qz"},{"post_id":"ckbnbuin3000ri0ui4d8mehny","tag_id":"ckbnbuinr0031i0uie2fkbd4w","_id":"ckbnbuins0037i0ui4atyhn6w"},{"post_id":"ckbnbuin3000ri0ui4d8mehny","tag_id":"ckbnbuinr0033i0ui5w00bkxd","_id":"ckbnbuins0039i0ui5hm493qq"},{"post_id":"ckbnbuin3000ri0ui4d8mehny","tag_id":"ckbnbuinr0034i0ui24ji51d7","_id":"ckbnbuins003ai0uiggcr8zto"},{"post_id":"ckbnbuin4000ui0ui6oua8vfl","tag_id":"ckbnbuina001ki0ui3z5c44cn","_id":"ckbnbuinu003fi0ui84ic2p3p"},{"post_id":"ckbnbuin4000ui0ui6oua8vfl","tag_id":"ckbnbuins0038i0uibfb311jr","_id":"ckbnbuinu003gi0ui2x57gkf6"},{"post_id":"ckbnbuin4000ui0ui6oua8vfl","tag_id":"ckbnbuini0022i0ui2vaicfxb","_id":"ckbnbuinu003ii0uiefd67o4a"},{"post_id":"ckbnbuin4000ui0ui6oua8vfl","tag_id":"ckbnbuint003ci0ui91tu423i","_id":"ckbnbuinu003ji0ui8qz1fjui"},{"post_id":"ckbnbuin4000ui0ui6oua8vfl","tag_id":"ckbnbuinj0023i0ui5gck2qy9","_id":"ckbnbuinv003li0uidbyebf74"},{"post_id":"ckbnbuin5000wi0uicj1yg7xo","tag_id":"ckbnbuint003ei0ui2hs2cap9","_id":"ckbnbuinv003mi0uihsxa0osa"},{"post_id":"ckbnbuin5000wi0uicj1yg7xo","tag_id":"ckbnbuin9001ei0ui7tx5br69","_id":"ckbnbuinv003ni0uif33g6y0o"},{"post_id":"ckbnbuin5000wi0uicj1yg7xo","tag_id":"ckbnbuinv003ki0ui57kj0ua6","_id":"ckbnbuinv003oi0ui1qjg95q1"}],"Tag":[{"name":"firebase","_id":"ckbnbuimq0005i0ui5s4p24zc"},{"name":"database","_id":"ckbnbuimu000ai0ui0kzt4ixk"},{"name":"web","_id":"ckbnbuimx000fi0ui9l6tbfwt"},{"name":"firestore","_id":"ckbnbuin0000ki0ui4iczh3bt"},{"name":"cloudstorage","_id":"ckbnbuin3000qi0ui2mrq4ir5"},{"name":"笔记","_id":"ckbnbuin5000yi0ui2u63a0xj"},{"name":"git","_id":"ckbnbuin70014i0uigellgpn2"},{"name":"javascript","_id":"ckbnbuin9001ei0ui7tx5br69"},{"name":"react","_id":"ckbnbuina001ki0ui3z5c44cn"},{"name":"react-router","_id":"ckbnbuinb001li0uicofeg54o"},{"name":"JavaScript","_id":"ckbnbuinc001pi0ui9696cuye"},{"name":"Sass","_id":"ckbnbuinc001ri0uieqpabboy"},{"name":"css","_id":"ckbnbuinc001ui0ui9wpx1a7n"},{"name":"note","_id":"ckbnbuind001vi0uidvl2f6o0"},{"name":"tsx","_id":"ckbnbuind001zi0uie750fbff"},{"name":"typescript","_id":"ckbnbuine0021i0uib03r7us9"},{"name":"front-end","_id":"ckbnbuini0022i0ui2vaicfxb"},{"name":"notes","_id":"ckbnbuinj0023i0ui5gck2qy9"},{"name":"npm","_id":"ckbnbuinm002ci0uihhhf195v"},{"name":"node","_id":"ckbnbuinn002di0uicod880ob"},{"name":"windows","_id":"ckbnbuinn002ei0uifk88792u"},{"name":"powershell","_id":"ckbnbuinn002hi0uib2ct1b39"},{"name":"terminal","_id":"ckbnbuino002ki0ui2hy96sib"},{"name":"algorithim","_id":"ckbnbuino002mi0ui0nlmbjdy"},{"name":"bcit","_id":"ckbnbuino002pi0ui7omt5ecm"},{"name":"es6","_id":"ckbnbuinq002vi0ui8dwm0k41"},{"name":"powerlifting","_id":"ckbnbuinq002yi0uifnr3130b"},{"name":"routine","_id":"ckbnbuinr0031i0uie2fkbd4w"},{"name":"Big three","_id":"ckbnbuinr0033i0ui5w00bkxd"},{"name":"rogue","_id":"ckbnbuinr0034i0ui24ji51d7"},{"name":"framework","_id":"ckbnbuins0038i0uibfb311jr"},{"name":"react-hooks","_id":"ckbnbuint003ci0ui91tu423i"},{"name":"regular expression","_id":"ckbnbuint003ei0ui2hs2cap9"},{"name":"learning everyday","_id":"ckbnbuinv003ki0ui57kj0ua6"}]}}