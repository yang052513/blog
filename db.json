{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/yun/source/Yun.png","path":"Yun.png","modified":1,"renderable":1},{"_id":"themes/yun/source/yun-favicon.ico","path":"yun-favicon.ico","modified":1,"renderable":1},{"_id":"themes/yun/source/yun.svg","path":"yun.svg","modified":1,"renderable":1},{"_id":"themes/yun/source/css/hexo-theme-yun.styl","path":"css/hexo-theme-yun.styl","modified":1,"renderable":1},{"_id":"themes/yun/source/data/sentences.json","path":"data/sentences.json","modified":1,"renderable":1},{"_id":"themes/yun/source/js/hexo-theme-yun.js","path":"js/hexo-theme-yun.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/pjax.js","path":"js/pjax.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/say.js","path":"js/say.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/gallery-decrypt.js","path":"js/gallery-decrypt.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/sidebar.js","path":"js/sidebar.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/ui/banner.js","path":"js/ui/banner.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/ui/fireworks.js","path":"js/ui/fireworks.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/search/algolia-search.js","path":"js/search/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/yun/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1},{"_id":"themes/yun/source/kirito.png","path":"kirito.png","modified":1,"renderable":1},{"_id":"themes/yun/source/yang.jpg","path":"yang.jpg","modified":1,"renderable":1},{"_id":"themes/yun/source/yang-favicon.png","path":"yang-favicon.png","modified":1,"renderable":1}],"Cache":[{"_id":"themes/yun/.gitignore","hash":"38be463b1bf715e7c5a8664acfbe0ad0adf0332d","modified":1590408109384},{"_id":"themes/yun/_config.yml","hash":"dde8453c6eb8a5642564420a384785443ee15c57","modified":1592204008689},{"_id":"themes/yun/LICENSE","hash":"fa221ceba871b104543fa698b80750fc19552fd2","modified":1590408109384},{"_id":"themes/yun/README.md","hash":"d3e560bbe8f0948bb2e67b573b90b3294e330f7e","modified":1590408109385},{"_id":"themes/yun/package.json","hash":"4973200b5b49c4dd40296506cfc2fec858ee1826","modified":1590408109418},{"_id":"source/_posts/01-firebase-note.md","hash":"bfacdc6f625e31afb7514984017697a15b4cc262","modified":1591681613960},{"_id":"source/_posts/02-git-command.md","hash":"8cef41060ae93054a04af9c4817dacfe967f85b0","modified":1591681617006},{"_id":"source/_posts/03-js-event-target.md","hash":"cdde47227b90e8c9362d69ef4bfc6f333e0adccd","modified":1591681621032},{"_id":"source/_posts/04-react-css-transition.md","hash":"8797115c6fe7ac8170d399d22253f3d7529d63f7","modified":1591681598881},{"_id":"source/_posts/07-react-notes.md","hash":"581c84fac1e31515c45933249e8c6023ad69dbed","modified":1591682373618},{"_id":"source/_posts/05-javascript.md","hash":"5cec1f1c930746d8bd1e4a137eecdf45bded9dd2","modified":1591681627239},{"_id":"source/_posts/08-python-notes.md","hash":"bb758f5bc85f22af7eeb5d58f02ec419bf35c438","modified":1591682476881},{"_id":"source/_posts/06-sass-cheat-sheet.md","hash":"839bad3632532af0a97f40e4853b7d2eb96a1275","modified":1591681630849},{"_id":"source/_posts/09-typescript.md","hash":"62bc68a9fc3bc5742deb1628966c265a058aebd3","modified":1591992259209},{"_id":"source/_posts/10-your-first-npm-package.md","hash":"510ae52e7c3f9cc31f4dc562cdef43224e665016","modified":1592207017588},{"_id":"source/about/site.md","hash":"1280b7a7de7cb8ed730f6851c14957b055bea7a1","modified":1590408109328},{"_id":"source/about/index.md","hash":"32eb39a217c0b41a02dc148d0a45a10d0312bcf0","modified":1590408109327},{"_id":"source/albums/index.md","hash":"8d0674933590be17af3ef22eef46ab8e4a2237ef","modified":1590408109328},{"_id":"source/categories/index.md","hash":"27f94a3c8fa908bac5b2d0c879e080d0d9151f0c","modified":1590408109328},{"_id":"source/girls/index.md","hash":"ba3960df8886258d9b681be12103bcd69c4d1e39","modified":1590408109329},{"_id":"source/links/index.md","hash":"edb053c1fecadbd47ed37bcf987d7556430b3978","modified":1590408109329},{"_id":"themes/yun/docs/README.md","hash":"37a84b6e762153c176e6380f5c3ee478d394278e","modified":1590408109387},{"_id":"themes/yun/docs/about.md","hash":"7a8dc9e09a962083d5341e0ffc33affd4bb870ed","modified":1590408109387},{"_id":"themes/yun/docs/demo.md","hash":"56fc428cfe85014c1cb6a41ce36b95525c7e736f","modified":1590408109388},{"_id":"themes/yun/languages/default.yml","hash":"e56bebd19d2abd1698e9aa87d337941957977468","modified":1590408109396},{"_id":"themes/yun/languages/en.yml","hash":"734bd23194d32354c2275ac7ed798f741e8c4edc","modified":1590408109397},{"_id":"themes/yun/languages/ja.yml","hash":"8a3a181d032b730132c5ae4320606e36bc373db9","modified":1590408109397},{"_id":"themes/yun/docs/sponsor.md","hash":"02d6159e56945406506d0c39873576d881a5a125","modified":1590408109396},{"_id":"themes/yun/languages/zh-CN.yml","hash":"0d15fcf3d76f15d808d35bf3d4e728eb37ca44b8","modified":1590408109397},{"_id":"themes/yun/layout/404.pug","hash":"eeb41a1a7cda23266425dd596ed010b6ec1e4827","modified":1590408109398},{"_id":"themes/yun/layout/archive.pug","hash":"46222776ce32ef385456c971fc1bc8d1af7656f1","modified":1590408109415},{"_id":"themes/yun/layout/category.pug","hash":"b8f68e0c9214274701d442a37b5c5e1915de1ecd","modified":1590408109416},{"_id":"themes/yun/layout/gallery.pug","hash":"b49fd9ae0c2bcbdaf7fb932102b07a3fa356ec16","modified":1590408109416},{"_id":"themes/yun/layout/girls.pug","hash":"8e73302a159fd5dbaf0bc2f9110a5aa8dab28902","modified":1590408109416},{"_id":"themes/yun/layout/index.pug","hash":"72ce130efc06d107d5244e54d62bd533abe88bff","modified":1590408109416},{"_id":"themes/yun/layout/links.pug","hash":"ce9fcdd9a1bd46623e4440aabe2a70be4910253a","modified":1590408109417},{"_id":"themes/yun/layout/page.pug","hash":"053f84c82b3c744eb00b80d45e44669276ae021e","modified":1590408109417},{"_id":"themes/yun/layout/post.pug","hash":"d3b15b34ff8a546722d99f88da607ea578d9ab44","modified":1590408109417},{"_id":"themes/yun/layout/tag.pug","hash":"25d78324e3b293f2fcd23b81c3f0e052b2a36210","modified":1590408109418},{"_id":"themes/yun/source/Yun.png","hash":"b8ae426fa5dd7579d23d189c222641d812c51c0a","modified":1590408109421},{"_id":"themes/yun/source/yun-favicon.ico","hash":"80866f3f79840bd9426a8fee84e3ea19ef20c88b","modified":1590408109458},{"_id":"themes/yun/source/yun.svg","hash":"640f53d7a83557d91ae19b8436c7e5f19da64e3d","modified":1590408109459},{"_id":"themes/yun/docs/.vuepress/config.js","hash":"3a5de34e19592e535dc7d22f0ba118512ba7635e","modified":1590408109386},{"_id":"themes/yun/docs/en/README.md","hash":"5c8ae9a27daea4f11a569e95c0221732383ba9b7","modified":1590408109388},{"_id":"themes/yun/docs/en/about.md","hash":"1b71b8d738902c31de70943f021a8dc6aa208602","modified":1590408109389},{"_id":"themes/yun/docs/guide/README.md","hash":"61e43c3444a0eb83e9571e6725cf605ed3813ee0","modified":1590408109393},{"_id":"themes/yun/docs/guide/Todo.md","hash":"9baefd7a58bf26f9d0ce71ed5e26d1b4a5d02783","modified":1590408109393},{"_id":"themes/yun/docs/guide/icon.md","hash":"34ee6247384a4db1cb5fdfeee437b3a29e60ffb6","modified":1590408109395},{"_id":"themes/yun/docs/guide/config.md","hash":"67821fefabe8783cbc12e50507baf278a774a9b3","modified":1590408109394},{"_id":"themes/yun/docs/guide/additional-package-support.md","hash":"86ad625ab3538701fb122946ff8b75abbc7217af","modified":1590408109393},{"_id":"themes/yun/docs/guide/faq.md","hash":"f87a095156185a6cc665c80029cfe652e5f647ef","modified":1590408109394},{"_id":"themes/yun/docs/guide/page.md","hash":"ca35b205d9fca0cb40fcb87a9194489d257b8731","modified":1590408109395},{"_id":"themes/yun/docs/guide/third-party-support.md","hash":"446031e4ab4f421d7f1cd104c043513c6108568c","modified":1590408109395},{"_id":"themes/yun/layout/_mixin/icon.pug","hash":"18ee2c33b4e6ef71c31d7955f9a20789fe6aa9e4","modified":1590408109398},{"_id":"themes/yun/layout/_mixin/index.pug","hash":"3c6964b4594e842e2aefcd316bdd0184750b40f1","modified":1590408109398},{"_id":"themes/yun/layout/_mixin/page-header.pug","hash":"4110b4c87a09d67a2edf86321a1e84ef88572d09","modified":1590408109399},{"_id":"themes/yun/layout/_mixin/post-collapse.pug","hash":"f4437f71f0ccc511e4cfa5de4257fd703f46530b","modified":1590408109399},{"_id":"themes/yun/layout/_partial/background.pug","hash":"209a66219f24749677522931bcf73462510e21fa","modified":1590408109399},{"_id":"themes/yun/layout/_partial/banner.pug","hash":"391cf2b3344d513fc3ad026bf2bd8f4ed7e30958","modified":1590408109399},{"_id":"themes/yun/layout/_partial/footer.pug","hash":"ae84ed01dc0f0419714f8e581e58706da6a92687","modified":1590408109400},{"_id":"themes/yun/layout/_partial/head.pug","hash":"f9f4fac30534d4a23b7d5f2306fd7442a31e227a","modified":1590408109400},{"_id":"themes/yun/layout/_partial/layout.pug","hash":"45757edbb2dd13c6eae6e43c893a4ebcd847a306","modified":1590408109400},{"_id":"themes/yun/layout/_partial/pagination.pug","hash":"b55b6a99b105447b4a6c982fa258680a2a9a34a9","modified":1590408109401},{"_id":"themes/yun/layout/_partial/recent-posts.pug","hash":"0f7eb2abb0479c83c917aa51091b71b2493d9a25","modified":1590408109403},{"_id":"themes/yun/layout/_partial/sidebar.pug","hash":"f365b6dd2842de8b31c4a6ada8ced82f39c91123","modified":1590408109403},{"_id":"themes/yun/layout/_third-party/aplayer.pug","hash":"93d2be35ae9731056563d3cbdbf7b13b1933c80c","modified":1590408109407},{"_id":"themes/yun/layout/_third-party/cdn.pug","hash":"ef602e091b2f8595d3198106d05065b85de773cf","modified":1590408109407},{"_id":"themes/yun/layout/_third-party/katex.pug","hash":"782255a8ed7fa4e396b2df0313e541d445b0d777","modified":1590408109410},{"_id":"themes/yun/layout/_third-party/lightgallery.pug","hash":"c1596d4e3172e44454624b47cb8237ae9c6bc1e4","modified":1590408109410},{"_id":"themes/yun/layout/_third-party/pjax.pug","hash":"f72620c6b56183d1061295b881b4738eeb49ab7f","modified":1590408109411},{"_id":"themes/yun/layout/_widget/aplayer.pug","hash":"daf51021671e02ce7dbc7d36bf065f09928ad218","modified":1590408109411},{"_id":"themes/yun/layout/_widget/back-to-top.pug","hash":"d5a24af60ce7d1283f10878ca1e1c88d0e09e4cd","modified":1590408109412},{"_id":"themes/yun/layout/_widget/cloud.pug","hash":"eb3185db30fef0303b667e50b96a7d85edda8006","modified":1590408109412},{"_id":"themes/yun/layout/_widget/index.pug","hash":"96d4a92e258688b17328d4470bacaabaccace67c","modified":1590408109412},{"_id":"themes/yun/layout/_widget/mourn.pug","hash":"7b94847cf8b456558c6b91312092d269586831e1","modified":1590408109412},{"_id":"themes/yun/layout/_widget/notice.pug","hash":"346ada39ba6586cb631ac5b1f129683f3ee015f4","modified":1590408109414},{"_id":"themes/yun/layout/_widget/say.pug","hash":"80da86582d27c1078b8a6096c78ad11b462472ee","modified":1590408109414},{"_id":"themes/yun/layout/_widget/tag-cloud.pug","hash":"9c818d42a4310151c43336e895509fba4e29196d","modified":1590408109415},{"_id":"themes/yun/scripts/events/config.js","hash":"f57208b6fa7bc068ef0e9adb3a76b1ba63879f8c","modified":1590408109418},{"_id":"themes/yun/scripts/events/index.js","hash":"5e9e1ea1d196e3eb31c288060a62345d34984283","modified":1590408109419},{"_id":"themes/yun/scripts/filters/index.js","hash":"b0ec6551d78076c55f516bc04544f258c564aa62","modified":1590408109419},{"_id":"themes/yun/scripts/helpers/encrypt.js","hash":"bad32d8e5f37bd07d5c61a36a74372875a8c3047","modified":1590408109419},{"_id":"themes/yun/scripts/helpers/engine.js","hash":"dda789bf09c0fb0e87a257a0b5f0cb9cb1fbee5a","modified":1590408109420},{"_id":"themes/yun/scripts/helpers/index.js","hash":"a08f8643c80b27b892ea1e27c428298d712ab178","modified":1590408109420},{"_id":"themes/yun/scripts/helpers/yun-config.js","hash":"31fc0a38348dc95d7d505da7dd6650a7dab981dc","modified":1590408109420},{"_id":"themes/yun/source/css/hexo-theme-yun.styl","hash":"fdbcb870e06d21c50372e624d4aa91d246702f5a","modified":1590408109435},{"_id":"themes/yun/source/data/sentences.json","hash":"9ac2f33d4af28f7dac62ffa1bd3b7e5e53d54e93","modified":1590408109436},{"_id":"themes/yun/source/js/hexo-theme-yun.js","hash":"6d3ab3ecc775f0e49ee864b1d9e071793c25a477","modified":1590408109436},{"_id":"themes/yun/source/js/pjax.js","hash":"fc8eb1e16b8b7d73dabd0b5d69f3d83ed578f3e2","modified":1590408109436},{"_id":"themes/yun/source/js/say.js","hash":"b39c0a0be7fe77713a2a40cf36c6fa1fc9fdd554","modified":1590408109437},{"_id":"themes/yun/source/js/gallery-decrypt.js","hash":"893047d65e3696f49f84150832a41e46ab29d9d2","modified":1590408109436},{"_id":"themes/yun/source/js/sidebar.js","hash":"97f1bf5c4ad87a0ab22d5c0a6086b27b8c87d411","modified":1590408109438},{"_id":"themes/yun/source/js/utils.js","hash":"40667a17cd9bd3576b3a1959c25440231d0f1e61","modified":1590408109439},{"_id":"themes/yun/docs/.vuepress/styles/index.styl","hash":"cac594929f2331640666e50d6e4533d5718abaf9","modified":1590408109386},{"_id":"themes/yun/docs/.vuepress/styles/palette.styl","hash":"25a57ac820b471bc91c151347a1c1d0cc62767d6","modified":1590408109387},{"_id":"themes/yun/docs/en/guide/README.md","hash":"257ae08a8abaf64caf8230d92344f4cc568be819","modified":1590408109389},{"_id":"themes/yun/docs/en/guide/Todo.md","hash":"4eaefddef5514de480846be4cb30f240361587cd","modified":1590408109389},{"_id":"themes/yun/docs/en/guide/icon.md","hash":"3d3fa6cbf9c60140c9ea8c2b85dea60d0731e4c4","modified":1590408109391},{"_id":"themes/yun/docs/en/guide/additional-package-support.md","hash":"731a14e4273bbe1bec622edf37ad2552e995db44","modified":1590408109390},{"_id":"themes/yun/docs/en/guide/config.md","hash":"fe3034a9dbd52554d9d5370d7cfb9a0772379dd5","modified":1590408109390},{"_id":"themes/yun/docs/en/guide/page.md","hash":"1114e38a96442a6179161848a2f1e8f9070e74d2","modified":1590408109392},{"_id":"themes/yun/docs/en/guide/third-party-support.md","hash":"c47f3a550df3a3aff7bb3d158cbe68aa249c104d","modified":1590408109392},{"_id":"themes/yun/docs/en/guide/faq.md","hash":"4adca9209ee319a687b00a2f1a1656591d2f5ab7","modified":1590408109391},{"_id":"themes/yun/layout/_partial/post/post-classify.pug","hash":"b4c86904eecf74e1f34cdc42e4fed6ec3a954444","modified":1590408109401},{"_id":"themes/yun/layout/_partial/post/post-edit.pug","hash":"2b7d4c210815ddc63c5b6fc5b5fd6a348e75093f","modified":1590408109402},{"_id":"themes/yun/layout/_partial/post/post-meta.pug","hash":"5203249e547c85e7dd5d880b3252fedc1bc3d905","modified":1590408109402},{"_id":"themes/yun/layout/_partial/post/post-nav.pug","hash":"ea351236ab82ff43b66272de1baade70d868131f","modified":1590408109402},{"_id":"themes/yun/layout/_partial/post/post-copyright.pug","hash":"b01c70d2fe59bc8cbdb82c626fc679663f1104cd","modified":1590408109401},{"_id":"themes/yun/layout/_partial/post/post-schema.pug","hash":"ec85079174da20c9f608b142e7fda2c28a9b1dac","modified":1590408109403},{"_id":"themes/yun/layout/_partial/post/reward.pug","hash":"d4b9081fc4b2bf3bc364511cbc2eec5136dcc720","modified":1590408109403},{"_id":"themes/yun/layout/_third-party/adsense/google-adsense.pug","hash":"c8ba58ed3d2895d0eb7ad913f3919256f7fa8490","modified":1590408109406},{"_id":"themes/yun/layout/_third-party/analytics/busuanzi.pug","hash":"d606071c4c4f1e0df9f55fa6c8e248eb2591c484","modified":1590408109406},{"_id":"themes/yun/layout/_third-party/analytics/google-analytics.pug","hash":"581497ecca3e002ddf017a5dea1c66f237a98f0c","modified":1590408109407},{"_id":"themes/yun/layout/_third-party/comments/disqus.pug","hash":"387e65a6292c4fd6d866e5dc14e3a95fa39782a5","modified":1590408109408},{"_id":"themes/yun/layout/_third-party/comments/disqusjs.pug","hash":"a73d062565c3af29083371de7d4665fb82a05358","modified":1590408109408},{"_id":"themes/yun/layout/_third-party/comments/gitalk.pug","hash":"938787a70bb8431ee02e98f45fcbc4fbd6502e3d","modified":1590408109408},{"_id":"themes/yun/layout/_third-party/comments/github-issues.pug","hash":"2772d0e44da12c261e695e35f265af05f2cd75dc","modified":1590408109409},{"_id":"themes/yun/layout/_third-party/comments/index.pug","hash":"c0f58f204d854e9234d8983396ea3a4a7894e0b9","modified":1590408109409},{"_id":"themes/yun/layout/_third-party/comments/livere.pug","hash":"f565efde0ee74d69555e8b5c959c96e0f1ae61fb","modified":1590408109409},{"_id":"themes/yun/layout/_third-party/comments/minivaline.pug","hash":"821618e31ab70761a3e0d26c596ee402131d00ee","modified":1590408109409},{"_id":"themes/yun/layout/_third-party/comments/valine.pug","hash":"faa3e75ba743eedaaa26c8e9b8fe05c68596ded9","modified":1590408109410},{"_id":"themes/yun/layout/_third-party/seo/baidu-push.pug","hash":"5b08e856a6c75a9b4a5aafccf52b1b418dac0e38","modified":1590408109411},{"_id":"themes/yun/layout/_widget/search/algolia-search.pug","hash":"e15f78a38d386d57c1a19b4a760115bd14edbb0d","modified":1590408109414},{"_id":"themes/yun/layout/_widget/search/index.pug","hash":"a1dd964e05b5412c3fc446d80576e51b37926b87","modified":1590408109415},{"_id":"themes/yun/layout/_widget/search/local-search.pug","hash":"d2ba600623043b2410f379fd7ba3cc75329ff408","modified":1590408109415},{"_id":"themes/yun/source/css/_components/button.styl","hash":"afc6d348f837e87c25f65904d3d2cfa56e332d74","modified":1590408109422},{"_id":"themes/yun/source/css/_components/card.styl","hash":"8e959430b3c05ef8dfb9143c05fadf1ce247a9c7","modified":1590408109422},{"_id":"themes/yun/source/css/_components/menu.styl","hash":"c6d35dbc05af9c672ebaca1d62f79f76fbfa9a38","modified":1590408109423},{"_id":"themes/yun/source/css/_components/scrollbar.styl","hash":"3e332ae27d3aeab1496079cd509649ceccc0f4b5","modified":1590408109425},{"_id":"themes/yun/source/css/_components/ui.styl","hash":"82b8f4ad20baa5b8173b84fd8381cbf89338428b","modified":1590408109427},{"_id":"themes/yun/source/css/_extend/albums.styl","hash":"b0f703fc6e279844b75797edf714cce2135704ed","modified":1590408109428},{"_id":"themes/yun/source/css/_extend/girls.styl","hash":"0b0f22213c02131bb12392dd804d1eea5fb6b25b","modified":1590408109428},{"_id":"themes/yun/source/css/_global/index.styl","hash":"86d224d552b85ad5963a358913c2f41ee9f4b464","modified":1590408109428},{"_id":"themes/yun/source/css/_global/reset.styl","hash":"f253d07739ef1b6b31eed2c205413df51bf13083","modified":1590408109429},{"_id":"themes/yun/source/css/_layout/banner.styl","hash":"eeb4da5108348b0e06fa1a0a8639e3f966f57615","modified":1590408109429},{"_id":"themes/yun/source/css/_layout/footer.styl","hash":"d2637ffc451bc8f2667495a19528f0b7786c361d","modified":1590408109429},{"_id":"themes/yun/source/css/_layout/grid.styl","hash":"21155945048d3395051175cd0e842b7b642dbc5d","modified":1590408109430},{"_id":"themes/yun/source/css/_layout/links.styl","hash":"f1b03e0da25b79741be5c0455c08c29c6e8e6a54","modified":1590408109430},{"_id":"themes/yun/source/css/_layout/main.styl","hash":"96a036061872efe46c0876b22d8803fab6ccb6ce","modified":1590408109430},{"_id":"themes/yun/source/css/_layout/page.styl","hash":"652b2e4417b5ab7f333953e29f1cf53ceca6611f","modified":1590408109430},{"_id":"themes/yun/source/css/_layout/pagination.styl","hash":"ba775b5bd3e6c35118fecceb286d86ae5293e668","modified":1590408109431},{"_id":"themes/yun/source/css/_layout/post.styl","hash":"f442a455618c63e68dfb86847ab4b1b9152b4e09","modified":1590408109431},{"_id":"themes/yun/source/css/_mixins/base.styl","hash":"9a227ede3cd5a9829b31f6450dd37c21e00bdaf1","modified":1590408109431},{"_id":"themes/yun/source/css/_mixins/helper.styl","hash":"80fcaab47d6a1d202745342e3fc3ee5bf18f39b2","modified":1590408109432},{"_id":"themes/yun/source/css/_variables/_base.styl","hash":"d94e4e978e4d9cdb361a906f2f417787ed86f86a","modified":1590408109432},{"_id":"themes/yun/source/css/_variables/_colors.styl","hash":"1f71dd5fc633ed5b4f04392bb0d96bf358ad435c","modified":1590408109432},{"_id":"themes/yun/source/css/_widget/back-to-top.styl","hash":"ef5911aadaef439021823917b19eaef85e426fd2","modified":1590408109433},{"_id":"themes/yun/source/css/_widget/comment.styl","hash":"31c27799dfad61c98e872e79b4411a5c568ff793","modified":1590408109433},{"_id":"themes/yun/source/css/_widget/index.styl","hash":"640fea56a013989f5878334d09f3f9b716865c8c","modified":1590408109433},{"_id":"themes/yun/source/css/_widget/say.styl","hash":"36b6680657267e1223bb74b04568a34563887bff","modified":1590408109434},{"_id":"themes/yun/source/css/_widget/notice.styl","hash":"8b1ca54535311f38b91433e5beadbeed02ecd28b","modified":1590408109434},{"_id":"themes/yun/source/js/ui/banner.js","hash":"17573fe09c65f02dbe5a785c8abe1dbe2f2bfaa6","modified":1590408109438},{"_id":"themes/yun/source/js/ui/fireworks.js","hash":"01e7b0fce3891f88b5f274f610e5e3ac50d1ac34","modified":1590408109439},{"_id":"themes/yun/source/js/search/algolia-search.js","hash":"a53109a5d3ac566050e0897765d24574e3e7e860","modified":1590408109437},{"_id":"themes/yun/source/js/search/local-search.js","hash":"39bb514361a7c56dea96310fe79d6b53440de241","modified":1590408109438},{"_id":"themes/yun/source/css/_components/post/post-card.styl","hash":"b37640d07040bac74bc37d10638f7a6a6e886098","modified":1590408109423},{"_id":"themes/yun/source/css/_components/post/post-collapse.styl","hash":"b4177dd52f17eb289ebaa2b82d9bc10897a53629","modified":1590408109424},{"_id":"themes/yun/source/css/_components/post/post-header.styl","hash":"3be5d23cda0020365dbfb39ca35eb00aef65e7cd","modified":1590408109424},{"_id":"themes/yun/source/css/_components/post/post-markdown.styl","hash":"87655e0cb46a05cb41c8cf2cd5a0ea249661fa9a","modified":1590408109424},{"_id":"themes/yun/source/css/_components/post/post-nav.styl","hash":"5143932ebfa835d168a766d6770f6239c2b516e8","modified":1590408109424},{"_id":"themes/yun/source/css/_components/post/post-reward.styl","hash":"508fe878ef756ebb38bc4930103b03b949df8ee4","modified":1590408109425},{"_id":"themes/yun/source/css/_components/post/post-table.styl","hash":"d46aaf30fec5a49d1cb37d21ee9a3a03fe24aac1","modified":1590408109425},{"_id":"themes/yun/source/css/_components/sidebar/hamburger.styl","hash":"0fa240e8a71fdad14d3fd6b3fd49cf697d4c8153","modified":1590408109426},{"_id":"themes/yun/source/css/_components/sidebar/sidebar-nav.styl","hash":"24e0782c0ef99fd50b7eb5fe6e2ce2230bc97964","modified":1590408109426},{"_id":"themes/yun/source/css/_components/sidebar/sidebar-toc.styl","hash":"b680aa6e74e2918c9d9fa94ce9088f472a73e708","modified":1590408109426},{"_id":"themes/yun/source/css/_components/sidebar/sidebar.styl","hash":"42b719a3efb284ba886c64aa4020301c1146f191","modified":1590408109427},{"_id":"themes/yun/source/css/_components/sidebar/site-overview.styl","hash":"286ede113625b7087ca7bdbf967b3ddcef87e56c","modified":1590408109427},{"_id":"themes/yun/source/css/_widget/search/algolia-search.styl","hash":"1075be47f725d513c1b9db3233c7458b382e9b13","modified":1590408109434},{"_id":"themes/yun/source/css/_widget/search/local-search.styl","hash":"06468fd1f85390134d4cf034dc5abcc114018257","modified":1590408109435},{"_id":"themes/yun/source/css/_widget/search/index.styl","hash":"243ec574c6777e015455856e6d60c0e5bc8e0f76","modified":1590408109435},{"_id":"themes/yun/source/kirito.png","hash":"b31e47cba5984ffa7fc6257c6f363716dc66efb1","modified":1590408109442},{"_id":"themes/yun/source/yang.jpg","hash":"63aa7525e1697a0fe02204f90e723f55cc931efc","modified":1590408109458},{"_id":"themes/yun/source/yang-favicon.png","hash":"7fa03977f80bb51cb6ea188f011634eeaf4d11e6","modified":1590408109452},{"_id":"public/about/site.html","hash":"cd169663bf5ac630f6b4ead4b4aa92d79373d187","modified":1592207083530},{"_id":"public/about/index.html","hash":"0e851ecd905883599201f88e82fdfa318965325d","modified":1592207083530},{"_id":"public/albums/index.html","hash":"a6ba049308a1a3a2e831dbb4b19046e14b0a36eb","modified":1592207083530},{"_id":"public/girls/index.html","hash":"3c56d1fbd8da1fe05a13c9750832fafe8f6a91a6","modified":1592207083530},{"_id":"public/links/index.html","hash":"140fe38db99cf21fff0cdece16aa6baa72b4720b","modified":1592207083530},{"_id":"public/categories/index.html","hash":"3f8d4d76be4553e48d60735dc6de528ebc76f47e","modified":1592207083530},{"_id":"public/2020/06/08/08-python-notes/index.html","hash":"d0fed2c01a39103ea4950d3787158a0c6ae6febd","modified":1592207083530},{"_id":"public/categories/笔记/index.html","hash":"d72cb1ac6c3bcdef7ecc0408be92d032e6fe09be","modified":1592207083530},{"_id":"public/categories/Articles/index.html","hash":"6369edf6f73dc4f156aeb48617b578e0e13a4e58","modified":1592207083530},{"_id":"public/archives/index.html","hash":"22a834890c3b163eb023b26ce9aafd4a8e2c06b7","modified":1592207083530},{"_id":"public/archives/2020/index.html","hash":"2563b7abb24acf44d7e513a6e66342e4726c2994","modified":1592207083530},{"_id":"public/archives/2020/05/index.html","hash":"dcbd511569d2c3ba6fd625003a347351ff580855","modified":1592207083530},{"_id":"public/archives/2020/06/index.html","hash":"586e264e39a85ce58afb32ef3cacdd89ae7f50a8","modified":1592207083530},{"_id":"public/tags/firebase/index.html","hash":"45f5aff2e596debdab6b106b367d0ef00eb7a509","modified":1592207083530},{"_id":"public/tags/database/index.html","hash":"e188e55f2a43207ff88dee7f8f8ad7a8aae96ccf","modified":1592207083530},{"_id":"public/tags/web/index.html","hash":"2718cc35fa9520d503147b8f728477c4cd825e1c","modified":1592207083530},{"_id":"public/tags/firestore/index.html","hash":"2c12da8f651e81dc83028c8f90dccc74865ffb85","modified":1592207083530},{"_id":"public/tags/cloudstorage/index.html","hash":"a8c3f66d79bfa23bd19e7f144bdf2ace8b1ca4ca","modified":1592207083530},{"_id":"public/tags/笔记/index.html","hash":"8c099f3caa95a5d52b25f53ef76c267f6ea65c42","modified":1592207083530},{"_id":"public/tags/git/index.html","hash":"e2e8ed5c6defa4e098be0ba471572d21735f0faf","modified":1592207083530},{"_id":"public/tags/javascript/index.html","hash":"3eaf5fecaf836c0e0508eddca5b5e93ec62f23f6","modified":1592207083530},{"_id":"public/tags/react/index.html","hash":"d96388d5827e301c5b8b5add77a6539f61178035","modified":1592207083530},{"_id":"public/tags/react-router/index.html","hash":"9fab573e669d1847f24e523896a870da4ef29ccd","modified":1592207083530},{"_id":"public/tags/framework/index.html","hash":"221af43bc326b849e701a35d55a732691258020f","modified":1592207083530},{"_id":"public/tags/javascirpt/index.html","hash":"60fca9b51300ca30147a011e93c4606744e4d405","modified":1592207083530},{"_id":"public/tags/front-end/index.html","hash":"d8b52d075e5a9f3c16796ed1a795bba713b738a4","modified":1592207083530},{"_id":"public/tags/notes/index.html","hash":"0880a50356371a245f580b55427f0427a36acd0f","modified":1592207083530},{"_id":"public/tags/JavaScript/index.html","hash":"285263710823860e232f9ca94cc17c7026e8741c","modified":1592207083530},{"_id":"public/tags/python/index.html","hash":"9d531b6aaf9cf3eeaca757f4236801aaea979442","modified":1592207083530},{"_id":"public/tags/Sass/index.html","hash":"16d8d8e87f4b4524bb88f71469c661647e0ecc70","modified":1592207083530},{"_id":"public/tags/css/index.html","hash":"e38ec1258ff35cda0ab1bdc0ec26dce3a520a27d","modified":1592207083530},{"_id":"public/tags/note/index.html","hash":"cf0f5b402c6c5a46e5fff58d8272617cda43476c","modified":1592207083530},{"_id":"public/tags/tsx/index.html","hash":"e3f47eb392af9093c7df3b2bc7fc8055099f0512","modified":1592207083530},{"_id":"public/tags/typescript/index.html","hash":"435e3d7450689ff4366dcd53cad2ae395a9b745f","modified":1592207083530},{"_id":"public/tags/npm/index.html","hash":"988b261463553dbd231ccdd47393b7dc8fdb352d","modified":1592207083530},{"_id":"public/2020/06/14/10-your-first-npm-package/index.html","hash":"9ff6f32394357e77fe3040f95dc718db839ba0a0","modified":1592207083530},{"_id":"public/2020/06/12/09-typescript/index.html","hash":"7b8478f3b8365c5441fe1c493865e1f0257c9871","modified":1592207083530},{"_id":"public/2020/06/08/07-react-notes/index.html","hash":"2bd156bbd6588784a8c7b0e558ca790f631a53ea","modified":1592207083530},{"_id":"public/2020/06/08/06-sass-cheat-sheet/index.html","hash":"44464a299963d3ce55a052b5ab1ad48214ecc982","modified":1592207083530},{"_id":"public/2020/06/08/05-javascript/index.html","hash":"672e2ce557c0822918d51f51c49a223a0860a2ea","modified":1592207083530},{"_id":"public/2020/06/02/04-react-css-transition/index.html","hash":"cdbeeec15c01c68081a887c1efdec87c0c6d1223","modified":1592207083530},{"_id":"public/2020/05/28/03-js-event-target/index.html","hash":"b872a2f431b47acd584f73781b799712376d81a4","modified":1592207083530},{"_id":"public/2020/05/25/02-git-command/index.html","hash":"007b6631cece2c32b77bda8dc6a247c030a6f948","modified":1592207083530},{"_id":"public/2020/05/23/01-firebase-note/index.html","hash":"e3ffe0a531371c31986ee59e57e2e6265a0681e8","modified":1592207083530},{"_id":"public/index.html","hash":"adaccb1dd2d40458f2b96313b2d0bf69bd7dcb8c","modified":1592207083530},{"_id":"public/tags/node/index.html","hash":"c3e5a0eaa220e6735537b3e361d2b8fa662352b1","modified":1592207083530},{"_id":"public/Yun.png","hash":"b8ae426fa5dd7579d23d189c222641d812c51c0a","modified":1592207083530},{"_id":"public/yun.svg","hash":"640f53d7a83557d91ae19b8436c7e5f19da64e3d","modified":1592207083530},{"_id":"public/yun-favicon.ico","hash":"80866f3f79840bd9426a8fee84e3ea19ef20c88b","modified":1592207083530},{"_id":"public/css/prism-duotone-dark.css","hash":"77e93ecd6bc9648e1f00432b3770f18dbcf6aa28","modified":1592207083530},{"_id":"public/data/sentences.json","hash":"e4c057beac39fab25fd50ccd2f08ddb59cd42eb7","modified":1592207083530},{"_id":"public/js/hexo-theme-yun.js","hash":"a7ead628335524a6cd0aee0ce42e3fce76e35b9e","modified":1592207083530},{"_id":"public/js/gallery-decrypt.js","hash":"ca4ef5872c326944645c9af0dec273af3c33f211","modified":1592207083530},{"_id":"public/js/say.js","hash":"fb33bdeb4f54e1437aa8c652c403e6529cad7606","modified":1592207083530},{"_id":"public/js/pjax.js","hash":"f61ac34cc2fb99ed53c4feb9a46500dfbd525e24","modified":1592207083530},{"_id":"public/js/utils.js","hash":"a1b8a0a1e3dd980a6f56c8dc04edbbe6799f69a6","modified":1592207083530},{"_id":"public/js/sidebar.js","hash":"068a893a78b65388c97dd2dc4d38f5acf9601e79","modified":1592207083530},{"_id":"public/js/ui/banner.js","hash":"465fec3955f6a2addfa026429c5df062c23859b1","modified":1592207083530},{"_id":"public/js/search/algolia-search.js","hash":"c5574f50fdb3410ddac133a3fd90fa20839c9656","modified":1592207083530},{"_id":"public/js/ui/fireworks.js","hash":"3b4e5e029a35f5d58a30a1fd2350e77241720674","modified":1592207083530},{"_id":"public/js/search/local-search.js","hash":"3c06972bfb70a496b2aaeeb6c57878fd226f80b7","modified":1592207083530},{"_id":"public/css/hexo-theme-yun.css","hash":"2c61a4de192733f7bd2b1f3d0af90217925de920","modified":1592207083530},{"_id":"public/kirito.png","hash":"b31e47cba5984ffa7fc6257c6f363716dc66efb1","modified":1592207083530},{"_id":"public/yang.jpg","hash":"63aa7525e1697a0fe02204f90e723f55cc931efc","modified":1592207083530},{"_id":"public/yang-favicon.png","hash":"7fa03977f80bb51cb6ea188f011634eeaf4d11e6","modified":1592207083530}],"Category":[{"name":"笔记","_id":"ckbg6zlf30004qoui0a7d2p7n"},{"name":"Articles","_id":"ckbg6zlfg000oqoui4m158tl7"}],"Data":[],"Page":[{"title":"关于博客","date":"2020-05-24T05:03:31.000Z","_content":"\n博客介绍","source":"about/site.md","raw":"---\ntitle: 关于博客\ndate: 2020-05-23 22:03:31\n---\n\n博客介绍","updated":"2020-05-25T12:01:49.328Z","path":"about/site.html","comments":1,"layout":"page","_id":"ckbg6zlf00001qoui3pnm5q8a","content":"<p>博客介绍</p>\n","site":{"data":{}},"excerpt":"","more":"<p>博客介绍</p>\n"},{"title":"关于","date":"2020-05-24T05:03:31.000Z","_content":"\n你好啊","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2020-05-23 22:03:31\n---\n\n你好啊","updated":"2020-05-25T12:01:49.327Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckbg6zlf20003qouib5g8gaz5","content":"<p>你好啊</p>\n","site":{"data":{}},"excerpt":"","more":"<p>你好啊</p>\n"},{"title":"albums","date":"2020-05-24T05:21:22.000Z","type":"albums","albums":[{"caption":"夕阳西下","url":"/albums/sunset.html","cover":"https://interactive-examples.mdn.mozilla.net/media/examples/elephant-660-480.jpg","desc":"我想起那天夕阳下的奔跑"}],"_content":"\n\n\n","source":"albums/index.md","raw":"---\ntitle: albums\ndate: 2020-05-23 22:21:22\ntype: albums\nalbums:\n  - caption: 夕阳西下\n    url: /albums/sunset.html\n    cover: https://interactive-examples.mdn.mozilla.net/media/examples/elephant-660-480.jpg\n    desc: 我想起那天夕阳下的奔跑\n---\n\n\n\n","updated":"2020-05-25T12:01:49.328Z","path":"albums/index.html","comments":1,"layout":"page","_id":"ckbg6zlg7002mqouiecyffth7","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"girls","title":"可爱的女孩子","banner":"<span title=\"大家都是我的天使！\">排名不分先后</span>","girls":[{"name":"名称","avatar":"头像图片链接","from":"出自什么作品","url":"人物百科链接","reason":"喜欢的理由"}],"_content":"","source":"girls/index.md","raw":"---\nlayout: girls\ntitle: 可爱的女孩子\nbanner: <span title=\"大家都是我的天使！\">排名不分先后</span>\ngirls:\n  - name: 名称\n    avatar: 头像图片链接\n    from: 出自什么作品\n    url: 人物百科链接\n    reason: 喜欢的理由\n---\n","date":"2020-05-25T12:01:49.329Z","updated":"2020-05-25T12:01:49.329Z","path":"girls/index.html","comments":1,"_id":"ckbg6zlg9002nqouihim10fud","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"links","title":"我的小伙伴们","date":"2020-05-23T20:06:06.000Z","keywords":"链接","description":"云游的小伙伴们","comments":1,"links":[{"url":"https://yunyoujun.cn","avatar":"https://cdn.jsdelivr.net/gh/YunYouJun/yunyoujun.github.io/images/avatar.jpg","name":"云游君","blog":"云游君的小站","desc":"All at sea.","color":"#0078e7","email":null}],"placeholder":"还没想好说些什么","tip":"友链加载中～如失败请刷新重试～","_content":"","source":"links/index.md","raw":"---\nlayout: links\ntitle: 我的小伙伴们\ndate: 2020-05-23 13:06:06\nkeywords: 链接\ndescription: 云游的小伙伴们\ncomments: true\nlinks:\n  - url: https://yunyoujun.cn\n    avatar: https://cdn.jsdelivr.net/gh/YunYouJun/yunyoujun.github.io/images/avatar.jpg\n    name: 云游君\n    blog: 云游君的小站\n    desc: All at sea.\n    color: \"#0078e7\" # 代表色\n    email: # 非必须\nplaceholder: 还没想好说些什么 # 默认对友链的描述\ntip: 友链加载中～如失败请刷新重试～\n---\n","updated":"2020-05-25T12:01:49.329Z","path":"links/index.html","_id":"ckbg6zlga002oqoui91da5hc1","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2020-05-24T05:02:51.000Z","comments":0,"type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2020-05-23 22:02:51\ncomments: false\ntype: categories\n---\n","updated":"2020-05-25T12:01:49.328Z","path":"categories/index.html","layout":"page","_id":"ckbg6zlge002pqouies5z9zgf","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Firebase Datbase","date":"2020-05-24T01:49:19.000Z","comments":0,"_content":"\n> 主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。\n\n<!-- more -->\n\n# Firestore\n\n## 更改文档的信息 Set\n\n`set`每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名\n\n```js\nconst db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user => {\n    db.collection(\"user\")\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})\n```\n\n## 更新文档的信息 Update\n\n如果要更改单个文档内容可以用`update`\n\n```js\ndb.collection('user').doc(user.uid).update({\n  Profile: profile_url,\n  Name: 'Yang',\n})\n```\n\n## 写入一个文档到用户 .add()\n\n以下代码会写入一个文档(随机生成`uid`)到`Expense`的集合中，\n\n```js\nlet docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\").add(docData)\n```\n\n> 写入的时候要注意 number 会自动转化为 string, 所以要先改格式`parseInt`再写入到对象里\n\n## 实时读取 onSnapShot\n\n### 单个文档侦查\n\n`onSnapShot`可以实时侦查并返回数据库文档的内容\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .onSnapShot((snap) => {\n    if (snap.data().count > 5) {\n      alert('超过5啦！')\n    }\n  })\n```\n\n### 集合实时侦查 change.type\n\n如果要实时侦查一个集合，需要添加判断条件`change.type`来判断是否文档是新添加的或者修改的。不然会一直循环（雾)\n\n```js\ndb.collection('chatRoom')\n  .orderBy('Date', 'desc')\n  .onSnapShot((snap) => {\n    snap.docChanges().forEach((change) => {\n      if (change.type == 'added') {\n        console.log('对新添加的文档操作')\n      } else if (change.type == 'modified') {\n        console.log('对被修改过的文档操作')\n      }\n    })\n  })\n```\n\n## 读取一个集合中的所有文档 .get()\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expenses')\n  .orderBy('Date', 'desc')\n  .get()\n  .then((query) => {\n    query.forEach((doc) => {\n      console.log(doc.data().Category)\n    })\n  })\n```\n\n## 删除一个集合中的所有文档\n\n一般用来 reset 用户数据之类的\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expense')\n  .get()\n  .then((querySnapShot) => {\n    querySnapShot.forEach((doc) => {\n      doc.ref\n        .delete()\n        .then(() => {\n          console.log('删除成功')\n        })\n        .catch((error) => {\n          console.log('错误', error)\n        })\n    })\n  })\n```\n\n# Cloud Storage\n\nCloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。\n\n## 上传图片\n\n```js\n   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(\"#profile-input\").prop(\"files\")[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) => snapshot.ref.getDownloadURL())\n        .then((url) => {\n          console.log(\"用户头像上传成功 链接为: \" + url)\n          firebase.auth().onAuthStateChanged((user) => {\n            db.collection(\"user\").doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }\n```\n","source":"_posts/01-firebase-note.md","raw":"---\ntitle: Firebase Datbase\ndate: 2020-05-23 18:49:19\ntags: [firebase, database, web, firestore, cloudstorage]\ncomments: false\ncategories: '笔记'\n# description: Firebase常用的一些例句和用法\n---\n\n> 主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。\n\n<!-- more -->\n\n# Firestore\n\n## 更改文档的信息 Set\n\n`set`每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名\n\n```js\nconst db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user => {\n    db.collection(\"user\")\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})\n```\n\n## 更新文档的信息 Update\n\n如果要更改单个文档内容可以用`update`\n\n```js\ndb.collection('user').doc(user.uid).update({\n  Profile: profile_url,\n  Name: 'Yang',\n})\n```\n\n## 写入一个文档到用户 .add()\n\n以下代码会写入一个文档(随机生成`uid`)到`Expense`的集合中，\n\n```js\nlet docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\").add(docData)\n```\n\n> 写入的时候要注意 number 会自动转化为 string, 所以要先改格式`parseInt`再写入到对象里\n\n## 实时读取 onSnapShot\n\n### 单个文档侦查\n\n`onSnapShot`可以实时侦查并返回数据库文档的内容\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .onSnapShot((snap) => {\n    if (snap.data().count > 5) {\n      alert('超过5啦！')\n    }\n  })\n```\n\n### 集合实时侦查 change.type\n\n如果要实时侦查一个集合，需要添加判断条件`change.type`来判断是否文档是新添加的或者修改的。不然会一直循环（雾)\n\n```js\ndb.collection('chatRoom')\n  .orderBy('Date', 'desc')\n  .onSnapShot((snap) => {\n    snap.docChanges().forEach((change) => {\n      if (change.type == 'added') {\n        console.log('对新添加的文档操作')\n      } else if (change.type == 'modified') {\n        console.log('对被修改过的文档操作')\n      }\n    })\n  })\n```\n\n## 读取一个集合中的所有文档 .get()\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expenses')\n  .orderBy('Date', 'desc')\n  .get()\n  .then((query) => {\n    query.forEach((doc) => {\n      console.log(doc.data().Category)\n    })\n  })\n```\n\n## 删除一个集合中的所有文档\n\n一般用来 reset 用户数据之类的\n\n```js\ndb.collection('user')\n  .doc(user.uid)\n  .collection('Expense')\n  .get()\n  .then((querySnapShot) => {\n    querySnapShot.forEach((doc) => {\n      doc.ref\n        .delete()\n        .then(() => {\n          console.log('删除成功')\n        })\n        .catch((error) => {\n          console.log('错误', error)\n        })\n    })\n  })\n```\n\n# Cloud Storage\n\nCloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。\n\n## 上传图片\n\n```js\n   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(\"#profile-input\").prop(\"files\")[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) => snapshot.ref.getDownloadURL())\n        .then((url) => {\n          console.log(\"用户头像上传成功 链接为: \" + url)\n          firebase.auth().onAuthStateChanged((user) => {\n            db.collection(\"user\").doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }\n```\n","slug":"01-firebase-note","published":1,"updated":"2020-06-09T05:46:53.960Z","layout":"post","photos":[],"link":"","_id":"ckbg6zleu0000qoui40iffwfm","content":"<blockquote>\n<p>主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"Firestore\"><a href=\"#Firestore\" class=\"headerlink\" title=\"Firestore\"></a>Firestore</h1><h2 id=\"更改文档的信息-Set\"><a href=\"#更改文档的信息-Set\" class=\"headerlink\" title=\"更改文档的信息 Set\"></a>更改文档的信息 Set</h2><p><code>set</code>每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">firestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nfirebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span>user <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token comment\" spellcheck=\"true\">//设置用户名和邮箱为注册时的内容</span>\n            name<span class=\"token punctuation\">:</span> user<span class=\"token punctuation\">.</span>displayName<span class=\"token punctuation\">,</span>\n            email<span class=\"token punctuation\">:</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n            merge<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"更新文档的信息-Update\"><a href=\"#更新文档的信息-Update\" class=\"headerlink\" title=\"更新文档的信息 Update\"></a>更新文档的信息 Update</h2><p>如果要更改单个文档内容可以用<code>update</code></p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  Profile<span class=\"token punctuation\">:</span> profile_url<span class=\"token punctuation\">,</span>\n  Name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"写入一个文档到用户-add\"><a href=\"#写入一个文档到用户-add\" class=\"headerlink\" title=\"写入一个文档到用户 .add()\"></a>写入一个文档到用户 .add()</h2><p>以下代码会写入一个文档(随机生成<code>uid</code>)到<code>Expense</code>的集合中，</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> docData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    Category<span class=\"token punctuation\">:</span> category\n    Value<span class=\"token punctuation\">:</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Date<span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">,</span>\n    Description<span class=\"token punctuation\">:</span> note\n<span class=\"token punctuation\">}</span>\n\ndb<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Expense\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>docData<span class=\"token punctuation\">)</span></code></pre>\n<blockquote>\n<p>写入的时候要注意 number 会自动转化为 string, 所以要先改格式<code>parseInt</code>再写入到对象里</p>\n</blockquote>\n<h2 id=\"实时读取-onSnapShot\"><a href=\"#实时读取-onSnapShot\" class=\"headerlink\" title=\"实时读取 onSnapShot\"></a>实时读取 onSnapShot</h2><h3 id=\"单个文档侦查\"><a href=\"#单个文档侦查\" class=\"headerlink\" title=\"单个文档侦查\"></a>单个文档侦查</h3><p><code>onSnapShot</code>可以实时侦查并返回数据库文档的内容</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">onSnapShot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>snap<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>snap<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>count <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'超过5啦！'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"集合实时侦查-change-type\"><a href=\"#集合实时侦查-change-type\" class=\"headerlink\" title=\"集合实时侦查 change.type\"></a>集合实时侦查 change.type</h3><p>如果要实时侦查一个集合，需要添加判断条件<code>change.type</code>来判断是否文档是新添加的或者修改的。不然会一直循环（雾)</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'chatRoom'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Date'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'desc'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">onSnapShot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>snap<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    snap<span class=\"token punctuation\">.</span><span class=\"token function\">docChanges</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">'added'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'对新添加的文档操作'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">'modified'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'对被修改过的文档操作'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"读取一个集合中的所有文档-get\"><a href=\"#读取一个集合中的所有文档-get\" class=\"headerlink\" title=\"读取一个集合中的所有文档 .get()\"></a>读取一个集合中的所有文档 .get()</h2><pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Expenses'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Date'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'desc'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    query<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Category<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"删除一个集合中的所有文档\"><a href=\"#删除一个集合中的所有文档\" class=\"headerlink\" title=\"删除一个集合中的所有文档\"></a>删除一个集合中的所有文档</h2><p>一般用来 reset 用户数据之类的</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Expense'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>querySnapShot<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    querySnapShot<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      doc<span class=\"token punctuation\">.</span>ref\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'删除成功'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'错误'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h1 id=\"Cloud-Storage\"><a href=\"#Cloud-Storage\" class=\"headerlink\" title=\"Cloud Storage\"></a>Cloud Storage</h1><p>Cloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。</p>\n<h2 id=\"上传图片\"><a href=\"#上传图片\" class=\"headerlink\" title=\"上传图片\"></a>上传图片</h2><pre class=\" language-js\"><code class=\"language-js\">   <span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">firestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> storageRef <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">storage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> file <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#profile-input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prop</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"files\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> metadata <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        contentType<span class=\"token punctuation\">:</span> file<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">let</span> task <span class=\"token operator\">=</span> storageRef<span class=\"token punctuation\">.</span><span class=\"token function\">child</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">,</span> metadata<span class=\"token punctuation\">)</span>\n      task\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>snapshot<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> snapshot<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span><span class=\"token function\">getDownloadURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"用户头像上传成功 链接为: \"</span> <span class=\"token operator\">+</span> url<span class=\"token punctuation\">)</span>\n          firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              Profile<span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n          <span class=\"token function\">setShow</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>主要列出常用的数据库方法。例如 Cloud firestore 实时侦察和读写数据，用户认证，更改筛选以及删除数据和 Storage 存储文件。</p>\n</blockquote>","more":"<h1 id=\"Firestore\"><a href=\"#Firestore\" class=\"headerlink\" title=\"Firestore\"></a>Firestore</h1><h2 id=\"更改文档的信息-Set\"><a href=\"#更改文档的信息-Set\" class=\"headerlink\" title=\"更改文档的信息 Set\"></a>更改文档的信息 Set</h2><p><code>set</code>每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名</p>\n<pre><code class=\"js\">const db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user =&gt; {\n    db.collection(&quot;user&quot;)\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})</code></pre>\n<h2 id=\"更新文档的信息-Update\"><a href=\"#更新文档的信息-Update\" class=\"headerlink\" title=\"更新文档的信息 Update\"></a>更新文档的信息 Update</h2><p>如果要更改单个文档内容可以用<code>update</code></p>\n<pre><code class=\"js\">db.collection(&#39;user&#39;).doc(user.uid).update({\n  Profile: profile_url,\n  Name: &#39;Yang&#39;,\n})</code></pre>\n<h2 id=\"写入一个文档到用户-add\"><a href=\"#写入一个文档到用户-add\" class=\"headerlink\" title=\"写入一个文档到用户 .add()\"></a>写入一个文档到用户 .add()</h2><p>以下代码会写入一个文档(随机生成<code>uid</code>)到<code>Expense</code>的集合中，</p>\n<pre><code class=\"js\">let docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(&quot;user&quot;).doc(user.uid).collection(&quot;Expense&quot;).add(docData)</code></pre>\n<blockquote>\n<p>写入的时候要注意 number 会自动转化为 string, 所以要先改格式<code>parseInt</code>再写入到对象里</p>\n</blockquote>\n<h2 id=\"实时读取-onSnapShot\"><a href=\"#实时读取-onSnapShot\" class=\"headerlink\" title=\"实时读取 onSnapShot\"></a>实时读取 onSnapShot</h2><h3 id=\"单个文档侦查\"><a href=\"#单个文档侦查\" class=\"headerlink\" title=\"单个文档侦查\"></a>单个文档侦查</h3><p><code>onSnapShot</code>可以实时侦查并返回数据库文档的内容</p>\n<pre><code class=\"js\">db.collection(&#39;user&#39;)\n  .doc(user.uid)\n  .onSnapShot((snap) =&gt; {\n    if (snap.data().count &gt; 5) {\n      alert(&#39;超过5啦！&#39;)\n    }\n  })</code></pre>\n<h3 id=\"集合实时侦查-change-type\"><a href=\"#集合实时侦查-change-type\" class=\"headerlink\" title=\"集合实时侦查 change.type\"></a>集合实时侦查 change.type</h3><p>如果要实时侦查一个集合，需要添加判断条件<code>change.type</code>来判断是否文档是新添加的或者修改的。不然会一直循环（雾)</p>\n<pre><code class=\"js\">db.collection(&#39;chatRoom&#39;)\n  .orderBy(&#39;Date&#39;, &#39;desc&#39;)\n  .onSnapShot((snap) =&gt; {\n    snap.docChanges().forEach((change) =&gt; {\n      if (change.type == &#39;added&#39;) {\n        console.log(&#39;对新添加的文档操作&#39;)\n      } else if (change.type == &#39;modified&#39;) {\n        console.log(&#39;对被修改过的文档操作&#39;)\n      }\n    })\n  })</code></pre>\n<h2 id=\"读取一个集合中的所有文档-get\"><a href=\"#读取一个集合中的所有文档-get\" class=\"headerlink\" title=\"读取一个集合中的所有文档 .get()\"></a>读取一个集合中的所有文档 .get()</h2><pre><code class=\"js\">db.collection(&#39;user&#39;)\n  .doc(user.uid)\n  .collection(&#39;Expenses&#39;)\n  .orderBy(&#39;Date&#39;, &#39;desc&#39;)\n  .get()\n  .then((query) =&gt; {\n    query.forEach((doc) =&gt; {\n      console.log(doc.data().Category)\n    })\n  })</code></pre>\n<h2 id=\"删除一个集合中的所有文档\"><a href=\"#删除一个集合中的所有文档\" class=\"headerlink\" title=\"删除一个集合中的所有文档\"></a>删除一个集合中的所有文档</h2><p>一般用来 reset 用户数据之类的</p>\n<pre><code class=\"js\">db.collection(&#39;user&#39;)\n  .doc(user.uid)\n  .collection(&#39;Expense&#39;)\n  .get()\n  .then((querySnapShot) =&gt; {\n    querySnapShot.forEach((doc) =&gt; {\n      doc.ref\n        .delete()\n        .then(() =&gt; {\n          console.log(&#39;删除成功&#39;)\n        })\n        .catch((error) =&gt; {\n          console.log(&#39;错误&#39;, error)\n        })\n    })\n  })</code></pre>\n<h1 id=\"Cloud-Storage\"><a href=\"#Cloud-Storage\" class=\"headerlink\" title=\"Cloud Storage\"></a>Cloud Storage</h1><p>Cloud storage 可以用于用户上传头像，然后存储在 firebase storage 分区。</p>\n<h2 id=\"上传图片\"><a href=\"#上传图片\" class=\"headerlink\" title=\"上传图片\"></a>上传图片</h2><pre><code class=\"js\">   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(&quot;#profile-input&quot;).prop(&quot;files&quot;)[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) =&gt; snapshot.ref.getDownloadURL())\n        .then((url) =&gt; {\n          console.log(&quot;用户头像上传成功 链接为: &quot; + url)\n          firebase.auth().onAuthStateChanged((user) =&gt; {\n            db.collection(&quot;user&quot;).doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }</code></pre>"},{"title":"Git Notes","date":"2020-05-26T03:10:15.000Z","comments":0,"_content":"\n> 平时总结的一些 git command 以及常用的命令\n\n<!-- more -->\n\n# Command\n\n## 配置\n\n### 设置用户名到 Github Commit\n\n没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息\n\n`git config --global user.name`\n`git config --global user.email`\n\n> `global`将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码\n\n## 分支\n\n### 常用的一些指令\n\n```\ngit branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature\n```\n\n## Commit\n\n### 流程\n\nGitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码\n\n```\n递交内容到feature_home分支\ngit add .\ngit commit -m\"home component done\"\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了\n```\n","source":"_posts/02-git-command.md","raw":"---\ntitle: Git Notes\ndate: 2020-05-25 20:10:15\ntags: ['笔记', 'git']\ncomments: false\ncategories: '笔记'\n---\n\n> 平时总结的一些 git command 以及常用的命令\n\n<!-- more -->\n\n# Command\n\n## 配置\n\n### 设置用户名到 Github Commit\n\n没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息\n\n`git config --global user.name`\n`git config --global user.email`\n\n> `global`将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码\n\n## 分支\n\n### 常用的一些指令\n\n```\ngit branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature\n```\n\n## Commit\n\n### 流程\n\nGitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码\n\n```\n递交内容到feature_home分支\ngit add .\ngit commit -m\"home component done\"\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了\n```\n","slug":"02-git-command","published":1,"updated":"2020-06-09T05:46:57.006Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlf10002qouihviu3d3b","content":"<blockquote>\n<p>平时总结的一些 git command 以及常用的命令</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"Command\"><a href=\"#Command\" class=\"headerlink\" title=\"Command\"></a>Command</h1><h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><h3 id=\"设置用户名到-Github-Commit\"><a href=\"#设置用户名到-Github-Commit\" class=\"headerlink\" title=\"设置用户名到 Github Commit\"></a>设置用户名到 Github Commit</h3><p>没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息</p>\n<p><code>git config --global user.name</code><br><code>git config --global user.email</code></p>\n<blockquote>\n<p><code>global</code>将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码</p>\n</blockquote>\n<h2 id=\"分支\"><a href=\"#分支\" class=\"headerlink\" title=\"分支\"></a>分支</h2><h3 id=\"常用的一些指令\"><a href=\"#常用的一些指令\" class=\"headerlink\" title=\"常用的一些指令\"></a>常用的一些指令</h3><pre><code>git branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature</code></pre><h2 id=\"Commit\"><a href=\"#Commit\" class=\"headerlink\" title=\"Commit\"></a>Commit</h2><h3 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h3><p>Gitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码</p>\n<pre><code>递交内容到feature_home分支\ngit add .\ngit commit -m&quot;home component done&quot;\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了</code></pre>","site":{"data":{}},"excerpt":"<blockquote>\n<p>平时总结的一些 git command 以及常用的命令</p>\n</blockquote>","more":"<h1 id=\"Command\"><a href=\"#Command\" class=\"headerlink\" title=\"Command\"></a>Command</h1><h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><h3 id=\"设置用户名到-Github-Commit\"><a href=\"#设置用户名到-Github-Commit\" class=\"headerlink\" title=\"设置用户名到 Github Commit\"></a>设置用户名到 Github Commit</h3><p>没有设置 git user name 之前，所有的 commit 的都会显示为提交 commit 用户的 admin 名称。要想显示提交记录者的 github 信息，需要在用 git 前添加以下两条信息</p>\n<p><code>git config --global user.name</code><br><code>git config --global user.email</code></p>\n<blockquote>\n<p><code>global</code>将会用于所有 git。输入后会弹出 github 登录窗口。MacOS 会在 terminal 里输入用户名和密码</p>\n</blockquote>\n<h2 id=\"分支\"><a href=\"#分支\" class=\"headerlink\" title=\"分支\"></a>分支</h2><h3 id=\"常用的一些指令\"><a href=\"#常用的一些指令\" class=\"headerlink\" title=\"常用的一些指令\"></a>常用的一些指令</h3><pre><code>git branch 显示repo中所有的branch\ngit branch friend_feature 创建一个名为friend_feature的分支\ngit swicth feature_mainfeature 切换当前分支到feature_mainfeature\ngit merge feature_mainfeature 将feature_mainfeature与当前分支merge\ngit branch -d friend_feature 删除名为friend_feature的分支\ngit branch -m social_feature 更改当前分支名为social_feature</code></pre><h2 id=\"Commit\"><a href=\"#Commit\" class=\"headerlink\" title=\"Commit\"></a>Commit</h2><h3 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h3><p>Gitflow Workflow 一般为常用的开发方式。即每个功能有自己的分支，分支完成后先 merge 到 dev 分支上。如果 dev 分支没有任何问题就可以 merge 到 master 上。因为 master 分支是要确保为最稳定可用的代码</p>\n<pre><code>递交内容到feature_home分支\ngit add .\ngit commit -m&quot;home component done&quot;\ngit push origin feature_home\n\n切换到dev分支 并merge feature_home到dev分支上\ngit switch dev\ngit merge feature_home\ngit push origin dev\n\n之后创建一个pull request就可以了</code></pre>"},{"title":"event.target与event.currentTarget","date":"2020-05-29T03:10:15.000Z","comments":0,"_content":"\n> JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。\n\n<!-- more -->\n\n# event.target\n\nevent.target 一般我们可以用来绑定触发事件的元素。比如常用可以在`input`上来获取文本内容。\n\n比如我们有一个信息对象，可以用`event.target`来拿到`input`输入的值然后传到`useState`里\n\n```jsx\nfunction handleInput(event) {\n    const {name, value} = event.target\n    setInput(prevInput => {\n        ...prevInput,\n        [name, value]\n\n    })\n}\n\n```\n\n# event.currentTarget\n\n如果我们绑定的是一个元素，比如`<i>`或者`<button>`然后想返回触发事件元素的`id`或者`className`。\n\n我们可以用`event.currentTarget`因为这个可以监听当前被触发事件的元素\n\n```jsx\n;<i id=\"keyid\" onClick={handleEvent}></i>\n\nfunction handleEvent(event) {\n  console.log(event.currentTarget.id)\n}\n```\n\n> keyid\n","source":"_posts/03-js-event-target.md","raw":"---\ntitle: event.target与event.currentTarget\ndate: 2020-05-28 20:10:15\ntags: ['笔记', 'javascript']\ncomments: false\ncategories: '笔记'\n---\n\n> JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。\n\n<!-- more -->\n\n# event.target\n\nevent.target 一般我们可以用来绑定触发事件的元素。比如常用可以在`input`上来获取文本内容。\n\n比如我们有一个信息对象，可以用`event.target`来拿到`input`输入的值然后传到`useState`里\n\n```jsx\nfunction handleInput(event) {\n    const {name, value} = event.target\n    setInput(prevInput => {\n        ...prevInput,\n        [name, value]\n\n    })\n}\n\n```\n\n# event.currentTarget\n\n如果我们绑定的是一个元素，比如`<i>`或者`<button>`然后想返回触发事件元素的`id`或者`className`。\n\n我们可以用`event.currentTarget`因为这个可以监听当前被触发事件的元素\n\n```jsx\n;<i id=\"keyid\" onClick={handleEvent}></i>\n\nfunction handleEvent(event) {\n  console.log(event.currentTarget.id)\n}\n```\n\n> keyid\n","slug":"03-js-event-target","published":1,"updated":"2020-06-09T05:47:01.032Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlf50006qouibsp473b2","content":"<blockquote>\n<p>JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"event-target\"><a href=\"#event-target\" class=\"headerlink\" title=\"event.target\"></a>event.target</h1><p>event.target 一般我们可以用来绑定触发事件的元素。比如常用可以在<code>input</code>上来获取文本内容。</p>\n<p>比如我们有一个信息对象，可以用<code>event.target</code>来拿到<code>input</code>输入的值然后传到<code>useState</code>里</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">handleInput</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target\n    <span class=\"token function\">setInput</span><span class=\"token punctuation\">(</span>prevInput <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>prevInput<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span>\n\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1 id=\"event-currentTarget\"><a href=\"#event-currentTarget\" class=\"headerlink\" title=\"event.currentTarget\"></a>event.currentTarget</h1><p>如果我们绑定的是一个元素，比如<code>&lt;i&gt;</code>或者<code>&lt;button&gt;</code>然后想返回触发事件元素的<code>id</code>或者<code>className</code>。</p>\n<p>我们可以用<code>event.currentTarget</code>因为这个可以监听当前被触发事件的元素</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>keyid<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span>handleEvent<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>currentTarget<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>keyid</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>JavaScript event.target 和 event.currentTarget 的区别。最近在写一个 react 的项目中，想要通过点击一个元素来触发事件并获得该元素的 key。</p>\n</blockquote>","more":"<h1 id=\"event-target\"><a href=\"#event-target\" class=\"headerlink\" title=\"event.target\"></a>event.target</h1><p>event.target 一般我们可以用来绑定触发事件的元素。比如常用可以在<code>input</code>上来获取文本内容。</p>\n<p>比如我们有一个信息对象，可以用<code>event.target</code>来拿到<code>input</code>输入的值然后传到<code>useState</code>里</p>\n<pre><code class=\"jsx\">function handleInput(event) {\n    const {name, value} = event.target\n    setInput(prevInput =&gt; {\n        ...prevInput,\n        [name, value]\n\n    })\n}\n</code></pre>\n<h1 id=\"event-currentTarget\"><a href=\"#event-currentTarget\" class=\"headerlink\" title=\"event.currentTarget\"></a>event.currentTarget</h1><p>如果我们绑定的是一个元素，比如<code>&lt;i&gt;</code>或者<code>&lt;button&gt;</code>然后想返回触发事件元素的<code>id</code>或者<code>className</code>。</p>\n<p>我们可以用<code>event.currentTarget</code>因为这个可以监听当前被触发事件的元素</p>\n<pre><code class=\"jsx\">;&lt;i id=&quot;keyid&quot; onClick={handleEvent}&gt;&lt;/i&gt;\n\nfunction handleEvent(event) {\n  console.log(event.currentTarget.id)\n}</code></pre>\n<blockquote>\n<p>keyid</p>\n</blockquote>"},{"title":"利用React Transition Group实现平滑的动画","date":"2020-06-03T03:19:38.000Z","comments":0,"_content":"\n> 通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画\n\n<!-- more -->\n\n# 配置\n\n## 安装\n\n使用 Transition 之前我们需要安装 React Transition Group\n\nnpm 下安装\n`npm install react-transition-group --save`\n\nyarn 下安装\n`yarn add react-transition-group`\n\n## 导入\n\n在组件中导入`react-transition-group`\n\n`import {TransitionGroup, CSSTransition} from 'react-transition-group'`\n\n# 路由\n\n假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。\n\n```js\n<Switch location={location}>\n  <Route exact path=\"/setting/profile\">\n    <Profile />\n  </Route>\n  <Route path=\"/setting/theme\">\n    <Apparence />\n  </Route>\n  <Route path=\"/setting/language\">\n    <Language />\n  </Route>\n  <Route path=\"/setting/about\">\n    <About />\n  </Route>\n  <Route path=\"/setting/changelog\">\n    <ChangeLog />\n  </Route>\n</Switch>\n```\n\n然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层\n\n```js\n<TransitionGroup>\n  <CSSTransition\n    key={location.key}\n    timeout={{ enter: 1000, exit: 1000 }}\n    classNames=\"fade\"\n  ></CSSTransition>\n</TransitionGroup>\n```\n\nReact 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key\n`timeout`用来设置我们动画的时长。`classNames`用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了`fade`，我们在 css 中就可以写`fade-enter`, `fade-enter-active`, `fade-exit`, `fade-exit-active`来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。\n\n```css\n//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n.fade-enter {\n  opacity: 0;\n  transform: translateX(-50px);\n}\n\n//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n.fade-enter-active {\n  opacity: 1;\n  transform: translateX(0px);\n  transition: all 1s;\n}\n\n//退出动画起始设置为默认\n.fade-exit {\n  opacity: 1;\n  transform: translateX(0px);\n}\n\n//退出动画开始 向右偏移并透明度变为0\n.fade-exit-active {\n  opacity: 0;\n  transform: translateX(50px);\n  transition: all 1s;\n}\n```\n","source":"_posts/04-react-css-transition.md","raw":"---\ntitle: 利用React Transition Group实现平滑的动画\ndate: 2020-06-02 20:19:38\ntags: ['笔记', 'react', 'react-router']\ncomments: false\ncategories: '笔记'\n---\n\n> 通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画\n\n<!-- more -->\n\n# 配置\n\n## 安装\n\n使用 Transition 之前我们需要安装 React Transition Group\n\nnpm 下安装\n`npm install react-transition-group --save`\n\nyarn 下安装\n`yarn add react-transition-group`\n\n## 导入\n\n在组件中导入`react-transition-group`\n\n`import {TransitionGroup, CSSTransition} from 'react-transition-group'`\n\n# 路由\n\n假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。\n\n```js\n<Switch location={location}>\n  <Route exact path=\"/setting/profile\">\n    <Profile />\n  </Route>\n  <Route path=\"/setting/theme\">\n    <Apparence />\n  </Route>\n  <Route path=\"/setting/language\">\n    <Language />\n  </Route>\n  <Route path=\"/setting/about\">\n    <About />\n  </Route>\n  <Route path=\"/setting/changelog\">\n    <ChangeLog />\n  </Route>\n</Switch>\n```\n\n然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层\n\n```js\n<TransitionGroup>\n  <CSSTransition\n    key={location.key}\n    timeout={{ enter: 1000, exit: 1000 }}\n    classNames=\"fade\"\n  ></CSSTransition>\n</TransitionGroup>\n```\n\nReact 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key\n`timeout`用来设置我们动画的时长。`classNames`用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了`fade`，我们在 css 中就可以写`fade-enter`, `fade-enter-active`, `fade-exit`, `fade-exit-active`来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。\n\n```css\n//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n.fade-enter {\n  opacity: 0;\n  transform: translateX(-50px);\n}\n\n//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n.fade-enter-active {\n  opacity: 1;\n  transform: translateX(0px);\n  transition: all 1s;\n}\n\n//退出动画起始设置为默认\n.fade-exit {\n  opacity: 1;\n  transform: translateX(0px);\n}\n\n//退出动画开始 向右偏移并透明度变为0\n.fade-exit-active {\n  opacity: 0;\n  transform: translateX(50px);\n  transition: all 1s;\n}\n```\n","slug":"04-react-css-transition","published":1,"updated":"2020-06-09T05:46:38.881Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlf60007qouichi6dz1r","content":"<blockquote>\n<p>通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h1 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h1><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>使用 Transition 之前我们需要安装 React Transition Group</p>\n<p>npm 下安装<br><code>npm install react-transition-group --save</code></p>\n<p>yarn 下安装<br><code>yarn add react-transition-group</code></p>\n<h2 id=\"导入\"><a href=\"#导入\" class=\"headerlink\" title=\"导入\"></a>导入</h2><p>在组件中导入<code>react-transition-group</code></p>\n<p><code>import {TransitionGroup, CSSTransition} from &#39;react-transition-group&#39;</code></p>\n<h1 id=\"路由\"><a href=\"#路由\" class=\"headerlink\" title=\"路由\"></a>路由</h1><p>假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>Switch location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/profile\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Profile <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/theme\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Apparence <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/language\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Language <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/about\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>About <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/setting/changelog\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>ChangeLog <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span></code></pre>\n<p>然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>TransitionGroup<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>CSSTransition\n    key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">}</span>\n    timeout<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> enter<span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> exit<span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    classNames<span class=\"token operator\">=</span><span class=\"token string\">\"fade\"</span>\n  <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>CSSTransition<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>TransitionGroup<span class=\"token operator\">></span></code></pre>\n<p>React 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key<br><code>timeout</code>用来设置我们动画的时长。<code>classNames</code>用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了<code>fade</code>，我们在 css 中就可以写<code>fade-enter</code>, <code>fade-enter-active</code>, <code>fade-exit</code>, <code>fade-exit-active</code>来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。</p>\n<pre class=\" language-css\"><code class=\"language-css\"><span class=\"token selector\">//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n<span class=\"token class\">.fade-enter</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span>-<span class=\"token number\">50</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n<span class=\"token class\">.fade-enter-active</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all <span class=\"token number\">1</span>s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">//退出动画起始设置为默认\n<span class=\"token class\">.fade-exit</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">//退出动画开始 向右偏移并透明度变为0\n<span class=\"token class\">.fade-exit-active</span> </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">translateX</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span>px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all <span class=\"token number\">1</span>s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>通过利用 React Router 我们可以实现页面的跳转和切换。但默认 react router 的效果很生硬，我们可以通过利用 React Transition Group 来实现路由切换的平滑动画</p>\n</blockquote>","more":"<h1 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h1><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>使用 Transition 之前我们需要安装 React Transition Group</p>\n<p>npm 下安装<br><code>npm install react-transition-group --save</code></p>\n<p>yarn 下安装<br><code>yarn add react-transition-group</code></p>\n<h2 id=\"导入\"><a href=\"#导入\" class=\"headerlink\" title=\"导入\"></a>导入</h2><p>在组件中导入<code>react-transition-group</code></p>\n<p><code>import {TransitionGroup, CSSTransition} from &#39;react-transition-group&#39;</code></p>\n<h1 id=\"路由\"><a href=\"#路由\" class=\"headerlink\" title=\"路由\"></a>路由</h1><p>假设我们已经建立了一个 setting 里的路由。现在我们可以通过不同的链接在 setting 组件中切换来渲染不同的组件，比如主题，语言，更新日志组件的切换。</p>\n<pre><code class=\"js\">&lt;Switch location={location}&gt;\n  &lt;Route exact path=&quot;/setting/profile&quot;&gt;\n    &lt;Profile /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/theme&quot;&gt;\n    &lt;Apparence /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/language&quot;&gt;\n    &lt;Language /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/about&quot;&gt;\n    &lt;About /&gt;\n  &lt;/Route&gt;\n  &lt;Route path=&quot;/setting/changelog&quot;&gt;\n    &lt;ChangeLog /&gt;\n  &lt;/Route&gt;\n&lt;/Switch&gt;</code></pre>\n<p>然后我们添加 TransitionGroup 和 CSSTransition 到 Switch 组件的外层</p>\n<pre><code class=\"js\">&lt;TransitionGroup&gt;\n  &lt;CSSTransition\n    key={location.key}\n    timeout={{ enter: 1000, exit: 1000 }}\n    classNames=&quot;fade&quot;\n  &gt;&lt;/CSSTransition&gt;\n&lt;/TransitionGroup&gt;</code></pre>\n<p>React 每一个组件都应该有自己独立的 key，我们可以用 router 的 location 来添加到 CSSTransition 做 key<br><code>timeout</code>用来设置我们动画的时长。<code>classNames</code>用来作为前缀在 css 中写每个状态的动画。比如我们在上面添加了<code>fade</code>，我们在 css 中就可以写<code>fade-enter</code>, <code>fade-enter-active</code>, <code>fade-exit</code>, <code>fade-exit-active</code>来根据 state 的状态管理动画。以下是一个 slide 加透明度时长 1s 的动画。</p>\n<pre><code class=\"css\">//在动画开始前，我们设置组件的透明度为0并向左偏移50像素\n.fade-enter {\n  opacity: 0;\n  transform: translateX(-50px);\n}\n\n//当被active的时候，我们将要跳转的router透明度设置为1并为正常位置\n.fade-enter-active {\n  opacity: 1;\n  transform: translateX(0px);\n  transition: all 1s;\n}\n\n//退出动画起始设置为默认\n.fade-exit {\n  opacity: 1;\n  transform: translateX(0px);\n}\n\n//退出动画开始 向右偏移并透明度变为0\n.fade-exit-active {\n  opacity: 0;\n  transform: translateX(50px);\n  transition: all 1s;\n}</code></pre>"},{"title":"React 学习记录","date":"2020-06-09T05:43:52.000Z","comments":0,"_content":"\n> 我的 react 学习笔记。一般练习过程中遇到不容易理解的都会更新到这里。\n\n<!-- more -->\n\n## 基础概念\n\n### 项目配置\n\n### 组件和属性\n\n### 状态和生命周期\n\n### 事件\n\n### 条件渲染\n\n### 列表\n\n### 表单的应用\n\n### 用 Hooks 替代 class 组件\n\n## 进阶主题\n\n### Router 路由\n\n### CSS Transition Group\n","source":"_posts/07-react-notes.md","raw":"---\ntitle: React 学习记录\ndate: 2020-06-08 22:43:52\ntags: ['react', 'framework', 'javascirpt', 'front-end', 'notes']\ncategories: 笔记\ncomments: false\n---\n\n> 我的 react 学习笔记。一般练习过程中遇到不容易理解的都会更新到这里。\n\n<!-- more -->\n\n## 基础概念\n\n### 项目配置\n\n### 组件和属性\n\n### 状态和生命周期\n\n### 事件\n\n### 条件渲染\n\n### 列表\n\n### 表单的应用\n\n### 用 Hooks 替代 class 组件\n\n## 进阶主题\n\n### Router 路由\n\n### CSS Transition Group\n","slug":"07-react-notes","published":1,"updated":"2020-06-09T05:59:33.618Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlf70008qoui25w1bwzo","content":"<blockquote>\n<p>我的 react 学习笔记。一般练习过程中遇到不容易理解的都会更新到这里。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h2><h3 id=\"项目配置\"><a href=\"#项目配置\" class=\"headerlink\" title=\"项目配置\"></a>项目配置</h3><h3 id=\"组件和属性\"><a href=\"#组件和属性\" class=\"headerlink\" title=\"组件和属性\"></a>组件和属性</h3><h3 id=\"状态和生命周期\"><a href=\"#状态和生命周期\" class=\"headerlink\" title=\"状态和生命周期\"></a>状态和生命周期</h3><h3 id=\"事件\"><a href=\"#事件\" class=\"headerlink\" title=\"事件\"></a>事件</h3><h3 id=\"条件渲染\"><a href=\"#条件渲染\" class=\"headerlink\" title=\"条件渲染\"></a>条件渲染</h3><h3 id=\"列表\"><a href=\"#列表\" class=\"headerlink\" title=\"列表\"></a>列表</h3><h3 id=\"表单的应用\"><a href=\"#表单的应用\" class=\"headerlink\" title=\"表单的应用\"></a>表单的应用</h3><h3 id=\"用-Hooks-替代-class-组件\"><a href=\"#用-Hooks-替代-class-组件\" class=\"headerlink\" title=\"用 Hooks 替代 class 组件\"></a>用 Hooks 替代 class 组件</h3><h2 id=\"进阶主题\"><a href=\"#进阶主题\" class=\"headerlink\" title=\"进阶主题\"></a>进阶主题</h2><h3 id=\"Router-路由\"><a href=\"#Router-路由\" class=\"headerlink\" title=\"Router 路由\"></a>Router 路由</h3><h3 id=\"CSS-Transition-Group\"><a href=\"#CSS-Transition-Group\" class=\"headerlink\" title=\"CSS Transition Group\"></a>CSS Transition Group</h3>","site":{"data":{}},"excerpt":"<blockquote>\n<p>我的 react 学习笔记。一般练习过程中遇到不容易理解的都会更新到这里。</p>\n</blockquote>","more":"<h2 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h2><h3 id=\"项目配置\"><a href=\"#项目配置\" class=\"headerlink\" title=\"项目配置\"></a>项目配置</h3><h3 id=\"组件和属性\"><a href=\"#组件和属性\" class=\"headerlink\" title=\"组件和属性\"></a>组件和属性</h3><h3 id=\"状态和生命周期\"><a href=\"#状态和生命周期\" class=\"headerlink\" title=\"状态和生命周期\"></a>状态和生命周期</h3><h3 id=\"事件\"><a href=\"#事件\" class=\"headerlink\" title=\"事件\"></a>事件</h3><h3 id=\"条件渲染\"><a href=\"#条件渲染\" class=\"headerlink\" title=\"条件渲染\"></a>条件渲染</h3><h3 id=\"列表\"><a href=\"#列表\" class=\"headerlink\" title=\"列表\"></a>列表</h3><h3 id=\"表单的应用\"><a href=\"#表单的应用\" class=\"headerlink\" title=\"表单的应用\"></a>表单的应用</h3><h3 id=\"用-Hooks-替代-class-组件\"><a href=\"#用-Hooks-替代-class-组件\" class=\"headerlink\" title=\"用 Hooks 替代 class 组件\"></a>用 Hooks 替代 class 组件</h3><h2 id=\"进阶主题\"><a href=\"#进阶主题\" class=\"headerlink\" title=\"进阶主题\"></a>进阶主题</h2><h3 id=\"Router-路由\"><a href=\"#Router-路由\" class=\"headerlink\" title=\"Router 路由\"></a>Router 路由</h3><h3 id=\"CSS-Transition-Group\"><a href=\"#CSS-Transition-Group\" class=\"headerlink\" title=\"CSS Transition Group\"></a>CSS Transition Group</h3>"},{"title":"JavaScript 笔记","date":"2020-06-09T05:15:48.000Z","comments":0,"_content":"\n> JavaScript 数组，对象，类，函数的常用用法以及备忘录\n\n<!-- more -->\n\n## Variables & Strings\n\n### Template Literals\n\n```js\nlet weight = 74\nlet msg = `Your body weight is ${weight * 2.2} pounds`\nconsole.log(msg)\n```\n\nOutput\n\n> Your body weight is 162.8 pounds\n\n## Function\n\n### Function Closure\n\n```js\nfunction countingdown() {\n  let initNum = 0\n  return function decrement() {\n    initNum -= 1\n  }\n  decrement()\n}\n\nconst countingDown = countingdown()\n\nconsole.log(countingDown())\nconsole.log(countingDown())\nconsole.log(countingDown())\n```\n\n### Default Parameter\n\n```js\nfunction convertTemperature(celsius, decimalPlaces = 1) {\n  const fahrenheit = celsius * 1.8 + 32\n  return Number(fahrenheit.toFixed(decimalPlaces))\n}\n\nconsole.log(convertTemperature(21, 0))\n```\n\n### Arrow Function\n\n#### Object\n\n```js\nconst setName = (id, name) => `id: ${id} name: ${name}`\nconsole.log(setName(1, 'Yang'))\n```\n\n#### Map\n\n```js\nconst prices = products.map((item) => item.price)\nconsole.log(prices) //[array of items price]\n```\n\n#### Fecth\n\n```js\n//fetch data from API\nfunction getData(baseUrl) {\n  return function (route) {\n    return function (callback) {\n      fetch(`${baseUrl}${route}`)\n        .then((response) => response.json)\n        .then((data) => callback(data))\n    }\n  }\n}\n\n//store API data getSocialMediaData\nconst getSocialMediaData = getData('https://jsonplaceholder.typicode.com')\n\n//post route\nconst getSocialMediaPosts = getSocialMediaData('/posts')\n//comment route\nconst getSocialMediaComments = getSocialMediaData('/comments')\n\n//List all the post title\ngetSocialMediaPosts((posts) => {\n  posts.forEach((post) => console.log(post.title))\n})\n```\n\n## Objects & Maps\n\n### Get and Modify Object Data\n\n```js\nconst color = 'black'\nconst hexCode = '000'\n\n//squat notation [] dynamically change object pair values\nconst colors = {\n  [color]: hexCode,\n}\n\ndelete colors['blue']\nconsole.log(colors)\n```\n\n### Object Destructing\n\n```js\nconst user = {\n  name: 'Yang',\n  username: 'yang052513',\n  email: 'liyang0525@hotmail.com',\n  details: {\n    title: 'Web developer',\n  },\n  getBio() {\n    console.log(`User ${this.name} is a ${this.details.title}`)\n  },\n\n  askToFriend() {\n    //嵌套函数用arrow function解决this binding问题\n    setTimeout(() => {\n      console.log(`Would you like to friend ${this.name}`)\n    }, 2000)\n  },\n}\n\nuser.getBio()\n```\n\n### Map\n\n```js\nconst user1 = 'Yang'\nconst key1 = '1'\n\n//创建一个新的map并插入用户1的key和value\nconst userMap = new Map([[key1, user1]])\n\n//插入key为2 value为nathan到userMap\nuserMap.set('2', 'Nathan')\n\n//循环userMap并打印每个数据\nconst display = (values) => document.writeln(values + '<br>')\nuserMap.forEach(display)\n\n//取得用户key为1的value\nconst key = userMap.get('1')\nconsole.log(key)\n\n//userMap大小\nconsole.log(userMap.size)\n```\n\n## Arrays & Sets\n\n### Element Existence .some() & .every()\n\n```js\nconst array = [\n  {\n    name: 'Attack on titan',\n    rating: 9.8,\n    episode: 24,\n  },\n  {\n    name: 'Fate stay night',\n    rating: 4.8,\n    episode: 13,\n  },\n  {\n    name: 'Haikyuu',\n    rating: 10.0,\n    episode: 24,\n  },\n]\n\n//测试是否至少有一个元素的rating小于5\nconst ratingTest = (item) => item.rating < 5\nconst episodeTest = (item) => item.episode > 12\nconsole.log(`至少有一部动画评分小于5分: ${array.some(ratingTest)}`)\nconsole.log(`每部动画集数大于12: ${array.every(episodeTest)}`)\n```\n\n### Perform Actions on All Elements: .map() & forEach() Method\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'clannad', episode: 24, rating: 3.2 },\n  { name: 'Bokuno name', episode: 8, rating: 9.8 },\n]\n\n//重构一个新的array newAnimations\nconst newAnimations = animations.map((animes) =>\n  //对animations里的每一个对象执行一下\n  //如果rating大于8 在原object的基础上merge isHighRank\n  //其他保持不变\n  animes.rating > 8 ? { ...animes, isHighRank: true } : animes\n)\n\n//循环newAnimations里的每一个对象\nnewAnimations.forEach((animes) => {\n  animes.isHighRank\n    ? console.log(`${animes.name} is recommended by other users`)\n    : null\n})\nconsole.log(newAnimations)\n```\n\n### Subsets of Arrays .filter() & .find()\n\n`.filter`: 返回匹配条件的新数组\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'aksa', episode: 24, rating: 3.2 },\n  { name: 'air', episode: 8, rating: 9.8 },\n]\n\n//如果没有匹配结果 返回空数组\nconst animationA = animations.filter(\n  (animes) => animes.name.toLowerCase().startsWith('a') && animes.rating > 7\n)\nconsole.log(animationA)\n```\n\n`.find()`: 返回匹配条件的**第一个元素/对象**\n\n```js\nconst animations = [\n  { name: 'haikyuu to top', episode: 12, rating: 6.8 },\n  { name: 'haikyuu2', episode: 13, rating: 9.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n]\n\nconst animationSearch = animations.find(\n  (anime) => anime.name.toLowerCase().includes('haikyuu') && anime.rating > 9\n)\n\nconsole.log(animationSearch)\n```\n\n### Transform Arrays .reduce()\n\n#### Accumulator Array\n\n```js\nconst cart = [\n  { item: 'Squat Stand 2.0', price: 460.89 },\n  { item: 'Falt Utility Bench', price: 230 },\n  { item: 'Ohio Power Bar', price: 385.23 },\n]\n\n//cart数组中的每个值累加\n//0 as initialize value\nconst cartTotal = cart.reduce((subtotal, cartItem) => {\n  return subtotal + cartItem.price\n}, 0)\nconsole.log(cartTotal)\n```\n\n#### Double Array Values\n\n```js\nconst numbers = [1, 2, 3, 4, 5, 6]\n\nconst doubleNum = numbers.reduce((acc, num) => {\n  acc.push(num * 2)\n  return acc\n}, [])\n\nconst greaterThree = numbers.reduce((acc, num) => {\n  if (num > 3) {\n    acc.push(num)\n  }\n  return acc\n}, 0)\n\n//const doubleNum = numbers.map(num => num * 2)\n//const greaterThree = numbers.filter(num => num > 3)\n\nconsole.log(doubleNum)\nconsole.log(greaterThree)\n```\n\n### Modify Arry with Spread Operator ...\n\nAvoid Array Mutation\n\n```js\nconst aprilAnimation = ['Haikyuu', 'Attack on Tatin']\nconst sepAnimation = ['Dango', 'Physico Pass']\n//clone aprilAnimation into allAnimation\nconst allAnimation = [...aprilAnimation, ...sepAnimation]\n//now use array method will not change aprilAnimation array\nallAnimation.push('Clannad')\nconsole.log(allAnimation)\n```\n\n### Get Unique Sets of Data new Set()\n\n```js\nconst animeVote = [\n  'Attack on titan',\n  'Fate Stay Night',\n  'Attack on titan',\n  'Hero',\n]\n\n//先调用Set method重组新的unqie数组 然后保存到新的数组\nconst uniqueAnimeVote = [...new Set(animeVote)]\nconsole.log(uniqueAnimeVote)\n```\n\n## Classes\n\n### Constructor Function\n\n```js\nfunction Student(id, name, courses = []) {\n  this.id = id\n  this.name = name\n  this.courses = courses\n}\n\n//Student method\nStudent.prototype.addCourse = function (course) {\n  //merge the current student couse array with new courses\n  this.courses = [...this.courses, course]\n}\n\nconst s1 = new Student(3, 'Yang', ['Chinese', 'English', 'Math', 'Computer'])\n\ns1.addCourse('Powerlifting')\nconsole.log(s1.courses)\n```\n\n### Classes\n\n```js\nclass Student {\n  constructor(id, name, subjects = []) {\n    this.id = id\n    this.name = name\n    this.subjects = subjects\n  }\n\n  getStdName() {\n    return `Student: ${this.name}`\n  }\n\n  setStdName(name) {\n    this.name = name\n  }\n}\n\nconst s1 = new Student(1, 'Yang', 'Math')\nconsole.log(s1.getStdName())\n```\n\n<br>\n\n### Inheritance\n\n```js\nclass Product {\n  constructor(name, price, discountable) {\n    this.name = name\n    this.price = price\n    this.discountable = discountable\n  }\n\n  isDiscountable() {\n    return this.discountable\n  }\n}\n\nclass SaleProduct extends Product {\n  constructor(name, price, discountable, percentOff) {\n    super(name, price, discountable)\n    this.percentOff = percentOff\n  }\n\n  getSalePrice() {\n    if (super.isDiscountable()) {\n      return this.price * ((100 - this.percentOff) / 100)\n    } else {\n      return `${this.name} is not eligible for a discount`\n    }\n  }\n}\n\nconst saleProduct1 = new SaleProduct('Coffee Maker', 99, false, 20)\nconsole.log(saleProduct1.getSalePrice())\n```\n\n### Binding method to Class\n\n```js\nconst isAuth = true\nconst user = {\n  favorites: [],\n}\n\nclass Product {\n  constructor(name, price) {\n    this.name = name\n    this.price = price\n    //Bind favoriteProduct method to Product class\n    this.favoriteProduct = this.favoriteProduct.bind(this)\n  }\n\n  handleFavoriteProduct = () => {\n    if (isAuth) {\n      setTimeout(this.favoriteProduct, 1000)\n    } else {\n      console.log('You must be signed in to favorite products!')\n    }\n  }\n\n  favoriteProduct = () => {\n    user.favorites.push(this.name)\n    console.log(`${this.name} favorited!`)\n  }\n}\n\nconst product1 = new Product('Coaster', 89.99)\nproduct1.handleFavoriteProduct()\n```\n","source":"_posts/05-javascript.md","raw":"---\ntitle: JavaScript 笔记\ndate: 2020-06-08 22:15:48\ntags: ['笔记', 'JavaScript']\ncomments: false\ncategories: '笔记'\n---\n\n> JavaScript 数组，对象，类，函数的常用用法以及备忘录\n\n<!-- more -->\n\n## Variables & Strings\n\n### Template Literals\n\n```js\nlet weight = 74\nlet msg = `Your body weight is ${weight * 2.2} pounds`\nconsole.log(msg)\n```\n\nOutput\n\n> Your body weight is 162.8 pounds\n\n## Function\n\n### Function Closure\n\n```js\nfunction countingdown() {\n  let initNum = 0\n  return function decrement() {\n    initNum -= 1\n  }\n  decrement()\n}\n\nconst countingDown = countingdown()\n\nconsole.log(countingDown())\nconsole.log(countingDown())\nconsole.log(countingDown())\n```\n\n### Default Parameter\n\n```js\nfunction convertTemperature(celsius, decimalPlaces = 1) {\n  const fahrenheit = celsius * 1.8 + 32\n  return Number(fahrenheit.toFixed(decimalPlaces))\n}\n\nconsole.log(convertTemperature(21, 0))\n```\n\n### Arrow Function\n\n#### Object\n\n```js\nconst setName = (id, name) => `id: ${id} name: ${name}`\nconsole.log(setName(1, 'Yang'))\n```\n\n#### Map\n\n```js\nconst prices = products.map((item) => item.price)\nconsole.log(prices) //[array of items price]\n```\n\n#### Fecth\n\n```js\n//fetch data from API\nfunction getData(baseUrl) {\n  return function (route) {\n    return function (callback) {\n      fetch(`${baseUrl}${route}`)\n        .then((response) => response.json)\n        .then((data) => callback(data))\n    }\n  }\n}\n\n//store API data getSocialMediaData\nconst getSocialMediaData = getData('https://jsonplaceholder.typicode.com')\n\n//post route\nconst getSocialMediaPosts = getSocialMediaData('/posts')\n//comment route\nconst getSocialMediaComments = getSocialMediaData('/comments')\n\n//List all the post title\ngetSocialMediaPosts((posts) => {\n  posts.forEach((post) => console.log(post.title))\n})\n```\n\n## Objects & Maps\n\n### Get and Modify Object Data\n\n```js\nconst color = 'black'\nconst hexCode = '000'\n\n//squat notation [] dynamically change object pair values\nconst colors = {\n  [color]: hexCode,\n}\n\ndelete colors['blue']\nconsole.log(colors)\n```\n\n### Object Destructing\n\n```js\nconst user = {\n  name: 'Yang',\n  username: 'yang052513',\n  email: 'liyang0525@hotmail.com',\n  details: {\n    title: 'Web developer',\n  },\n  getBio() {\n    console.log(`User ${this.name} is a ${this.details.title}`)\n  },\n\n  askToFriend() {\n    //嵌套函数用arrow function解决this binding问题\n    setTimeout(() => {\n      console.log(`Would you like to friend ${this.name}`)\n    }, 2000)\n  },\n}\n\nuser.getBio()\n```\n\n### Map\n\n```js\nconst user1 = 'Yang'\nconst key1 = '1'\n\n//创建一个新的map并插入用户1的key和value\nconst userMap = new Map([[key1, user1]])\n\n//插入key为2 value为nathan到userMap\nuserMap.set('2', 'Nathan')\n\n//循环userMap并打印每个数据\nconst display = (values) => document.writeln(values + '<br>')\nuserMap.forEach(display)\n\n//取得用户key为1的value\nconst key = userMap.get('1')\nconsole.log(key)\n\n//userMap大小\nconsole.log(userMap.size)\n```\n\n## Arrays & Sets\n\n### Element Existence .some() & .every()\n\n```js\nconst array = [\n  {\n    name: 'Attack on titan',\n    rating: 9.8,\n    episode: 24,\n  },\n  {\n    name: 'Fate stay night',\n    rating: 4.8,\n    episode: 13,\n  },\n  {\n    name: 'Haikyuu',\n    rating: 10.0,\n    episode: 24,\n  },\n]\n\n//测试是否至少有一个元素的rating小于5\nconst ratingTest = (item) => item.rating < 5\nconst episodeTest = (item) => item.episode > 12\nconsole.log(`至少有一部动画评分小于5分: ${array.some(ratingTest)}`)\nconsole.log(`每部动画集数大于12: ${array.every(episodeTest)}`)\n```\n\n### Perform Actions on All Elements: .map() & forEach() Method\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'clannad', episode: 24, rating: 3.2 },\n  { name: 'Bokuno name', episode: 8, rating: 9.8 },\n]\n\n//重构一个新的array newAnimations\nconst newAnimations = animations.map((animes) =>\n  //对animations里的每一个对象执行一下\n  //如果rating大于8 在原object的基础上merge isHighRank\n  //其他保持不变\n  animes.rating > 8 ? { ...animes, isHighRank: true } : animes\n)\n\n//循环newAnimations里的每一个对象\nnewAnimations.forEach((animes) => {\n  animes.isHighRank\n    ? console.log(`${animes.name} is recommended by other users`)\n    : null\n})\nconsole.log(newAnimations)\n```\n\n### Subsets of Arrays .filter() & .find()\n\n`.filter`: 返回匹配条件的新数组\n\n```js\nconst animations = [\n  { name: 'attack on titan', episode: 12, rating: 6.8 },\n  { name: 'fate stay night', episode: 13, rating: 7.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n  { name: 'aksa', episode: 24, rating: 3.2 },\n  { name: 'air', episode: 8, rating: 9.8 },\n]\n\n//如果没有匹配结果 返回空数组\nconst animationA = animations.filter(\n  (animes) => animes.name.toLowerCase().startsWith('a') && animes.rating > 7\n)\nconsole.log(animationA)\n```\n\n`.find()`: 返回匹配条件的**第一个元素/对象**\n\n```js\nconst animations = [\n  { name: 'haikyuu to top', episode: 12, rating: 6.8 },\n  { name: 'haikyuu2', episode: 13, rating: 9.2 },\n  { name: 'haikyuu', episode: 12, rating: 4.5 },\n]\n\nconst animationSearch = animations.find(\n  (anime) => anime.name.toLowerCase().includes('haikyuu') && anime.rating > 9\n)\n\nconsole.log(animationSearch)\n```\n\n### Transform Arrays .reduce()\n\n#### Accumulator Array\n\n```js\nconst cart = [\n  { item: 'Squat Stand 2.0', price: 460.89 },\n  { item: 'Falt Utility Bench', price: 230 },\n  { item: 'Ohio Power Bar', price: 385.23 },\n]\n\n//cart数组中的每个值累加\n//0 as initialize value\nconst cartTotal = cart.reduce((subtotal, cartItem) => {\n  return subtotal + cartItem.price\n}, 0)\nconsole.log(cartTotal)\n```\n\n#### Double Array Values\n\n```js\nconst numbers = [1, 2, 3, 4, 5, 6]\n\nconst doubleNum = numbers.reduce((acc, num) => {\n  acc.push(num * 2)\n  return acc\n}, [])\n\nconst greaterThree = numbers.reduce((acc, num) => {\n  if (num > 3) {\n    acc.push(num)\n  }\n  return acc\n}, 0)\n\n//const doubleNum = numbers.map(num => num * 2)\n//const greaterThree = numbers.filter(num => num > 3)\n\nconsole.log(doubleNum)\nconsole.log(greaterThree)\n```\n\n### Modify Arry with Spread Operator ...\n\nAvoid Array Mutation\n\n```js\nconst aprilAnimation = ['Haikyuu', 'Attack on Tatin']\nconst sepAnimation = ['Dango', 'Physico Pass']\n//clone aprilAnimation into allAnimation\nconst allAnimation = [...aprilAnimation, ...sepAnimation]\n//now use array method will not change aprilAnimation array\nallAnimation.push('Clannad')\nconsole.log(allAnimation)\n```\n\n### Get Unique Sets of Data new Set()\n\n```js\nconst animeVote = [\n  'Attack on titan',\n  'Fate Stay Night',\n  'Attack on titan',\n  'Hero',\n]\n\n//先调用Set method重组新的unqie数组 然后保存到新的数组\nconst uniqueAnimeVote = [...new Set(animeVote)]\nconsole.log(uniqueAnimeVote)\n```\n\n## Classes\n\n### Constructor Function\n\n```js\nfunction Student(id, name, courses = []) {\n  this.id = id\n  this.name = name\n  this.courses = courses\n}\n\n//Student method\nStudent.prototype.addCourse = function (course) {\n  //merge the current student couse array with new courses\n  this.courses = [...this.courses, course]\n}\n\nconst s1 = new Student(3, 'Yang', ['Chinese', 'English', 'Math', 'Computer'])\n\ns1.addCourse('Powerlifting')\nconsole.log(s1.courses)\n```\n\n### Classes\n\n```js\nclass Student {\n  constructor(id, name, subjects = []) {\n    this.id = id\n    this.name = name\n    this.subjects = subjects\n  }\n\n  getStdName() {\n    return `Student: ${this.name}`\n  }\n\n  setStdName(name) {\n    this.name = name\n  }\n}\n\nconst s1 = new Student(1, 'Yang', 'Math')\nconsole.log(s1.getStdName())\n```\n\n<br>\n\n### Inheritance\n\n```js\nclass Product {\n  constructor(name, price, discountable) {\n    this.name = name\n    this.price = price\n    this.discountable = discountable\n  }\n\n  isDiscountable() {\n    return this.discountable\n  }\n}\n\nclass SaleProduct extends Product {\n  constructor(name, price, discountable, percentOff) {\n    super(name, price, discountable)\n    this.percentOff = percentOff\n  }\n\n  getSalePrice() {\n    if (super.isDiscountable()) {\n      return this.price * ((100 - this.percentOff) / 100)\n    } else {\n      return `${this.name} is not eligible for a discount`\n    }\n  }\n}\n\nconst saleProduct1 = new SaleProduct('Coffee Maker', 99, false, 20)\nconsole.log(saleProduct1.getSalePrice())\n```\n\n### Binding method to Class\n\n```js\nconst isAuth = true\nconst user = {\n  favorites: [],\n}\n\nclass Product {\n  constructor(name, price) {\n    this.name = name\n    this.price = price\n    //Bind favoriteProduct method to Product class\n    this.favoriteProduct = this.favoriteProduct.bind(this)\n  }\n\n  handleFavoriteProduct = () => {\n    if (isAuth) {\n      setTimeout(this.favoriteProduct, 1000)\n    } else {\n      console.log('You must be signed in to favorite products!')\n    }\n  }\n\n  favoriteProduct = () => {\n    user.favorites.push(this.name)\n    console.log(`${this.name} favorited!`)\n  }\n}\n\nconst product1 = new Product('Coaster', 89.99)\nproduct1.handleFavoriteProduct()\n```\n","slug":"05-javascript","published":1,"updated":"2020-06-09T05:47:07.239Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlf9000bqoui11sffigp","content":"<blockquote>\n<p>JavaScript 数组，对象，类，函数的常用用法以及备忘录</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"Variables-amp-Strings\"><a href=\"#Variables-amp-Strings\" class=\"headerlink\" title=\"Variables &amp; Strings\"></a>Variables &amp; Strings</h2><h3 id=\"Template-Literals\"><a href=\"#Template-Literals\" class=\"headerlink\" title=\"Template Literals\"></a>Template Literals</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> weight <span class=\"token operator\">=</span> <span class=\"token number\">74</span>\n<span class=\"token keyword\">let</span> msg <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`Your body weight is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>weight <span class=\"token operator\">*</span> <span class=\"token number\">2.2</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> pounds`</span></span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span></code></pre>\n<p>Output</p>\n<blockquote>\n<p>Your body weight is 162.8 pounds</p>\n</blockquote>\n<h2 id=\"Function\"><a href=\"#Function\" class=\"headerlink\" title=\"Function\"></a>Function</h2><h3 id=\"Function-Closure\"><a href=\"#Function-Closure\" class=\"headerlink\" title=\"Function Closure\"></a>Function Closure</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">countingdown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> initNum <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">decrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    initNum <span class=\"token operator\">-</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">decrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> countingDown <span class=\"token operator\">=</span> <span class=\"token function\">countingdown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">countingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">countingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">countingDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Default-Parameter\"><a href=\"#Default-Parameter\" class=\"headerlink\" title=\"Default Parameter\"></a>Default Parameter</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">convertTemperature</span><span class=\"token punctuation\">(</span>celsius<span class=\"token punctuation\">,</span> decimalPlaces <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> fahrenheit <span class=\"token operator\">=</span> celsius <span class=\"token operator\">*</span> <span class=\"token number\">1.8</span> <span class=\"token operator\">+</span> <span class=\"token number\">32</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>fahrenheit<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span>decimalPlaces<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">convertTemperature</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Arrow-Function\"><a href=\"#Arrow-Function\" class=\"headerlink\" title=\"Arrow Function\"></a>Arrow Function</h3><h4 id=\"Object\"><a href=\"#Object\" class=\"headerlink\" title=\"Object\"></a>Object</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> setName <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token template-string\"><span class=\"token string\">`id: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> name: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map\"></a>Map</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> prices <span class=\"token operator\">=</span> products<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>prices<span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//[array of items price]</span></code></pre>\n<h4 id=\"Fecth\"><a href=\"#Fecth\" class=\"headerlink\" title=\"Fecth\"></a>Fecth</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token comment\" spellcheck=\"true\">//fetch data from API</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>route<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>baseUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>route<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//store API data getSocialMediaData</span>\n<span class=\"token keyword\">const</span> getSocialMediaData <span class=\"token operator\">=</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://jsonplaceholder.typicode.com'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//post route</span>\n<span class=\"token keyword\">const</span> getSocialMediaPosts <span class=\"token operator\">=</span> <span class=\"token function\">getSocialMediaData</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/posts'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">//comment route</span>\n<span class=\"token keyword\">const</span> getSocialMediaComments <span class=\"token operator\">=</span> <span class=\"token function\">getSocialMediaData</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/comments'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//List all the post title</span>\n<span class=\"token function\">getSocialMediaPosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Objects-amp-Maps\"><a href=\"#Objects-amp-Maps\" class=\"headerlink\" title=\"Objects &amp; Maps\"></a>Objects &amp; Maps</h2><h3 id=\"Get-and-Modify-Object-Data\"><a href=\"#Get-and-Modify-Object-Data\" class=\"headerlink\" title=\"Get and Modify Object Data\"></a>Get and Modify Object Data</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> color <span class=\"token operator\">=</span> <span class=\"token string\">'black'</span>\n<span class=\"token keyword\">const</span> hexCode <span class=\"token operator\">=</span> <span class=\"token string\">'000'</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//squat notation [] dynamically change object pair values</span>\n<span class=\"token keyword\">const</span> colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>color<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> hexCode<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">delete</span> colors<span class=\"token punctuation\">[</span><span class=\"token string\">'blue'</span><span class=\"token punctuation\">]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>colors<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Object-Destructing\"><a href=\"#Object-Destructing\" class=\"headerlink\" title=\"Object Destructing\"></a>Object Destructing</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span>\n  username<span class=\"token punctuation\">:</span> <span class=\"token string\">'yang052513'</span><span class=\"token punctuation\">,</span>\n  email<span class=\"token punctuation\">:</span> <span class=\"token string\">'liyang0525@hotmail.com'</span><span class=\"token punctuation\">,</span>\n  details<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Web developer'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">getBio</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`User </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is a </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>details<span class=\"token punctuation\">.</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token function\">askToFriend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">//嵌套函数用arrow function解决this binding问题</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`Would you like to friend </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nuser<span class=\"token punctuation\">.</span><span class=\"token function\">getBio</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Map-1\"><a href=\"#Map-1\" class=\"headerlink\" title=\"Map\"></a>Map</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> user1 <span class=\"token operator\">=</span> <span class=\"token string\">'Yang'</span>\n<span class=\"token keyword\">const</span> key1 <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//创建一个新的map并插入用户1的key和value</span>\n<span class=\"token keyword\">const</span> userMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>key1<span class=\"token punctuation\">,</span> user1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//插入key为2 value为nathan到userMap</span>\nuserMap<span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Nathan'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//循环userMap并打印每个数据</span>\n<span class=\"token keyword\">const</span> display <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> document<span class=\"token punctuation\">.</span><span class=\"token function\">writeln</span><span class=\"token punctuation\">(</span>values <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;br>'</span><span class=\"token punctuation\">)</span>\nuserMap<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>display<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//取得用户key为1的value</span>\n<span class=\"token keyword\">const</span> key <span class=\"token operator\">=</span> userMap<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//userMap大小</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>userMap<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Arrays-amp-Sets\"><a href=\"#Arrays-amp-Sets\" class=\"headerlink\" title=\"Arrays &amp; Sets\"></a>Arrays &amp; Sets</h2><h3 id=\"Element-Existence-some-amp-every\"><a href=\"#Element-Existence-some-amp-every\" class=\"headerlink\" title=\"Element Existence .some() &amp; .every()\"></a>Element Existence .some() &amp; .every()</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> array <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Attack on titan'</span><span class=\"token punctuation\">,</span>\n    rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.8</span><span class=\"token punctuation\">,</span>\n    episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Fate stay night'</span><span class=\"token punctuation\">,</span>\n    rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.8</span><span class=\"token punctuation\">,</span>\n    episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Haikyuu'</span><span class=\"token punctuation\">,</span>\n    rating<span class=\"token punctuation\">:</span> <span class=\"token number\">10.0</span><span class=\"token punctuation\">,</span>\n    episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//测试是否至少有一个元素的rating小于5</span>\n<span class=\"token keyword\">const</span> ratingTest <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> item<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span>\n<span class=\"token keyword\">const</span> episodeTest <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> item<span class=\"token punctuation\">.</span>episode <span class=\"token operator\">></span> <span class=\"token number\">12</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`至少有一部动画评分小于5分: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>array<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span>ratingTest<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`每部动画集数大于12: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>array<span class=\"token punctuation\">.</span><span class=\"token function\">every</span><span class=\"token punctuation\">(</span>episodeTest<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Perform-Actions-on-All-Elements-map-amp-forEach-Method\"><a href=\"#Perform-Actions-on-All-Elements-map-amp-forEach-Method\" class=\"headerlink\" title=\"Perform Actions on All Elements: .map() &amp; forEach() Method\"></a>Perform Actions on All Elements: .map() &amp; forEach() Method</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'attack on titan'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">6.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'fate stay night'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">7.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'clannad'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">3.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Bokuno name'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//重构一个新的array newAnimations</span>\n<span class=\"token keyword\">const</span> newAnimations <span class=\"token operator\">=</span> animations<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>animes<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span>\n  <span class=\"token comment\" spellcheck=\"true\">//对animations里的每一个对象执行一下</span>\n  <span class=\"token comment\" spellcheck=\"true\">//如果rating大于8 在原object的基础上merge isHighRank</span>\n  <span class=\"token comment\" spellcheck=\"true\">//其他保持不变</span>\n  animes<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">></span> <span class=\"token number\">8</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>animes<span class=\"token punctuation\">,</span> isHighRank<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">:</span> animes\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//循环newAnimations里的每一个对象</span>\nnewAnimations<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>animes<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  animes<span class=\"token punctuation\">.</span>isHighRank\n    <span class=\"token operator\">?</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>animes<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is recommended by other users`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newAnimations<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Subsets-of-Arrays-filter-amp-find\"><a href=\"#Subsets-of-Arrays-filter-amp-find\" class=\"headerlink\" title=\"Subsets of Arrays .filter() &amp; .find()\"></a>Subsets of Arrays .filter() &amp; .find()</h3><p><code>.filter</code>: 返回匹配条件的新数组</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'attack on titan'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">6.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'fate stay night'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">7.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'aksa'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">3.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'air'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//如果没有匹配结果 返回空数组</span>\n<span class=\"token keyword\">const</span> animationA <span class=\"token operator\">=</span> animations<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span>animes<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> animes<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> animes<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">></span> <span class=\"token number\">7</span>\n<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>animationA<span class=\"token punctuation\">)</span></code></pre>\n<p><code>.find()</code>: 返回匹配条件的<strong>第一个元素/对象</strong></p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu to top'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">6.8</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu2'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">9.2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">,</span> episode<span class=\"token punctuation\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> rating<span class=\"token punctuation\">:</span> <span class=\"token number\">4.5</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">const</span> animationSearch <span class=\"token operator\">=</span> animations<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span>anime<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> anime<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'haikyuu'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> anime<span class=\"token punctuation\">.</span>rating <span class=\"token operator\">></span> <span class=\"token number\">9</span>\n<span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>animationSearch<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Transform-Arrays-reduce\"><a href=\"#Transform-Arrays-reduce\" class=\"headerlink\" title=\"Transform Arrays .reduce()\"></a>Transform Arrays .reduce()</h3><h4 id=\"Accumulator-Array\"><a href=\"#Accumulator-Array\" class=\"headerlink\" title=\"Accumulator Array\"></a>Accumulator Array</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cart <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> item<span class=\"token punctuation\">:</span> <span class=\"token string\">'Squat Stand 2.0'</span><span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">:</span> <span class=\"token number\">460.89</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> item<span class=\"token punctuation\">:</span> <span class=\"token string\">'Falt Utility Bench'</span><span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">:</span> <span class=\"token number\">230</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> item<span class=\"token punctuation\">:</span> <span class=\"token string\">'Ohio Power Bar'</span><span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">:</span> <span class=\"token number\">385.23</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//cart数组中的每个值累加</span>\n<span class=\"token comment\" spellcheck=\"true\">//0 as initialize value</span>\n<span class=\"token keyword\">const</span> cartTotal <span class=\"token operator\">=</span> cart<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>subtotal<span class=\"token punctuation\">,</span> cartItem<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> subtotal <span class=\"token operator\">+</span> cartItem<span class=\"token punctuation\">.</span>price\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>cartTotal<span class=\"token punctuation\">)</span></code></pre>\n<h4 id=\"Double-Array-Values\"><a href=\"#Double-Array-Values\" class=\"headerlink\" title=\"Double Array Values\"></a>Double Array Values</h4><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">const</span> doubleNum <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  acc<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> acc\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> greaterThree <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> num<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>num <span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    acc<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> acc\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//const doubleNum = numbers.map(num => num * 2)</span>\n<span class=\"token comment\" spellcheck=\"true\">//const greaterThree = numbers.filter(num => num > 3)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>doubleNum<span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greaterThree<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Modify-Arry-with-Spread-Operator-…\"><a href=\"#Modify-Arry-with-Spread-Operator-…\" class=\"headerlink\" title=\"Modify Arry with Spread Operator …\"></a>Modify Arry with Spread Operator …</h3><p>Avoid Array Mutation</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> aprilAnimation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Haikyuu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Attack on Tatin'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">const</span> sepAnimation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Dango'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Physico Pass'</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\" spellcheck=\"true\">//clone aprilAnimation into allAnimation</span>\n<span class=\"token keyword\">const</span> allAnimation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>aprilAnimation<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>sepAnimation<span class=\"token punctuation\">]</span>\n<span class=\"token comment\" spellcheck=\"true\">//now use array method will not change aprilAnimation array</span>\nallAnimation<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Clannad'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>allAnimation<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Get-Unique-Sets-of-Data-new-Set\"><a href=\"#Get-Unique-Sets-of-Data-new-Set\" class=\"headerlink\" title=\"Get Unique Sets of Data new Set()\"></a>Get Unique Sets of Data new Set()</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> animeVote <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">'Attack on titan'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Fate Stay Night'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Attack on titan'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'Hero'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//先调用Set method重组新的unqie数组 然后保存到新的数组</span>\n<span class=\"token keyword\">const</span> uniqueAnimeVote <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span>animeVote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>uniqueAnimeVote<span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"Classes\"><a href=\"#Classes\" class=\"headerlink\" title=\"Classes\"></a>Classes</h2><h3 id=\"Constructor-Function\"><a href=\"#Constructor-Function\" class=\"headerlink\" title=\"Constructor Function\"></a>Constructor Function</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Student</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> courses <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>courses <span class=\"token operator\">=</span> courses\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//Student method</span>\nStudent<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>addCourse <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>course<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\" spellcheck=\"true\">//merge the current student couse array with new courses</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>courses <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>courses<span class=\"token punctuation\">,</span> course<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> s1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Chinese'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'English'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Math'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Computer'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\ns1<span class=\"token punctuation\">.</span><span class=\"token function\">addCourse</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Powerlifting'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">.</span>courses<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Classes-1\"><a href=\"#Classes-1\" class=\"headerlink\" title=\"Classes\"></a>Classes</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> subjects <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subjects <span class=\"token operator\">=</span> subjects\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getStdName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token string\">`Student: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setStdName</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> s1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Student</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Yang'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Math'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s1<span class=\"token punctuation\">.</span><span class=\"token function\">getStdName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<br>\n\n<h3 id=\"Inheritance\"><a href=\"#Inheritance\" class=\"headerlink\" title=\"Inheritance\"></a>Inheritance</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> discountable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> price\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountable <span class=\"token operator\">=</span> discountable\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">isDiscountable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountable\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SaleProduct</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> discountable<span class=\"token punctuation\">,</span> percentOff<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> discountable<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percentOff <span class=\"token operator\">=</span> percentOff\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getSalePrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">isDiscountable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percentOff<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is not eligible for a discount`</span></span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> saleProduct1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SaleProduct</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Coffee Maker'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">99</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>saleProduct1<span class=\"token punctuation\">.</span><span class=\"token function\">getSalePrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"Binding-method-to-Class\"><a href=\"#Binding-method-to-Class\" class=\"headerlink\" title=\"Binding method to Class\"></a>Binding method to Class</h3><pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> isAuth <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n<span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  favorites<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Product</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>price <span class=\"token operator\">=</span> price\n    <span class=\"token comment\" spellcheck=\"true\">//Bind favoriteProduct method to Product class</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>favoriteProduct <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>favoriteProduct<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  handleFavoriteProduct <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isAuth<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>favoriteProduct<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'You must be signed in to favorite products!'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  favoriteProduct <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    user<span class=\"token punctuation\">.</span>favorites<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> favorited!`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> product1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Product</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Coaster'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">89.99</span><span class=\"token punctuation\">)</span>\nproduct1<span class=\"token punctuation\">.</span><span class=\"token function\">handleFavoriteProduct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>JavaScript 数组，对象，类，函数的常用用法以及备忘录</p>\n</blockquote>","more":"<h2 id=\"Variables-amp-Strings\"><a href=\"#Variables-amp-Strings\" class=\"headerlink\" title=\"Variables &amp; Strings\"></a>Variables &amp; Strings</h2><h3 id=\"Template-Literals\"><a href=\"#Template-Literals\" class=\"headerlink\" title=\"Template Literals\"></a>Template Literals</h3><pre><code class=\"js\">let weight = 74\nlet msg = `Your body weight is ${weight * 2.2} pounds`\nconsole.log(msg)</code></pre>\n<p>Output</p>\n<blockquote>\n<p>Your body weight is 162.8 pounds</p>\n</blockquote>\n<h2 id=\"Function\"><a href=\"#Function\" class=\"headerlink\" title=\"Function\"></a>Function</h2><h3 id=\"Function-Closure\"><a href=\"#Function-Closure\" class=\"headerlink\" title=\"Function Closure\"></a>Function Closure</h3><pre><code class=\"js\">function countingdown() {\n  let initNum = 0\n  return function decrement() {\n    initNum -= 1\n  }\n  decrement()\n}\n\nconst countingDown = countingdown()\n\nconsole.log(countingDown())\nconsole.log(countingDown())\nconsole.log(countingDown())</code></pre>\n<h3 id=\"Default-Parameter\"><a href=\"#Default-Parameter\" class=\"headerlink\" title=\"Default Parameter\"></a>Default Parameter</h3><pre><code class=\"js\">function convertTemperature(celsius, decimalPlaces = 1) {\n  const fahrenheit = celsius * 1.8 + 32\n  return Number(fahrenheit.toFixed(decimalPlaces))\n}\n\nconsole.log(convertTemperature(21, 0))</code></pre>\n<h3 id=\"Arrow-Function\"><a href=\"#Arrow-Function\" class=\"headerlink\" title=\"Arrow Function\"></a>Arrow Function</h3><h4 id=\"Object\"><a href=\"#Object\" class=\"headerlink\" title=\"Object\"></a>Object</h4><pre><code class=\"js\">const setName = (id, name) =&gt; `id: ${id} name: ${name}`\nconsole.log(setName(1, &#39;Yang&#39;))</code></pre>\n<h4 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map\"></a>Map</h4><pre><code class=\"js\">const prices = products.map((item) =&gt; item.price)\nconsole.log(prices) //[array of items price]</code></pre>\n<h4 id=\"Fecth\"><a href=\"#Fecth\" class=\"headerlink\" title=\"Fecth\"></a>Fecth</h4><pre><code class=\"js\">//fetch data from API\nfunction getData(baseUrl) {\n  return function (route) {\n    return function (callback) {\n      fetch(`${baseUrl}${route}`)\n        .then((response) =&gt; response.json)\n        .then((data) =&gt; callback(data))\n    }\n  }\n}\n\n//store API data getSocialMediaData\nconst getSocialMediaData = getData(&#39;https://jsonplaceholder.typicode.com&#39;)\n\n//post route\nconst getSocialMediaPosts = getSocialMediaData(&#39;/posts&#39;)\n//comment route\nconst getSocialMediaComments = getSocialMediaData(&#39;/comments&#39;)\n\n//List all the post title\ngetSocialMediaPosts((posts) =&gt; {\n  posts.forEach((post) =&gt; console.log(post.title))\n})</code></pre>\n<h2 id=\"Objects-amp-Maps\"><a href=\"#Objects-amp-Maps\" class=\"headerlink\" title=\"Objects &amp; Maps\"></a>Objects &amp; Maps</h2><h3 id=\"Get-and-Modify-Object-Data\"><a href=\"#Get-and-Modify-Object-Data\" class=\"headerlink\" title=\"Get and Modify Object Data\"></a>Get and Modify Object Data</h3><pre><code class=\"js\">const color = &#39;black&#39;\nconst hexCode = &#39;000&#39;\n\n//squat notation [] dynamically change object pair values\nconst colors = {\n  [color]: hexCode,\n}\n\ndelete colors[&#39;blue&#39;]\nconsole.log(colors)</code></pre>\n<h3 id=\"Object-Destructing\"><a href=\"#Object-Destructing\" class=\"headerlink\" title=\"Object Destructing\"></a>Object Destructing</h3><pre><code class=\"js\">const user = {\n  name: &#39;Yang&#39;,\n  username: &#39;yang052513&#39;,\n  email: &#39;liyang0525@hotmail.com&#39;,\n  details: {\n    title: &#39;Web developer&#39;,\n  },\n  getBio() {\n    console.log(`User ${this.name} is a ${this.details.title}`)\n  },\n\n  askToFriend() {\n    //嵌套函数用arrow function解决this binding问题\n    setTimeout(() =&gt; {\n      console.log(`Would you like to friend ${this.name}`)\n    }, 2000)\n  },\n}\n\nuser.getBio()</code></pre>\n<h3 id=\"Map-1\"><a href=\"#Map-1\" class=\"headerlink\" title=\"Map\"></a>Map</h3><pre><code class=\"js\">const user1 = &#39;Yang&#39;\nconst key1 = &#39;1&#39;\n\n//创建一个新的map并插入用户1的key和value\nconst userMap = new Map([[key1, user1]])\n\n//插入key为2 value为nathan到userMap\nuserMap.set(&#39;2&#39;, &#39;Nathan&#39;)\n\n//循环userMap并打印每个数据\nconst display = (values) =&gt; document.writeln(values + &#39;&lt;br&gt;&#39;)\nuserMap.forEach(display)\n\n//取得用户key为1的value\nconst key = userMap.get(&#39;1&#39;)\nconsole.log(key)\n\n//userMap大小\nconsole.log(userMap.size)</code></pre>\n<h2 id=\"Arrays-amp-Sets\"><a href=\"#Arrays-amp-Sets\" class=\"headerlink\" title=\"Arrays &amp; Sets\"></a>Arrays &amp; Sets</h2><h3 id=\"Element-Existence-some-amp-every\"><a href=\"#Element-Existence-some-amp-every\" class=\"headerlink\" title=\"Element Existence .some() &amp; .every()\"></a>Element Existence .some() &amp; .every()</h3><pre><code class=\"js\">const array = [\n  {\n    name: &#39;Attack on titan&#39;,\n    rating: 9.8,\n    episode: 24,\n  },\n  {\n    name: &#39;Fate stay night&#39;,\n    rating: 4.8,\n    episode: 13,\n  },\n  {\n    name: &#39;Haikyuu&#39;,\n    rating: 10.0,\n    episode: 24,\n  },\n]\n\n//测试是否至少有一个元素的rating小于5\nconst ratingTest = (item) =&gt; item.rating &lt; 5\nconst episodeTest = (item) =&gt; item.episode &gt; 12\nconsole.log(`至少有一部动画评分小于5分: ${array.some(ratingTest)}`)\nconsole.log(`每部动画集数大于12: ${array.every(episodeTest)}`)</code></pre>\n<h3 id=\"Perform-Actions-on-All-Elements-map-amp-forEach-Method\"><a href=\"#Perform-Actions-on-All-Elements-map-amp-forEach-Method\" class=\"headerlink\" title=\"Perform Actions on All Elements: .map() &amp; forEach() Method\"></a>Perform Actions on All Elements: .map() &amp; forEach() Method</h3><pre><code class=\"js\">const animations = [\n  { name: &#39;attack on titan&#39;, episode: 12, rating: 6.8 },\n  { name: &#39;fate stay night&#39;, episode: 13, rating: 7.2 },\n  { name: &#39;haikyuu&#39;, episode: 12, rating: 4.5 },\n  { name: &#39;clannad&#39;, episode: 24, rating: 3.2 },\n  { name: &#39;Bokuno name&#39;, episode: 8, rating: 9.8 },\n]\n\n//重构一个新的array newAnimations\nconst newAnimations = animations.map((animes) =&gt;\n  //对animations里的每一个对象执行一下\n  //如果rating大于8 在原object的基础上merge isHighRank\n  //其他保持不变\n  animes.rating &gt; 8 ? { ...animes, isHighRank: true } : animes\n)\n\n//循环newAnimations里的每一个对象\nnewAnimations.forEach((animes) =&gt; {\n  animes.isHighRank\n    ? console.log(`${animes.name} is recommended by other users`)\n    : null\n})\nconsole.log(newAnimations)</code></pre>\n<h3 id=\"Subsets-of-Arrays-filter-amp-find\"><a href=\"#Subsets-of-Arrays-filter-amp-find\" class=\"headerlink\" title=\"Subsets of Arrays .filter() &amp; .find()\"></a>Subsets of Arrays .filter() &amp; .find()</h3><p><code>.filter</code>: 返回匹配条件的新数组</p>\n<pre><code class=\"js\">const animations = [\n  { name: &#39;attack on titan&#39;, episode: 12, rating: 6.8 },\n  { name: &#39;fate stay night&#39;, episode: 13, rating: 7.2 },\n  { name: &#39;haikyuu&#39;, episode: 12, rating: 4.5 },\n  { name: &#39;aksa&#39;, episode: 24, rating: 3.2 },\n  { name: &#39;air&#39;, episode: 8, rating: 9.8 },\n]\n\n//如果没有匹配结果 返回空数组\nconst animationA = animations.filter(\n  (animes) =&gt; animes.name.toLowerCase().startsWith(&#39;a&#39;) &amp;&amp; animes.rating &gt; 7\n)\nconsole.log(animationA)</code></pre>\n<p><code>.find()</code>: 返回匹配条件的<strong>第一个元素/对象</strong></p>\n<pre><code class=\"js\">const animations = [\n  { name: &#39;haikyuu to top&#39;, episode: 12, rating: 6.8 },\n  { name: &#39;haikyuu2&#39;, episode: 13, rating: 9.2 },\n  { name: &#39;haikyuu&#39;, episode: 12, rating: 4.5 },\n]\n\nconst animationSearch = animations.find(\n  (anime) =&gt; anime.name.toLowerCase().includes(&#39;haikyuu&#39;) &amp;&amp; anime.rating &gt; 9\n)\n\nconsole.log(animationSearch)</code></pre>\n<h3 id=\"Transform-Arrays-reduce\"><a href=\"#Transform-Arrays-reduce\" class=\"headerlink\" title=\"Transform Arrays .reduce()\"></a>Transform Arrays .reduce()</h3><h4 id=\"Accumulator-Array\"><a href=\"#Accumulator-Array\" class=\"headerlink\" title=\"Accumulator Array\"></a>Accumulator Array</h4><pre><code class=\"js\">const cart = [\n  { item: &#39;Squat Stand 2.0&#39;, price: 460.89 },\n  { item: &#39;Falt Utility Bench&#39;, price: 230 },\n  { item: &#39;Ohio Power Bar&#39;, price: 385.23 },\n]\n\n//cart数组中的每个值累加\n//0 as initialize value\nconst cartTotal = cart.reduce((subtotal, cartItem) =&gt; {\n  return subtotal + cartItem.price\n}, 0)\nconsole.log(cartTotal)</code></pre>\n<h4 id=\"Double-Array-Values\"><a href=\"#Double-Array-Values\" class=\"headerlink\" title=\"Double Array Values\"></a>Double Array Values</h4><pre><code class=\"js\">const numbers = [1, 2, 3, 4, 5, 6]\n\nconst doubleNum = numbers.reduce((acc, num) =&gt; {\n  acc.push(num * 2)\n  return acc\n}, [])\n\nconst greaterThree = numbers.reduce((acc, num) =&gt; {\n  if (num &gt; 3) {\n    acc.push(num)\n  }\n  return acc\n}, 0)\n\n//const doubleNum = numbers.map(num =&gt; num * 2)\n//const greaterThree = numbers.filter(num =&gt; num &gt; 3)\n\nconsole.log(doubleNum)\nconsole.log(greaterThree)</code></pre>\n<h3 id=\"Modify-Arry-with-Spread-Operator-…\"><a href=\"#Modify-Arry-with-Spread-Operator-…\" class=\"headerlink\" title=\"Modify Arry with Spread Operator …\"></a>Modify Arry with Spread Operator …</h3><p>Avoid Array Mutation</p>\n<pre><code class=\"js\">const aprilAnimation = [&#39;Haikyuu&#39;, &#39;Attack on Tatin&#39;]\nconst sepAnimation = [&#39;Dango&#39;, &#39;Physico Pass&#39;]\n//clone aprilAnimation into allAnimation\nconst allAnimation = [...aprilAnimation, ...sepAnimation]\n//now use array method will not change aprilAnimation array\nallAnimation.push(&#39;Clannad&#39;)\nconsole.log(allAnimation)</code></pre>\n<h3 id=\"Get-Unique-Sets-of-Data-new-Set\"><a href=\"#Get-Unique-Sets-of-Data-new-Set\" class=\"headerlink\" title=\"Get Unique Sets of Data new Set()\"></a>Get Unique Sets of Data new Set()</h3><pre><code class=\"js\">const animeVote = [\n  &#39;Attack on titan&#39;,\n  &#39;Fate Stay Night&#39;,\n  &#39;Attack on titan&#39;,\n  &#39;Hero&#39;,\n]\n\n//先调用Set method重组新的unqie数组 然后保存到新的数组\nconst uniqueAnimeVote = [...new Set(animeVote)]\nconsole.log(uniqueAnimeVote)</code></pre>\n<h2 id=\"Classes\"><a href=\"#Classes\" class=\"headerlink\" title=\"Classes\"></a>Classes</h2><h3 id=\"Constructor-Function\"><a href=\"#Constructor-Function\" class=\"headerlink\" title=\"Constructor Function\"></a>Constructor Function</h3><pre><code class=\"js\">function Student(id, name, courses = []) {\n  this.id = id\n  this.name = name\n  this.courses = courses\n}\n\n//Student method\nStudent.prototype.addCourse = function (course) {\n  //merge the current student couse array with new courses\n  this.courses = [...this.courses, course]\n}\n\nconst s1 = new Student(3, &#39;Yang&#39;, [&#39;Chinese&#39;, &#39;English&#39;, &#39;Math&#39;, &#39;Computer&#39;])\n\ns1.addCourse(&#39;Powerlifting&#39;)\nconsole.log(s1.courses)</code></pre>\n<h3 id=\"Classes-1\"><a href=\"#Classes-1\" class=\"headerlink\" title=\"Classes\"></a>Classes</h3><pre><code class=\"js\">class Student {\n  constructor(id, name, subjects = []) {\n    this.id = id\n    this.name = name\n    this.subjects = subjects\n  }\n\n  getStdName() {\n    return `Student: ${this.name}`\n  }\n\n  setStdName(name) {\n    this.name = name\n  }\n}\n\nconst s1 = new Student(1, &#39;Yang&#39;, &#39;Math&#39;)\nconsole.log(s1.getStdName())</code></pre>\n<br>\n\n<h3 id=\"Inheritance\"><a href=\"#Inheritance\" class=\"headerlink\" title=\"Inheritance\"></a>Inheritance</h3><pre><code class=\"js\">class Product {\n  constructor(name, price, discountable) {\n    this.name = name\n    this.price = price\n    this.discountable = discountable\n  }\n\n  isDiscountable() {\n    return this.discountable\n  }\n}\n\nclass SaleProduct extends Product {\n  constructor(name, price, discountable, percentOff) {\n    super(name, price, discountable)\n    this.percentOff = percentOff\n  }\n\n  getSalePrice() {\n    if (super.isDiscountable()) {\n      return this.price * ((100 - this.percentOff) / 100)\n    } else {\n      return `${this.name} is not eligible for a discount`\n    }\n  }\n}\n\nconst saleProduct1 = new SaleProduct(&#39;Coffee Maker&#39;, 99, false, 20)\nconsole.log(saleProduct1.getSalePrice())</code></pre>\n<h3 id=\"Binding-method-to-Class\"><a href=\"#Binding-method-to-Class\" class=\"headerlink\" title=\"Binding method to Class\"></a>Binding method to Class</h3><pre><code class=\"js\">const isAuth = true\nconst user = {\n  favorites: [],\n}\n\nclass Product {\n  constructor(name, price) {\n    this.name = name\n    this.price = price\n    //Bind favoriteProduct method to Product class\n    this.favoriteProduct = this.favoriteProduct.bind(this)\n  }\n\n  handleFavoriteProduct = () =&gt; {\n    if (isAuth) {\n      setTimeout(this.favoriteProduct, 1000)\n    } else {\n      console.log(&#39;You must be signed in to favorite products!&#39;)\n    }\n  }\n\n  favoriteProduct = () =&gt; {\n    user.favorites.push(this.name)\n    console.log(`${this.name} favorited!`)\n  }\n}\n\nconst product1 = new Product(&#39;Coaster&#39;, 89.99)\nproduct1.handleFavoriteProduct()</code></pre>"},{"title":"Python 学习笔记","date":"2020-06-09T06:00:02.000Z","comments":0,"_content":"\n> 学习 python 的记录\n\n<!-- more -->\n","source":"_posts/08-python-notes.md","raw":"---\ntitle: Python 学习笔记\ndate: 2020-06-08 23:00:02\ntags: ['python', 'notes']\ncategories: 笔记\ncomments: false\n---\n\n> 学习 python 的记录\n\n<!-- more -->\n","slug":"08-python-notes","published":1,"updated":"2020-06-09T06:01:16.881Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlfa000cqoui9ribhgo0","content":"<blockquote>\n<p>学习 python 的记录</p>\n</blockquote>\n<a id=\"more\"></a>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>学习 python 的记录</p>\n</blockquote>","more":""},{"title":"Sass Cheat Sheet","date":"2020-06-09T05:33:44.000Z","comments":0,"_content":"\n> 继 less 之后用的第二个 CSS preprocessor。主要记录了变量，嵌套，继承，函数以及计算相关的内容。\n\n<!-- more -->\n\n## Variables\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n\nheader button {\n  background-color: $btnPrimaryColor;\n}\n\n.contact button {\n  background-color: $btnPrimaryColor;\n}\n```\n\n## Nested\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Separate files\n\nstyle.scss\n\n```scss\n@import './header';\n@import './variable';\n```\n\nvariable.scss\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n$btnSecondaryColor: rgb(100, 100, 100);\n```\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Mixed-In\n\n```scss\n/* can be placed in other files */\n@mixin flexCenter($direction, $background) {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: $direction;\n  background: $background;\n}\n\nheader {\n  @include flexCenter(column, rgb(100, 240, 222));\n}\n```\n\n## Extends\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\nstyle.scss\n\n```scss\n@import \"./header\";\n\n.contact {\n    @extend header;\n    /* overwrite */\n    background: rgb(0, 0, 255)'\n}\n```\n\n## Calculation\n\n```scss\nheader {\n  text-align: center;\n  p {\n    font-size: 100% - 20%;\n  }\n}\n```\n","source":"_posts/06-sass-cheat-sheet.md","raw":"---\ntitle: Sass Cheat Sheet\ndate: 2020-06-08 22:33:44\ntags: ['Sass', 'css', 'note']\ncomments: false\ncategories: '笔记'\n---\n\n> 继 less 之后用的第二个 CSS preprocessor。主要记录了变量，嵌套，继承，函数以及计算相关的内容。\n\n<!-- more -->\n\n## Variables\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n\nheader button {\n  background-color: $btnPrimaryColor;\n}\n\n.contact button {\n  background-color: $btnPrimaryColor;\n}\n```\n\n## Nested\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Separate files\n\nstyle.scss\n\n```scss\n@import './header';\n@import './variable';\n```\n\nvariable.scss\n\n```scss\n$btnPrimaryColor: rgb(125, 125, 125);\n$btnSecondaryColor: rgb(100, 100, 100);\n```\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\n## Mixed-In\n\n```scss\n/* can be placed in other files */\n@mixin flexCenter($direction, $background) {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: $direction;\n  background: $background;\n}\n\nheader {\n  @include flexCenter(column, rgb(100, 240, 222));\n}\n```\n\n## Extends\n\n\\_header.scss\n\n```scss\nheader {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}\n```\n\nstyle.scss\n\n```scss\n@import \"./header\";\n\n.contact {\n    @extend header;\n    /* overwrite */\n    background: rgb(0, 0, 255)'\n}\n```\n\n## Calculation\n\n```scss\nheader {\n  text-align: center;\n  p {\n    font-size: 100% - 20%;\n  }\n}\n```\n","slug":"06-sass-cheat-sheet","published":1,"updated":"2020-06-09T05:47:10.849Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlfc000gqouiedjp7n0b","content":"<blockquote>\n<p>继 less 之后用的第二个 CSS preprocessor。主要记录了变量，嵌套，继承，函数以及计算相关的内容。</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$btnPrimaryColor</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">125</span>, <span class=\"token number\">125</span>, <span class=\"token number\">125</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token selector\">header button </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$btnPrimaryColor</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.contact button </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$btnPrimaryColor</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Nested\"><a href=\"#Nested\" class=\"headerlink\" title=\"Nested\"></a>Nested</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">button </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\"><span class=\"token parent important\">&amp;</span>:hover </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">14</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Separate-files\"><a href=\"#Separate-files\" class=\"headerlink\" title=\"Separate files\"></a>Separate files</h2><p>style.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token keyword\">@import</span> <span class=\"token string\">'./header'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">@import</span> <span class=\"token string\">'./variable'</span><span class=\"token punctuation\">;</span></code></pre>\n<p>variable.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token property\"><span class=\"token variable\">$btnPrimaryColor</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">125</span>, <span class=\"token number\">125</span>, <span class=\"token number\">125</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$btnSecondaryColor</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span>, <span class=\"token number\">100</span>, <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>_header.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">button </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\"><span class=\"token parent important\">&amp;</span>:hover </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">14</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Mixed-In\"><a href=\"#Mixed-In\" class=\"headerlink\" title=\"Mixed-In\"></a>Mixed-In</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token comment\" spellcheck=\"true\">/* can be placed in other files */</span>\n<span class=\"token keyword\">@mixin</span> <span class=\"token function\">flexCenter</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$direction</span>, <span class=\"token variable\">$background</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$direction</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$background</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">@include</span> <span class=\"token function\">flexCenter</span><span class=\"token punctuation\">(</span>column, <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span>, <span class=\"token number\">240</span>, <span class=\"token number\">222</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Extends\"><a href=\"#Extends\" class=\"headerlink\" title=\"Extends\"></a>Extends</h2><p>_header.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">button </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>px solid black<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\"><span class=\"token parent important\">&amp;</span>:hover </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">14</span>px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>style.scss</p>\n<pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token keyword\">@import</span> <span class=\"token string\">\"./header\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token selector\">.contact </span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">@extend</span> header<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\" spellcheck=\"true\">/* overwrite */</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span>, <span class=\"token number\">0</span>, <span class=\"token number\">255</span><span class=\"token punctuation\">)</span>'\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"Calculation\"><a href=\"#Calculation\" class=\"headerlink\" title=\"Calculation\"></a>Calculation</h2><pre class=\" language-scss\"><code class=\"language-scss\"><span class=\"token selector\">header </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">p </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100%</span> <span class=\"token operator\">-</span> <span class=\"token number\">20%</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>继 less 之后用的第二个 CSS preprocessor。主要记录了变量，嵌套，继承，函数以及计算相关的内容。</p>\n</blockquote>","more":"<h2 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h2><pre><code class=\"scss\">$btnPrimaryColor: rgb(125, 125, 125);\n\nheader button {\n  background-color: $btnPrimaryColor;\n}\n\n.contact button {\n  background-color: $btnPrimaryColor;\n}</code></pre>\n<h2 id=\"Nested\"><a href=\"#Nested\" class=\"headerlink\" title=\"Nested\"></a>Nested</h2><pre><code class=\"scss\">header {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &amp;:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}</code></pre>\n<h2 id=\"Separate-files\"><a href=\"#Separate-files\" class=\"headerlink\" title=\"Separate files\"></a>Separate files</h2><p>style.scss</p>\n<pre><code class=\"scss\">@import &#39;./header&#39;;\n@import &#39;./variable&#39;;</code></pre>\n<p>variable.scss</p>\n<pre><code class=\"scss\">$btnPrimaryColor: rgb(125, 125, 125);\n$btnSecondaryColor: rgb(100, 100, 100);</code></pre>\n<p>_header.scss</p>\n<pre><code class=\"scss\">header {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &amp;:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}</code></pre>\n<h2 id=\"Mixed-In\"><a href=\"#Mixed-In\" class=\"headerlink\" title=\"Mixed-In\"></a>Mixed-In</h2><pre><code class=\"scss\">/* can be placed in other files */\n@mixin flexCenter($direction, $background) {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: $direction;\n  background: $background;\n}\n\nheader {\n  @include flexCenter(column, rgb(100, 240, 222));\n}</code></pre>\n<h2 id=\"Extends\"><a href=\"#Extends\" class=\"headerlink\" title=\"Extends\"></a>Extends</h2><p>_header.scss</p>\n<pre><code class=\"scss\">header {\n  text-align: center;\n  button {\n    border: 1px solid black;\n    &amp;:hover {\n      background: red;\n    }\n  }\n  p {\n    font-size: 14px;\n  }\n}</code></pre>\n<p>style.scss</p>\n<pre><code class=\"scss\">@import &quot;./header&quot;;\n\n.contact {\n    @extend header;\n    /* overwrite */\n    background: rgb(0, 0, 255)&#39;\n}</code></pre>\n<h2 id=\"Calculation\"><a href=\"#Calculation\" class=\"headerlink\" title=\"Calculation\"></a>Calculation</h2><pre><code class=\"scss\">header {\n  text-align: center;\n  p {\n    font-size: 100% - 20%;\n  }\n}</code></pre>"},{"title":"Typescript","date":"2020-06-12T19:42:27.000Z","comments":0,"_content":"\n> Typescript 与 React\n\n<!-- more -->\n\n## Function Components\n\n在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性\n\n如下创建一个 Card 组件\n\n```ts\n//Props可以传递object\ninterface Attribute {\n  hp: number\n  mp: number\n  attack: number\n  info: string\n}\n\n//父级属性\ninterface Props {\n  name: string\n  isRare: boolean\n  toggle: (method: string) => string\n  attribute: Attributes\n}\n\n//用<Props>来声明Props\nexport const Card: React.FC<Props> = ({ name, isRare, toggle, attribute }) => {\n  return (\n    <div>\n      <h3>Card name is {name}</h3>\n      {isRare ? <p>This card is rare</p> : null}\n    </div>\n  )\n}\n```\n\n## useState Hooks\n\n```ts\n//声明的state可以是number也可以是null\nconst [count, setCount] = useState<number | null | undefined>(5)\n\n//在useState中传递props\nconst [count, setCount] = useState<{ name: string }>(name)\n```\n","source":"_posts/09-typescript.md","raw":"---\ntitle: Typescript\ndate: 2020-06-12 12:42:27\ntags: ['react', 'tsx', 'typescript', 'front-end', 'notes']\ncategories: 笔记\ncomments: false\n---\n\n> Typescript 与 React\n\n<!-- more -->\n\n## Function Components\n\n在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性\n\n如下创建一个 Card 组件\n\n```ts\n//Props可以传递object\ninterface Attribute {\n  hp: number\n  mp: number\n  attack: number\n  info: string\n}\n\n//父级属性\ninterface Props {\n  name: string\n  isRare: boolean\n  toggle: (method: string) => string\n  attribute: Attributes\n}\n\n//用<Props>来声明Props\nexport const Card: React.FC<Props> = ({ name, isRare, toggle, attribute }) => {\n  return (\n    <div>\n      <h3>Card name is {name}</h3>\n      {isRare ? <p>This card is rare</p> : null}\n    </div>\n  )\n}\n```\n\n## useState Hooks\n\n```ts\n//声明的state可以是number也可以是null\nconst [count, setCount] = useState<number | null | undefined>(5)\n\n//在useState中传递props\nconst [count, setCount] = useState<{ name: string }>(name)\n```\n","slug":"09-typescript","published":1,"updated":"2020-06-12T20:04:19.209Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlfd000iqouibcp75ova","content":"<blockquote>\n<p>Typescript 与 React</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"Function-Components\"><a href=\"#Function-Components\" class=\"headerlink\" title=\"Function Components\"></a>Function Components</h2><p>在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性</p>\n<p>如下创建一个 Card 组件</p>\n<pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token comment\" spellcheck=\"true\">//Props可以传递object</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Attribute</span> <span class=\"token punctuation\">{</span>\n  hp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span>\n  mp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span>\n  attack<span class=\"token punctuation\">:</span> <span class=\"token keyword\">number</span>\n  info<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//父级属性</span>\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span>\n  isRare<span class=\"token punctuation\">:</span> <span class=\"token keyword\">boolean</span>\n  toggle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>method<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">string</span>\n  attribute<span class=\"token punctuation\">:</span> Attributes\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//用&lt;Props>来声明Props</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Card<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC<span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> isRare<span class=\"token punctuation\">,</span> toggle<span class=\"token punctuation\">,</span> attribute <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h3<span class=\"token operator\">></span>Card name is <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>isRare <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>This card is rare<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"useState-Hooks\"><a href=\"#useState-Hooks\" class=\"headerlink\" title=\"useState Hooks\"></a>useState Hooks</h2><pre class=\" language-ts\"><code class=\"language-ts\"><span class=\"token comment\" spellcheck=\"true\">//声明的state可以是number也可以是null</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span><span class=\"token keyword\">number</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">|</span> undefined<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//在useState中传递props</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span> <span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span></code></pre>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>Typescript 与 React</p>\n</blockquote>","more":"<h2 id=\"Function-Components\"><a href=\"#Function-Components\" class=\"headerlink\" title=\"Function Components\"></a>Function Components</h2><p>在 typescript 中写 function components 以及传递 props。相比在 jsx 中，typescript 可以声明一个接口 Props 然后从接口中传递父级的属性</p>\n<p>如下创建一个 Card 组件</p>\n<pre><code class=\"ts\">//Props可以传递object\ninterface Attribute {\n  hp: number\n  mp: number\n  attack: number\n  info: string\n}\n\n//父级属性\ninterface Props {\n  name: string\n  isRare: boolean\n  toggle: (method: string) =&gt; string\n  attribute: Attributes\n}\n\n//用&lt;Props&gt;来声明Props\nexport const Card: React.FC&lt;Props&gt; = ({ name, isRare, toggle, attribute }) =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;h3&gt;Card name is {name}&lt;/h3&gt;\n      {isRare ? &lt;p&gt;This card is rare&lt;/p&gt; : null}\n    &lt;/div&gt;\n  )\n}</code></pre>\n<h2 id=\"useState-Hooks\"><a href=\"#useState-Hooks\" class=\"headerlink\" title=\"useState Hooks\"></a>useState Hooks</h2><pre><code class=\"ts\">//声明的state可以是number也可以是null\nconst [count, setCount] = useState&lt;number | null | undefined&gt;(5)\n\n//在useState中传递props\nconst [count, setCount] = useState&lt;{ name: string }&gt;(name)</code></pre>"},{"title":"如何创建你的第一个React组件库并发布到npm","date":"2020-06-15T06:51:11.000Z","comments":0,"_content":"\n> 在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库\n\n<!-- more -->\n\n## 安装 npm\n\n首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为`react-current-time`的项目, 然后进入到该项目目录中\n\n```cmd\nmkdir react-current-time\ncd react-current-time\n```\n\n然后我们可以安装建立`package.json`文件到该目录\n\n```cmd\nnpm init -y\n```\n\n之后安装 typescript 依赖到该目录\n\n```cmd\nnpm i typescript -D\n```\n\n接下来安装 typescript 的配置文件\n\n```cmd\nnpx tsc --init\n```\n\n安装 react 依赖\n\n```cmd\nnpm i react @types/react -D\n```\n\n完成以上后我们可以进入文件夹目录配置相关文件\n\n## 配置文件\n\n### tsconfig.json\n\n首先打开目录中的`tsconfig.json`文件，然后更改为以下相关的设置\n\n```json\n{\n  \"compilerOptions\": {\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"lib\"\n  },\n  \"include\": [\"src\"]\n}\n```\n\n更改完`tsconfig.json`文件后，我们在项目目录创建`src`目录并创建`index.tsx`文件在该目录，这也是我们文件的入点\n\n## 创建组件\n\n接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染\n\n```jsx\nimport React from 'react'\n\ninterface Props {\n    name: string\n    category: string\n    isRare: boolean\n}\n\nexport const Card: React.FC<Props> = ({name, category, isRare}) => {\n    return (\n        <div>\n            <p>Card name: {name}</p>\n            <p>Card category: {category}</p>\n            {isRare ? <p>Rare Card</p> : null}\n        </div>\n    )\n}\n```\n\n## 打包发布到 npm\n\n当我们的组件完成后，我们可以打包我们的项目发布到 npm。\n\n首先打开项目目录内的`package.json`文件，在`scripts`处加入`\"build\": \"tsc -p .\"`\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"tsc -p .\"\n  }\n}\n```\n\n在 terminal 中进入到该项目目录，然后在该目录下输入`npm run build`\n\n```cmd\nnpm run build\n```\n\n输入`npm login`登录 npm\n\n```cmd\nnpm login\nUsername: yang052513\npassword:\n```\n\n最后用命令`npm publish`就可以发布到 npm 上，可以在个人信息的 package 处查看\n\n> 注: 初次发布的版本为`1.0.0`, 可以在项目根目录的`package.json`文件进行更改。更改之后若要发布新的版本必须在`package.json`文件内更改`version`之后才能发布\n\n## 导入和使用\n\n现在我们就可以用我们的自己的组件库啦。下面用一个`react` boiler plate 项目来展示如何导入我们自己的库。\n\n首先在我们新的项目中安装我们建立的 npm 包\n\n```cmd\nnpm install react-card-demo\n```\n\n然后导入组件\n\n```cmd\nimport {Card} from react-card-demo\n```\n\n> 注: 因为我们之前用的`typescript`来创建的组件，所以要加上`{}`。如果是`jsx`, 可以直接`import Card from react-card-demo`\n\n```jsx\nimport React from 'react'\n//导入组件\nimport { Card } from 'react-card-demo`\n\nexport const App: React.FC = () => {\n    return (\n        <div className=\"app=container\">\n              {/* 我们之前给Card组件创建了3个props */}\n            <Card name=\"Fate Stay Night\" category=\"Gal Game\" isRare={false}>\n        </div>\n    )\n}\n```\n","source":"_posts/10-your-first-npm-package.md","raw":"---\ntitle: 如何创建你的第一个React组件库并发布到npm\ndate: 2020-06-14 23:51:11\ntags: ['react', 'typescript', 'notes', 'npm', 'node']\ncategories: Articles\ncomments: false\n---\n\n> 在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库\n\n<!-- more -->\n\n## 安装 npm\n\n首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为`react-current-time`的项目, 然后进入到该项目目录中\n\n```cmd\nmkdir react-current-time\ncd react-current-time\n```\n\n然后我们可以安装建立`package.json`文件到该目录\n\n```cmd\nnpm init -y\n```\n\n之后安装 typescript 依赖到该目录\n\n```cmd\nnpm i typescript -D\n```\n\n接下来安装 typescript 的配置文件\n\n```cmd\nnpx tsc --init\n```\n\n安装 react 依赖\n\n```cmd\nnpm i react @types/react -D\n```\n\n完成以上后我们可以进入文件夹目录配置相关文件\n\n## 配置文件\n\n### tsconfig.json\n\n首先打开目录中的`tsconfig.json`文件，然后更改为以下相关的设置\n\n```json\n{\n  \"compilerOptions\": {\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"lib\"\n  },\n  \"include\": [\"src\"]\n}\n```\n\n更改完`tsconfig.json`文件后，我们在项目目录创建`src`目录并创建`index.tsx`文件在该目录，这也是我们文件的入点\n\n## 创建组件\n\n接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染\n\n```jsx\nimport React from 'react'\n\ninterface Props {\n    name: string\n    category: string\n    isRare: boolean\n}\n\nexport const Card: React.FC<Props> = ({name, category, isRare}) => {\n    return (\n        <div>\n            <p>Card name: {name}</p>\n            <p>Card category: {category}</p>\n            {isRare ? <p>Rare Card</p> : null}\n        </div>\n    )\n}\n```\n\n## 打包发布到 npm\n\n当我们的组件完成后，我们可以打包我们的项目发布到 npm。\n\n首先打开项目目录内的`package.json`文件，在`scripts`处加入`\"build\": \"tsc -p .\"`\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"tsc -p .\"\n  }\n}\n```\n\n在 terminal 中进入到该项目目录，然后在该目录下输入`npm run build`\n\n```cmd\nnpm run build\n```\n\n输入`npm login`登录 npm\n\n```cmd\nnpm login\nUsername: yang052513\npassword:\n```\n\n最后用命令`npm publish`就可以发布到 npm 上，可以在个人信息的 package 处查看\n\n> 注: 初次发布的版本为`1.0.0`, 可以在项目根目录的`package.json`文件进行更改。更改之后若要发布新的版本必须在`package.json`文件内更改`version`之后才能发布\n\n## 导入和使用\n\n现在我们就可以用我们的自己的组件库啦。下面用一个`react` boiler plate 项目来展示如何导入我们自己的库。\n\n首先在我们新的项目中安装我们建立的 npm 包\n\n```cmd\nnpm install react-card-demo\n```\n\n然后导入组件\n\n```cmd\nimport {Card} from react-card-demo\n```\n\n> 注: 因为我们之前用的`typescript`来创建的组件，所以要加上`{}`。如果是`jsx`, 可以直接`import Card from react-card-demo`\n\n```jsx\nimport React from 'react'\n//导入组件\nimport { Card } from 'react-card-demo`\n\nexport const App: React.FC = () => {\n    return (\n        <div className=\"app=container\">\n              {/* 我们之前给Card组件创建了3个props */}\n            <Card name=\"Fate Stay Night\" category=\"Gal Game\" isRare={false}>\n        </div>\n    )\n}\n```\n","slug":"10-your-first-npm-package","published":1,"updated":"2020-06-15T07:43:37.588Z","layout":"post","photos":[],"link":"","_id":"ckbg6zlff000lqoui5mc94mj0","content":"<blockquote>\n<p>在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h2 id=\"安装-npm\"><a href=\"#安装-npm\" class=\"headerlink\" title=\"安装 npm\"></a>安装 npm</h2><p>首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为<code>react-current-time</code>的项目, 然后进入到该项目目录中</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">mkdir react-current-time\ncd react-current-time</code></pre>\n<p>然后我们可以安装建立<code>package.json</code>文件到该目录</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm init -y</code></pre>\n<p>之后安装 typescript 依赖到该目录</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm i typescript -D</code></pre>\n<p>接下来安装 typescript 的配置文件</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npx tsc --init</code></pre>\n<p>安装 react 依赖</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm i react @types/react -D</code></pre>\n<p>完成以上后我们可以进入文件夹目录配置相关文件</p>\n<h2 id=\"配置文件\"><a href=\"#配置文件\" class=\"headerlink\" title=\"配置文件\"></a>配置文件</h2><h3 id=\"tsconfig-json\"><a href=\"#tsconfig-json\" class=\"headerlink\" title=\"tsconfig.json\"></a>tsconfig.json</h3><p>首先打开目录中的<code>tsconfig.json</code>文件，然后更改为以下相关的设置</p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"declaration\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"declarationMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sourceMap\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lib\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>更改完<code>tsconfig.json</code>文件后，我们在项目目录创建<code>src</code>目录并创建<code>index.tsx</code>文件在该目录，这也是我们文件的入点</p>\n<h2 id=\"创建组件\"><a href=\"#创建组件\" class=\"headerlink\" title=\"创建组件\"></a>创建组件</h2><p>接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染</p>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> string\n    category<span class=\"token punctuation\">:</span> string\n    isRare<span class=\"token punctuation\">:</span> boolean\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Card<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Props</span><span class=\"token punctuation\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> isRare<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Card name<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Card category<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token punctuation\">{</span>isRare <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Rare Card<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"打包发布到-npm\"><a href=\"#打包发布到-npm\" class=\"headerlink\" title=\"打包发布到 npm\"></a>打包发布到 npm</h2><p>当我们的组件完成后，我们可以打包我们的项目发布到 npm。</p>\n<p>首先打开项目目录内的<code>package.json</code>文件，在<code>scripts</code>处加入<code>&quot;build&quot;: &quot;tsc -p .&quot;</code></p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc -p .\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>在 terminal 中进入到该项目目录，然后在该目录下输入<code>npm run build</code></p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm run build</code></pre>\n<p>输入<code>npm login</code>登录 npm</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm login\nUsername: yang052513\npassword:</code></pre>\n<p>最后用命令<code>npm publish</code>就可以发布到 npm 上，可以在个人信息的 package 处查看</p>\n<blockquote>\n<p>注: 初次发布的版本为<code>1.0.0</code>, 可以在项目根目录的<code>package.json</code>文件进行更改。更改之后若要发布新的版本必须在<code>package.json</code>文件内更改<code>version</code>之后才能发布</p>\n</blockquote>\n<h2 id=\"导入和使用\"><a href=\"#导入和使用\" class=\"headerlink\" title=\"导入和使用\"></a>导入和使用</h2><p>现在我们就可以用我们的自己的组件库啦。下面用一个<code>react</code> boiler plate 项目来展示如何导入我们自己的库。</p>\n<p>首先在我们新的项目中安装我们建立的 npm 包</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">npm install react-card-demo</code></pre>\n<p>然后导入组件</p>\n<pre class=\" language-cmd\"><code class=\"language-cmd\">import {Card} from react-card-demo</code></pre>\n<blockquote>\n<p>注: 因为我们之前用的<code>typescript</code>来创建的组件，所以要加上<code>{}</code>。如果是<code>jsx</code>, 可以直接<code>import Card from react-card-demo</code></p>\n</blockquote>\n<pre class=\" language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token comment\" spellcheck=\"true\">//导入组件</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Card <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> 'react<span class=\"token operator\">-</span>card<span class=\"token operator\">-</span>demo`\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> App<span class=\"token punctuation\">:</span> React<span class=\"token punctuation\">.</span>FC <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">=</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n              <span class=\"token punctuation\">{</span><span class=\"token comment\" spellcheck=\"true\">/* 我们之前给Card组件创建了3个props */</span><span class=\"token punctuation\">}</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Card</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Fate</span> <span class=\"token attr-name\">Stay</span> <span class=\"token attr-name\">Night\"</span> <span class=\"token attr-name\">category</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Gal</span> <span class=\"token attr-name\">Game\"</span> <span class=\"token attr-name\">isRare</span><span class=\"token script language-javascript\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>在学习 React 开发项目的过程中，很多时候希望能够重复利用之前项目的组件。比如一些常用的 css 和 js 交互特效，又或者是一个反馈面板根据 props 显示状态回馈，可能也只是一个简单样式化的按钮。于是就产生出了自己创建组件然后传到 npm 上来再次利用。本文用 typescript 为例来介绍如何创建你的第一个 npm 库</p>\n</blockquote>","more":"<h2 id=\"安装-npm\"><a href=\"#安装-npm\" class=\"headerlink\" title=\"安装 npm\"></a>安装 npm</h2><p>首先我们创建一个文件夹，命名为我们的项目名。比如如下我们创建一个命名为<code>react-current-time</code>的项目, 然后进入到该项目目录中</p>\n<pre><code class=\"cmd\">mkdir react-current-time\ncd react-current-time</code></pre>\n<p>然后我们可以安装建立<code>package.json</code>文件到该目录</p>\n<pre><code class=\"cmd\">npm init -y</code></pre>\n<p>之后安装 typescript 依赖到该目录</p>\n<pre><code class=\"cmd\">npm i typescript -D</code></pre>\n<p>接下来安装 typescript 的配置文件</p>\n<pre><code class=\"cmd\">npx tsc --init</code></pre>\n<p>安装 react 依赖</p>\n<pre><code class=\"cmd\">npm i react @types/react -D</code></pre>\n<p>完成以上后我们可以进入文件夹目录配置相关文件</p>\n<h2 id=\"配置文件\"><a href=\"#配置文件\" class=\"headerlink\" title=\"配置文件\"></a>配置文件</h2><h3 id=\"tsconfig-json\"><a href=\"#tsconfig-json\" class=\"headerlink\" title=\"tsconfig.json\"></a>tsconfig.json</h3><p>首先打开目录中的<code>tsconfig.json</code>文件，然后更改为以下相关的设置</p>\n<pre><code class=\"json\">{\n  &quot;compilerOptions&quot;: {\n    &quot;jsx&quot;: &quot;react&quot;,\n    &quot;declaration&quot;: true,\n    &quot;declarationMap&quot;: true,\n    &quot;sourceMap&quot;: true,\n    &quot;outDir&quot;: &quot;lib&quot;\n  },\n  &quot;include&quot;: [&quot;src&quot;]\n}</code></pre>\n<p>更改完<code>tsconfig.json</code>文件后，我们在项目目录创建<code>src</code>目录并创建<code>index.tsx</code>文件在该目录，这也是我们文件的入点</p>\n<h2 id=\"创建组件\"><a href=\"#创建组件\" class=\"headerlink\" title=\"创建组件\"></a>创建组件</h2><p>接下来我们就可以像平时一样创建组件。如下我们创建一个卡片的组件接受父级的 props 并渲染</p>\n<pre><code class=\"jsx\">import React from &#39;react&#39;\n\ninterface Props {\n    name: string\n    category: string\n    isRare: boolean\n}\n\nexport const Card: React.FC&lt;Props&gt; = ({name, category, isRare}) =&gt; {\n    return (\n        &lt;div&gt;\n            &lt;p&gt;Card name: {name}&lt;/p&gt;\n            &lt;p&gt;Card category: {category}&lt;/p&gt;\n            {isRare ? &lt;p&gt;Rare Card&lt;/p&gt; : null}\n        &lt;/div&gt;\n    )\n}</code></pre>\n<h2 id=\"打包发布到-npm\"><a href=\"#打包发布到-npm\" class=\"headerlink\" title=\"打包发布到 npm\"></a>打包发布到 npm</h2><p>当我们的组件完成后，我们可以打包我们的项目发布到 npm。</p>\n<p>首先打开项目目录内的<code>package.json</code>文件，在<code>scripts</code>处加入<code>&quot;build&quot;: &quot;tsc -p .&quot;</code></p>\n<pre><code class=\"json\">{\n  &quot;scripts&quot;: {\n    &quot;build&quot;: &quot;tsc -p .&quot;\n  }\n}</code></pre>\n<p>在 terminal 中进入到该项目目录，然后在该目录下输入<code>npm run build</code></p>\n<pre><code class=\"cmd\">npm run build</code></pre>\n<p>输入<code>npm login</code>登录 npm</p>\n<pre><code class=\"cmd\">npm login\nUsername: yang052513\npassword:</code></pre>\n<p>最后用命令<code>npm publish</code>就可以发布到 npm 上，可以在个人信息的 package 处查看</p>\n<blockquote>\n<p>注: 初次发布的版本为<code>1.0.0</code>, 可以在项目根目录的<code>package.json</code>文件进行更改。更改之后若要发布新的版本必须在<code>package.json</code>文件内更改<code>version</code>之后才能发布</p>\n</blockquote>\n<h2 id=\"导入和使用\"><a href=\"#导入和使用\" class=\"headerlink\" title=\"导入和使用\"></a>导入和使用</h2><p>现在我们就可以用我们的自己的组件库啦。下面用一个<code>react</code> boiler plate 项目来展示如何导入我们自己的库。</p>\n<p>首先在我们新的项目中安装我们建立的 npm 包</p>\n<pre><code class=\"cmd\">npm install react-card-demo</code></pre>\n<p>然后导入组件</p>\n<pre><code class=\"cmd\">import {Card} from react-card-demo</code></pre>\n<blockquote>\n<p>注: 因为我们之前用的<code>typescript</code>来创建的组件，所以要加上<code>{}</code>。如果是<code>jsx</code>, 可以直接<code>import Card from react-card-demo</code></p>\n</blockquote>\n<pre><code class=\"jsx\">import React from &#39;react&#39;\n//导入组件\nimport { Card } from &#39;react-card-demo`\n\nexport const App: React.FC = () =&gt; {\n    return (\n        &lt;div className=&quot;app=container&quot;&gt;\n              {/* 我们之前给Card组件创建了3个props */}\n            &lt;Card name=&quot;Fate Stay Night&quot; category=&quot;Gal Game&quot; isRare={false}&gt;\n        &lt;/div&gt;\n    )\n}</code></pre>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckbg6zlf60007qouichi6dz1r","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfb000dqouihbzhd8vq"},{"post_id":"ckbg6zleu0000qoui40iffwfm","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfd000hqoui4yjw4gom"},{"post_id":"ckbg6zlf70008qoui25w1bwzo","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfe000jqoui2i33gd6c"},{"post_id":"ckbg6zlf9000bqoui11sffigp","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfg000mqouiclx0bddi"},{"post_id":"ckbg6zlf10002qouihviu3d3b","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfg000nqoui9b2x394f"},{"post_id":"ckbg6zlfa000cqoui9ribhgo0","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfh000qqoui1zgt0spn"},{"post_id":"ckbg6zlfc000gqouiedjp7n0b","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfh000rqoui1jztc72d"},{"post_id":"ckbg6zlf50006qouibsp473b2","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfh000sqoui76f745v7"},{"post_id":"ckbg6zlfd000iqouibcp75ova","category_id":"ckbg6zlf30004qoui0a7d2p7n","_id":"ckbg6zlfi000vqouifbva5lfp"},{"post_id":"ckbg6zlff000lqoui5mc94mj0","category_id":"ckbg6zlfg000oqoui4m158tl7","_id":"ckbg6zlfi000xqouidvbj40my"}],"PostTag":[{"post_id":"ckbg6zleu0000qoui40iffwfm","tag_id":"ckbg6zlf40005qoui7qox9yn8","_id":"ckbg6zlfi000uqouigfqg4psr"},{"post_id":"ckbg6zleu0000qoui40iffwfm","tag_id":"ckbg6zlf8000aqouid2y7etxi","_id":"ckbg6zlfi000wqoui91qxdx2y"},{"post_id":"ckbg6zleu0000qoui40iffwfm","tag_id":"ckbg6zlfc000fqoui1ye48voo","_id":"ckbg6zlfi000zqouih5gadyu6"},{"post_id":"ckbg6zleu0000qoui40iffwfm","tag_id":"ckbg6zlfe000kqouih8dqdh1p","_id":"ckbg6zlfi0010qouibw7j0i81"},{"post_id":"ckbg6zleu0000qoui40iffwfm","tag_id":"ckbg6zlfg000pqoui1ifi8xkw","_id":"ckbg6zlfj0012qoui4atp0q1y"},{"post_id":"ckbg6zlf10002qouihviu3d3b","tag_id":"ckbg6zlfh000tqouig6r8ck87","_id":"ckbg6zlfj0013qouifefpfgky"},{"post_id":"ckbg6zlf10002qouihviu3d3b","tag_id":"ckbg6zlfi000yqoui9ved2rf2","_id":"ckbg6zlfj0015qoui8gnvbzsh"},{"post_id":"ckbg6zlf50006qouibsp473b2","tag_id":"ckbg6zlfh000tqouig6r8ck87","_id":"ckbg6zlfk0017qouica3l4psm"},{"post_id":"ckbg6zlf50006qouibsp473b2","tag_id":"ckbg6zlfj0014qoui01q02h22","_id":"ckbg6zlfk0018qoui0kb09soe"},{"post_id":"ckbg6zlf60007qouichi6dz1r","tag_id":"ckbg6zlfh000tqouig6r8ck87","_id":"ckbg6zlfl001cqoui4wiu9t6o"},{"post_id":"ckbg6zlf60007qouichi6dz1r","tag_id":"ckbg6zlfk0019qouigmfe0pqy","_id":"ckbg6zlfl001dqoui9yedck0x"},{"post_id":"ckbg6zlf60007qouichi6dz1r","tag_id":"ckbg6zlfk001aqouigkx75mwv","_id":"ckbg6zlfl001fqouig979350t"},{"post_id":"ckbg6zlf70008qoui25w1bwzo","tag_id":"ckbg6zlfk0019qouigmfe0pqy","_id":"ckbg6zlfn001kqouidlna8rf5"},{"post_id":"ckbg6zlf70008qoui25w1bwzo","tag_id":"ckbg6zlfl001eqouic8z4a7kv","_id":"ckbg6zlfn001lqoui9uw2502m"},{"post_id":"ckbg6zlf70008qoui25w1bwzo","tag_id":"ckbg6zlfm001gqoui36fo70k3","_id":"ckbg6zlfn001nqouig846hrhx"},{"post_id":"ckbg6zlf70008qoui25w1bwzo","tag_id":"ckbg6zlfm001hqouia3lfgotw","_id":"ckbg6zlfn001oqoui5vqt82kj"},{"post_id":"ckbg6zlf70008qoui25w1bwzo","tag_id":"ckbg6zlfm001iqoui434dd68y","_id":"ckbg6zlfo001qqoui716662h0"},{"post_id":"ckbg6zlf9000bqoui11sffigp","tag_id":"ckbg6zlfh000tqouig6r8ck87","_id":"ckbg6zlfo001rqoui2i986iy6"},{"post_id":"ckbg6zlf9000bqoui11sffigp","tag_id":"ckbg6zlfn001mqoui0i0sb716","_id":"ckbg6zlfo001tqouigeea85pz"},{"post_id":"ckbg6zlfa000cqoui9ribhgo0","tag_id":"ckbg6zlfn001pqoui16one8m2","_id":"ckbg6zlfp001vqoui8ltwh99u"},{"post_id":"ckbg6zlfa000cqoui9ribhgo0","tag_id":"ckbg6zlfm001iqoui434dd68y","_id":"ckbg6zlfp001wqoui6d3ieyob"},{"post_id":"ckbg6zlfc000gqouiedjp7n0b","tag_id":"ckbg6zlfo001uqoui8ace80sa","_id":"ckbg6zlfq0020qoui4c1x14lo"},{"post_id":"ckbg6zlfc000gqouiedjp7n0b","tag_id":"ckbg6zlfp001xqoui4cipdjo6","_id":"ckbg6zlfq0021qoui3i6h3mi3"},{"post_id":"ckbg6zlfc000gqouiedjp7n0b","tag_id":"ckbg6zlfp001yqoui9goz56sv","_id":"ckbg6zlfq0023qouiehl3ehsl"},{"post_id":"ckbg6zlfd000iqouibcp75ova","tag_id":"ckbg6zlfk0019qouigmfe0pqy","_id":"ckbg6zlfs0028qouigz2tccqr"},{"post_id":"ckbg6zlfd000iqouibcp75ova","tag_id":"ckbg6zlfq0022qoui5t0zeagz","_id":"ckbg6zlfs0029qoui8opnb1a0"},{"post_id":"ckbg6zlfd000iqouibcp75ova","tag_id":"ckbg6zlfq0024qoui04lt3rxa","_id":"ckbg6zlfs002bqoui4ojy20k3"},{"post_id":"ckbg6zlfd000iqouibcp75ova","tag_id":"ckbg6zlfm001hqouia3lfgotw","_id":"ckbg6zlfs002cqouifdl98w85"},{"post_id":"ckbg6zlfd000iqouibcp75ova","tag_id":"ckbg6zlfm001iqoui434dd68y","_id":"ckbg6zlft002eqoui7osw3s9o"},{"post_id":"ckbg6zlff000lqoui5mc94mj0","tag_id":"ckbg6zlfk0019qouigmfe0pqy","_id":"ckbg6zlfu002hqoui1j146emd"},{"post_id":"ckbg6zlff000lqoui5mc94mj0","tag_id":"ckbg6zlfq0024qoui04lt3rxa","_id":"ckbg6zlfu002iqouifheo24f4"},{"post_id":"ckbg6zlff000lqoui5mc94mj0","tag_id":"ckbg6zlfm001iqoui434dd68y","_id":"ckbg6zlfu002jqoui8nqshuzu"},{"post_id":"ckbg6zlff000lqoui5mc94mj0","tag_id":"ckbg6zlft002fqoui6mfsemnh","_id":"ckbg6zlfu002kqoui83ldc5ie"},{"post_id":"ckbg6zlff000lqoui5mc94mj0","tag_id":"ckbg6zlft002gqoui0n136o7w","_id":"ckbg6zlfu002lqoui3ba7grdh"}],"Tag":[{"name":"firebase","_id":"ckbg6zlf40005qoui7qox9yn8"},{"name":"database","_id":"ckbg6zlf8000aqouid2y7etxi"},{"name":"web","_id":"ckbg6zlfc000fqoui1ye48voo"},{"name":"firestore","_id":"ckbg6zlfe000kqouih8dqdh1p"},{"name":"cloudstorage","_id":"ckbg6zlfg000pqoui1ifi8xkw"},{"name":"笔记","_id":"ckbg6zlfh000tqouig6r8ck87"},{"name":"git","_id":"ckbg6zlfi000yqoui9ved2rf2"},{"name":"javascript","_id":"ckbg6zlfj0014qoui01q02h22"},{"name":"react","_id":"ckbg6zlfk0019qouigmfe0pqy"},{"name":"react-router","_id":"ckbg6zlfk001aqouigkx75mwv"},{"name":"framework","_id":"ckbg6zlfl001eqouic8z4a7kv"},{"name":"javascirpt","_id":"ckbg6zlfm001gqoui36fo70k3"},{"name":"front-end","_id":"ckbg6zlfm001hqouia3lfgotw"},{"name":"notes","_id":"ckbg6zlfm001iqoui434dd68y"},{"name":"JavaScript","_id":"ckbg6zlfn001mqoui0i0sb716"},{"name":"python","_id":"ckbg6zlfn001pqoui16one8m2"},{"name":"Sass","_id":"ckbg6zlfo001uqoui8ace80sa"},{"name":"css","_id":"ckbg6zlfp001xqoui4cipdjo6"},{"name":"note","_id":"ckbg6zlfp001yqoui9goz56sv"},{"name":"tsx","_id":"ckbg6zlfq0022qoui5t0zeagz"},{"name":"typescript","_id":"ckbg6zlfq0024qoui04lt3rxa"},{"name":"npm","_id":"ckbg6zlft002fqoui6mfsemnh"},{"name":"node","_id":"ckbg6zlft002gqoui0n136o7w"}]}}