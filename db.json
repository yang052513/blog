{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/yun/source/Yun.png","path":"Yun.png","modified":0,"renderable":1},{"_id":"themes/yun/source/yun-favicon.ico","path":"yun-favicon.ico","modified":0,"renderable":1},{"_id":"themes/yun/source/yun.svg","path":"yun.svg","modified":0,"renderable":1},{"_id":"themes/yun/source/css/hexo-theme-yun.styl","path":"css/hexo-theme-yun.styl","modified":0,"renderable":1},{"_id":"themes/yun/source/data/sentences.json","path":"data/sentences.json","modified":0,"renderable":1},{"_id":"themes/yun/source/js/gallery-decrypt.js","path":"js/gallery-decrypt.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/hexo-theme-yun.js","path":"js/hexo-theme-yun.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/pjax.js","path":"js/pjax.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/say.js","path":"js/say.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/sidebar.js","path":"js/sidebar.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/search/algolia-search.js","path":"js/search/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/ui/banner.js","path":"js/ui/banner.js","modified":0,"renderable":1},{"_id":"themes/yun/source/js/ui/fireworks.js","path":"js/ui/fireworks.js","modified":0,"renderable":1},{"_id":"themes/yun/source/kirito.png","path":"kirito.png","modified":0,"renderable":1},{"_id":"themes/yun/source/yang.jpg","path":"yang.jpg","modified":0,"renderable":1},{"_id":"themes/yun/source/yang-favicon.png","path":"yang-favicon.png","modified":0,"renderable":1}],"Cache":[{"_id":"themes/yun/.DS_Store","hash":"9457f542cf2c3f2a50b9ecd64858fc6f50b0d0c4","modified":1590343387037},{"_id":"themes/yun/.gitignore","hash":"bcedd87f98a2406e3b83c449e80a803e28f472d2","modified":1590292382052},{"_id":"themes/yun/LICENSE","hash":"a24ce67b002ff38718c549129d23d177bf951dbf","modified":1590292382052},{"_id":"themes/yun/README.md","hash":"374d1ef70c4ccebaa959285886ba021f9eecf7b8","modified":1590346265662},{"_id":"themes/yun/_config.yml","hash":"e6077734c8d428fd1fad48a93ebe5360547604b8","modified":1590344415391},{"_id":"themes/yun/package.json","hash":"f4cff4a82f3796e58b56ac28edeb3964dcfe1b1a","modified":1590292382070},{"_id":"source/_posts/01 firebase.md","hash":"7bf49b5ec747b0c9d01d5dca08d6cfc26e7666b7","modified":1590346409626},{"_id":"source/about/index.md","hash":"0548ffb1afad99a21d6c06a719c0b1db74a301db","modified":1590296646283},{"_id":"source/about/site.md","hash":"e130bbea25fc27d3c01d07d4f402b5bf57906f78","modified":1590299000783},{"_id":"source/albums/index.md","hash":"4c5c05ddbe7372488bcb4bd73868062f47504eaa","modified":1590297708704},{"_id":"source/categories/index.md","hash":"c35b8e1f585f274df9db96f70b5b2be929319b97","modified":1590296590806},{"_id":"source/girls/index.md","hash":"81bf2b73085ac0f756daed7487a5427f44fc00ad","modified":1590296991841},{"_id":"source/links/index.md","hash":"c5de21ee96369ba58bf671f0f24ca2af798d6a76","modified":1590296874438},{"_id":"themes/yun/docs/README.md","hash":"1509cc59c0dd1ef3314ca3078425a87f20495a63","modified":1590292382055},{"_id":"themes/yun/docs/about.md","hash":"ac2aac768755119a0fda47be0f0cb2d16d0a5b49","modified":1590292382055},{"_id":"themes/yun/docs/demo.md","hash":"b757aaafb3c41f218d08fbe1482f390005a1e374","modified":1590292382055},{"_id":"themes/yun/docs/sponsor.md","hash":"a89d2a70d0b7c6f49c8207c07539f5de465c16b3","modified":1590292382059},{"_id":"themes/yun/languages/default.yml","hash":"e56bebd19d2abd1698e9aa87d337941957977468","modified":1590292382059},{"_id":"themes/yun/languages/en.yml","hash":"734bd23194d32354c2275ac7ed798f741e8c4edc","modified":1590292382060},{"_id":"themes/yun/languages/ja.yml","hash":"8a3a181d032b730132c5ae4320606e36bc373db9","modified":1590292382060},{"_id":"themes/yun/languages/zh-CN.yml","hash":"0d15fcf3d76f15d808d35bf3d4e728eb37ca44b8","modified":1590292382060},{"_id":"themes/yun/layout/404.pug","hash":"04b6e0e9e854028e594e917be3549cd8ec4d3202","modified":1590292382060},{"_id":"themes/yun/layout/archive.pug","hash":"b618b9a196fd74863995be5578a04b5e3d4a759c","modified":1590292382068},{"_id":"themes/yun/layout/category.pug","hash":"e502891bb849691786e3a606eca1c5774ea8809d","modified":1590292382068},{"_id":"themes/yun/layout/gallery.pug","hash":"9dff5b3daaa2f119578a7c5d7072c06d89e7c5a8","modified":1590292382068},{"_id":"themes/yun/layout/girls.pug","hash":"2c2d4d07733b095af38e4d54a937e23b0c664718","modified":1590292382068},{"_id":"themes/yun/layout/index.pug","hash":"7322ea6d9cfb29b1bb13a31bb5f98abcf5d9f409","modified":1590292382069},{"_id":"themes/yun/layout/links.pug","hash":"ccc8229ec62fbb456b328affbe162915ba57ad26","modified":1590292382069},{"_id":"themes/yun/layout/page.pug","hash":"a175a6d4a848f66a0ca9a16c40fa991776ca68e4","modified":1590292382069},{"_id":"themes/yun/layout/post.pug","hash":"33fa1e5637b44f6ed2269d699775d4296770afcd","modified":1590292382069},{"_id":"themes/yun/layout/tag.pug","hash":"a4e28576708173fd3a2752f4b50edbe2dfed7cb4","modified":1590292382069},{"_id":"themes/yun/source/.DS_Store","hash":"32c1151e6c73b7fc8f7caecd96495e7eb0c6b177","modified":1590292907009},{"_id":"themes/yun/source/Yun.png","hash":"b8ae426fa5dd7579d23d189c222641d812c51c0a","modified":1590292382071},{"_id":"themes/yun/source/yun-favicon.ico","hash":"80866f3f79840bd9426a8fee84e3ea19ef20c88b","modified":1590292382081},{"_id":"themes/yun/source/yun.svg","hash":"3e040c5b7b0d11bcf5925277dd01f41a7817e32e","modified":1590292382082},{"_id":"themes/yun/docs/.vuepress/config.js","hash":"dd54a99fd4296cd0379f564c8c2b59f759c870d6","modified":1590292382053},{"_id":"themes/yun/docs/en/README.md","hash":"9336321ea66d386314a1bfb8019f1839c99d4156","modified":1590292382055},{"_id":"themes/yun/docs/en/about.md","hash":"552fd854c563fa24a791130651c22f422aaf06cc","modified":1590292382055},{"_id":"themes/yun/docs/guide/README.md","hash":"6c051102f065ba188a906c72e20dddca47e831c0","modified":1590292382057},{"_id":"themes/yun/docs/guide/Todo.md","hash":"9baefd7a58bf26f9d0ce71ed5e26d1b4a5d02783","modified":1590292382058},{"_id":"themes/yun/docs/guide/additional-package-support.md","hash":"54b6cd36b58cfae56874c31c92e926aa21806487","modified":1590292382058},{"_id":"themes/yun/docs/guide/config.md","hash":"67821fefabe8783cbc12e50507baf278a774a9b3","modified":1590292382058},{"_id":"themes/yun/docs/guide/faq.md","hash":"2541bb6e8d7211608114ccaf23100899bfd3562a","modified":1590292382058},{"_id":"themes/yun/docs/guide/icon.md","hash":"ee2c4abee6a8a5718817c04c8301d0031e35c00e","modified":1590292382058},{"_id":"themes/yun/docs/guide/page.md","hash":"4780a3469df8e174ecec946c60b537ab2fce29b7","modified":1590292382059},{"_id":"themes/yun/docs/guide/third-party-support.md","hash":"050b863e3211313e4d5af1e008e4c4de49e464ba","modified":1590292382059},{"_id":"themes/yun/layout/_mixin/icon.pug","hash":"18ee2c33b4e6ef71c31d7955f9a20789fe6aa9e4","modified":1590292382060},{"_id":"themes/yun/layout/_mixin/index.pug","hash":"3969072910506b21cb09ea2a69f718110c1bb23c","modified":1590292382060},{"_id":"themes/yun/layout/_mixin/page-header.pug","hash":"b72bf2a802d48ca05ff9ffc6dfe92c9701f1cc87","modified":1590292382060},{"_id":"themes/yun/layout/_mixin/post-collapse.pug","hash":"f4437f71f0ccc511e4cfa5de4257fd703f46530b","modified":1590292382061},{"_id":"themes/yun/layout/_partial/background.pug","hash":"f6ad51d92116737d09abdd76c58b7241aa79d784","modified":1590292382061},{"_id":"themes/yun/layout/_partial/banner.pug","hash":"f0e5cb3489a4bb11c2e97e6c7aa50d38846043a8","modified":1590292382061},{"_id":"themes/yun/layout/_partial/footer.pug","hash":"ae84ed01dc0f0419714f8e581e58706da6a92687","modified":1590292382061},{"_id":"themes/yun/layout/_partial/head.pug","hash":"f9f4fac30534d4a23b7d5f2306fd7442a31e227a","modified":1590292382061},{"_id":"themes/yun/layout/_partial/layout.pug","hash":"c3a20c5a3a171ce2def58f5cb9e7429af9ff1117","modified":1590292382061},{"_id":"themes/yun/layout/_partial/pagination.pug","hash":"b55b6a99b105447b4a6c982fa258680a2a9a34a9","modified":1590292382062},{"_id":"themes/yun/layout/_partial/recent-posts.pug","hash":"c5beb934ef1b79e93c34989e0f51bdcd91153ee4","modified":1590292382063},{"_id":"themes/yun/layout/_partial/sidebar.pug","hash":"f365b6dd2842de8b31c4a6ada8ced82f39c91123","modified":1590292382063},{"_id":"themes/yun/layout/_third-party/aplayer.pug","hash":"642445a227e8b702be443958b49901d7c884555f","modified":1590292382064},{"_id":"themes/yun/layout/_third-party/cdn.pug","hash":"174bddf91ed0001036b4045e003d62e9caf4f69d","modified":1590292382064},{"_id":"themes/yun/layout/_third-party/katex.pug","hash":"98339a72defa41540a306d39f58a89b6cb392f2b","modified":1590292382065},{"_id":"themes/yun/layout/_third-party/lightgallery.pug","hash":"5ba1f0cb0ca01cc6b1298b7fda3733bbc80a650e","modified":1590292382066},{"_id":"themes/yun/layout/_third-party/pjax.pug","hash":"b5c0c9cf26933621839ab90a4e754e6406341d09","modified":1590292382066},{"_id":"themes/yun/layout/_widget/aplayer.pug","hash":"c2e6cb220470bad032da103aaf4894510a780704","modified":1590292382066},{"_id":"themes/yun/layout/_widget/back-to-top.pug","hash":"ace7af6f69735441125517aeb9a5257ab7cfaf2b","modified":1590292382066},{"_id":"themes/yun/layout/_widget/cloud.pug","hash":"8903d1311bf5f68dcc23e520cb4f1e4385aff70d","modified":1590292382066},{"_id":"themes/yun/layout/_widget/index.pug","hash":"2888bcec128ce5b72236aa794103089b64240689","modified":1590292382066},{"_id":"themes/yun/layout/_widget/mourn.pug","hash":"2db9d0f23ad20e7f45ee9b4c11a454a0919b36da","modified":1590292382067},{"_id":"themes/yun/layout/_widget/notice.pug","hash":"780a10dbf308022790c58a4d2117dc2f48581531","modified":1590292382067},{"_id":"themes/yun/layout/_widget/say.pug","hash":"fbb919ae36a9b0ce349ed4b305d19d89231c3dd9","modified":1590292382067},{"_id":"themes/yun/layout/_widget/tag-cloud.pug","hash":"ef9ec381b63e937162e5188d255cdc96ceae50f2","modified":1590292382068},{"_id":"themes/yun/scripts/events/config.js","hash":"c52c44c6d00b8fcae05c33293beb5aca7394b5bf","modified":1590292382070},{"_id":"themes/yun/scripts/events/index.js","hash":"79ec4c9c06b12e21359abecf446a04b6005fffb1","modified":1590292382070},{"_id":"themes/yun/scripts/filters/index.js","hash":"79d58b61e227b63bdd0dd894e6cb7fb5830cc120","modified":1590292382070},{"_id":"themes/yun/scripts/helpers/encrypt.js","hash":"6dc249c5845d6440e26772a2efd07713c73df9d0","modified":1590292382071},{"_id":"themes/yun/scripts/helpers/engine.js","hash":"ba145729643bbc4a246599ae5cfd1c2b9bd7704e","modified":1590292382071},{"_id":"themes/yun/scripts/helpers/index.js","hash":"ec96b8f4f0c09cb783e853065dc2346961652a9f","modified":1590292382071},{"_id":"themes/yun/scripts/helpers/yun-config.js","hash":"4b885737be3556a65562eb769790338569e9fda6","modified":1590292382071},{"_id":"themes/yun/source/css/hexo-theme-yun.styl","hash":"032f02cced1acc12615f002b1e91d7e25bbce64b","modified":1590292382080},{"_id":"themes/yun/source/data/sentences.json","hash":"ff602229a56d2416b712e60e46199c85e6d6eaa1","modified":1590295904297},{"_id":"themes/yun/source/js/gallery-decrypt.js","hash":"ca4ef5872c326944645c9af0dec273af3c33f211","modified":1590292382080},{"_id":"themes/yun/source/js/hexo-theme-yun.js","hash":"a7ead628335524a6cd0aee0ce42e3fce76e35b9e","modified":1590292382080},{"_id":"themes/yun/source/js/pjax.js","hash":"f61ac34cc2fb99ed53c4feb9a46500dfbd525e24","modified":1590292382080},{"_id":"themes/yun/source/js/say.js","hash":"fb33bdeb4f54e1437aa8c652c403e6529cad7606","modified":1590292382080},{"_id":"themes/yun/source/js/sidebar.js","hash":"068a893a78b65388c97dd2dc4d38f5acf9601e79","modified":1590292382081},{"_id":"themes/yun/source/js/utils.js","hash":"a1b8a0a1e3dd980a6f56c8dc04edbbe6799f69a6","modified":1590292382081},{"_id":"themes/yun/docs/.vuepress/styles/index.styl","hash":"d9430bfc26fd335984c3dfd9c2acee73bdc7eecf","modified":1590292382054},{"_id":"themes/yun/docs/.vuepress/public/CNAME","hash":"c7ffe7d5488a88dfa38ef3780292c22088d5e8ce","modified":1590292382053},{"_id":"themes/yun/docs/.vuepress/styles/palette.styl","hash":"25a57ac820b471bc91c151347a1c1d0cc62767d6","modified":1590292382054},{"_id":"themes/yun/docs/.vuepress/public/logo.gif","hash":"a2e7143f1f890f58a3c06b8c0acd7a7a3225022f","modified":1590292382054},{"_id":"themes/yun/docs/en/guide/README.md","hash":"b3966cc92f43644ef3ac6ca48b2869ee5b2c9f39","modified":1590292382056},{"_id":"themes/yun/docs/en/guide/Todo.md","hash":"9861c1a45f141d34ffd19a6fd5c898c047236490","modified":1590292382056},{"_id":"themes/yun/docs/.vuepress/public/manifest.json","hash":"471057e459e6aeb525e2dc09922e4182ab89683c","modified":1590292382054},{"_id":"themes/yun/docs/en/guide/config.md","hash":"c725c3d3d67aa7f69b91a0e8dbf7f64d41d1cdbc","modified":1590292382057},{"_id":"themes/yun/docs/en/guide/additional-package-support.md","hash":"cf0d48026355d923fd9290d496bbd4920803b499","modified":1590292382056},{"_id":"themes/yun/docs/en/guide/faq.md","hash":"28498a94bdf23667bf1c01b438f8ff1fcf78b843","modified":1590292382057},{"_id":"themes/yun/docs/en/guide/icon.md","hash":"ddc953feb2f7b2e56273d3c38e934bf2dd02829c","modified":1590292382057},{"_id":"themes/yun/docs/en/guide/page.md","hash":"4fddc1d7c799079c97ba0643ef527ffc5d0dd6bc","modified":1590292382057},{"_id":"themes/yun/docs/en/guide/third-party-support.md","hash":"7703e45494fcbdc45d6703ffe90605710533f67d","modified":1590292382057},{"_id":"themes/yun/layout/_partial/post/post-classify.pug","hash":"a71bbbb6575f6969d33e41898cc28fe34b2592bf","modified":1590292382062},{"_id":"themes/yun/layout/_partial/post/post-copyright.pug","hash":"b01c70d2fe59bc8cbdb82c626fc679663f1104cd","modified":1590292382062},{"_id":"themes/yun/layout/_partial/post/post-edit.pug","hash":"09d21451a8464047777dcbda09c14b1140396dd8","modified":1590292382062},{"_id":"themes/yun/layout/_partial/post/post-meta.pug","hash":"5203249e547c85e7dd5d880b3252fedc1bc3d905","modified":1590292382062},{"_id":"themes/yun/layout/_partial/post/post-nav.pug","hash":"a951544cfa6127f3284e221cdf6c3e2dcb9801c9","modified":1590292382062},{"_id":"themes/yun/layout/_partial/post/post-schema.pug","hash":"ec85079174da20c9f608b142e7fda2c28a9b1dac","modified":1590292382063},{"_id":"themes/yun/layout/_partial/post/reward.pug","hash":"d4b9081fc4b2bf3bc364511cbc2eec5136dcc720","modified":1590292382063},{"_id":"themes/yun/layout/_third-party/adsense/google-adsense.pug","hash":"a0196d8c280bc0335ffa103d4795158d11acb4cc","modified":1590292382063},{"_id":"themes/yun/layout/_third-party/analytics/busuanzi.pug","hash":"d606071c4c4f1e0df9f55fa6c8e248eb2591c484","modified":1590292382063},{"_id":"themes/yun/layout/_third-party/analytics/google-analytics.pug","hash":"035fcbdd572f42f230976354ec52d499f7374ea2","modified":1590292382064},{"_id":"themes/yun/layout/_third-party/comments/disqus.pug","hash":"25a2cbdcab67bd3b1e85177f8e5bcb936156b412","modified":1590292382064},{"_id":"themes/yun/layout/_third-party/comments/disqusjs.pug","hash":"4269d6ae618c9faeff8f5864f9ff2b343da54b36","modified":1590292382064},{"_id":"themes/yun/layout/_third-party/comments/gitalk.pug","hash":"84810c75bdd4cb6688ee4cbca39b862e21113dd6","modified":1590292382065},{"_id":"themes/yun/layout/_third-party/comments/github-issues.pug","hash":"2772d0e44da12c261e695e35f265af05f2cd75dc","modified":1590292382065},{"_id":"themes/yun/layout/_third-party/comments/index.pug","hash":"16710eee1c2498b986f845be965355814f472ee6","modified":1590292382065},{"_id":"themes/yun/layout/_third-party/comments/livere.pug","hash":"b81ed4fb8a0ca32ccfb8e22c37ac48e4be1f4152","modified":1590292382065},{"_id":"themes/yun/layout/_third-party/comments/minivaline.pug","hash":"3a83d2701275a1f8afb55bef2b93a8f3ef0c6f3d","modified":1590292382065},{"_id":"themes/yun/layout/_third-party/comments/valine.pug","hash":"2ae69aa42651e260b7ef88a86850b9b7fbfa5a23","modified":1590292382065},{"_id":"themes/yun/layout/_third-party/seo/baidu-push.pug","hash":"0669b8c7e54c0a80e1f36e720e299cf0cd1182fe","modified":1590292382066},{"_id":"themes/yun/layout/_widget/search/algolia-search.pug","hash":"09a15ab356ebde0f9998fe7e39b2f154dea0543a","modified":1590292382067},{"_id":"themes/yun/layout/_widget/search/index.pug","hash":"05271074172be21c014cd862a25f5112d0b3710c","modified":1590292382067},{"_id":"themes/yun/layout/_widget/search/local-search.pug","hash":"d2ba600623043b2410f379fd7ba3cc75329ff408","modified":1590292382067},{"_id":"themes/yun/source/css/_components/button.styl","hash":"afc6d348f837e87c25f65904d3d2cfa56e332d74","modified":1590292382071},{"_id":"themes/yun/source/css/_components/card.styl","hash":"66426a03826ab37e94a1667497ce7ffa5a0898f7","modified":1590292382072},{"_id":"themes/yun/source/css/_components/menu.styl","hash":"b47933a82045f165fb414d7a40135732fb7a7e73","modified":1590292382072},{"_id":"themes/yun/source/css/_components/scrollbar.styl","hash":"2d735d019b58a1e6fea297e0027c33a4a7bc1858","modified":1590292382073},{"_id":"themes/yun/source/css/_components/ui.styl","hash":"82b8f4ad20baa5b8173b84fd8381cbf89338428b","modified":1590292382075},{"_id":"themes/yun/source/css/_extend/albums.styl","hash":"1e7c7730c89b6d81da37f6565239679b5075234b","modified":1590292382075},{"_id":"themes/yun/source/css/_extend/girls.styl","hash":"ecc51824527df3f5fbeeb96abc44898f5041fac1","modified":1590292382075},{"_id":"themes/yun/source/css/_global/index.styl","hash":"86d224d552b85ad5963a358913c2f41ee9f4b464","modified":1590292382075},{"_id":"themes/yun/source/css/_global/reset.styl","hash":"f253d07739ef1b6b31eed2c205413df51bf13083","modified":1590292382075},{"_id":"themes/yun/source/css/_layout/banner.styl","hash":"dd6630df789d6458db1d4c6540a1e99dbd9bef77","modified":1590292382076},{"_id":"themes/yun/source/css/_layout/footer.styl","hash":"d2637ffc451bc8f2667495a19528f0b7786c361d","modified":1590292382076},{"_id":"themes/yun/source/css/_layout/grid.styl","hash":"3ab663d1bb9dd3639a7adf117e6000a93d093b9e","modified":1590292382076},{"_id":"themes/yun/source/css/_layout/links.styl","hash":"6e6ee87743a1e888dce5682a1168773f6564c875","modified":1590292382076},{"_id":"themes/yun/source/css/_layout/main.styl","hash":"9e88ce9ee2043b72828113c06dd0fcf2ee687611","modified":1590292382076},{"_id":"themes/yun/source/css/_layout/page.styl","hash":"652b2e4417b5ab7f333953e29f1cf53ceca6611f","modified":1590292382076},{"_id":"themes/yun/source/css/_layout/pagination.styl","hash":"ba775b5bd3e6c35118fecceb286d86ae5293e668","modified":1590292382077},{"_id":"themes/yun/source/css/_layout/post.styl","hash":"f442a455618c63e68dfb86847ab4b1b9152b4e09","modified":1590292382077},{"_id":"themes/yun/source/css/_mixins/base.styl","hash":"9a227ede3cd5a9829b31f6450dd37c21e00bdaf1","modified":1590292382077},{"_id":"themes/yun/source/css/_mixins/helper.styl","hash":"80fcaab47d6a1d202745342e3fc3ee5bf18f39b2","modified":1590292382077},{"_id":"themes/yun/source/css/_variables/_base.styl","hash":"d94e4e978e4d9cdb361a906f2f417787ed86f86a","modified":1590292382077},{"_id":"themes/yun/source/css/_variables/_colors.styl","hash":"1f71dd5fc633ed5b4f04392bb0d96bf358ad435c","modified":1590292382078},{"_id":"themes/yun/source/css/_widget/back-to-top.styl","hash":"578a29b673da2ed2a0f1c1cc5ec75d92eea27832","modified":1590292382078},{"_id":"themes/yun/source/css/_widget/comment.styl","hash":"c676f7d03a1a30ef720f8ce10716b25643b60169","modified":1590292382078},{"_id":"themes/yun/source/css/_widget/index.styl","hash":"a740126826a0ae9a1a2860fbb9c8d805d006aad6","modified":1590292382078},{"_id":"themes/yun/source/css/_widget/notice.styl","hash":"1d68860529a4fd8d3f63d2f257ed32b4e0f1167f","modified":1590292382078},{"_id":"themes/yun/source/css/_widget/say.styl","hash":"c8adc03078c1c2dfc94798f07e6351ce80ff073e","modified":1590292382079},{"_id":"themes/yun/source/js/search/algolia-search.js","hash":"c5574f50fdb3410ddac133a3fd90fa20839c9656","modified":1590292382080},{"_id":"themes/yun/source/js/search/local-search.js","hash":"3c06972bfb70a496b2aaeeb6c57878fd226f80b7","modified":1590292382080},{"_id":"themes/yun/source/js/ui/banner.js","hash":"465fec3955f6a2addfa026429c5df062c23859b1","modified":1590292382081},{"_id":"themes/yun/source/js/ui/fireworks.js","hash":"01e7b0fce3891f88b5f274f610e5e3ac50d1ac34","modified":1590292382081},{"_id":"themes/yun/source/css/_components/post/post-card.styl","hash":"a89ab54a76b8a97d3278fe814e53df0f69feb701","modified":1590292382072},{"_id":"themes/yun/source/css/_components/post/post-header.styl","hash":"2e674b76b47b3e6226269fe357d8b937b7a007a8","modified":1590292382072},{"_id":"themes/yun/source/css/_components/post/post-collapse.styl","hash":"b4177dd52f17eb289ebaa2b82d9bc10897a53629","modified":1590292382072},{"_id":"themes/yun/source/css/_components/post/post-markdown.styl","hash":"87655e0cb46a05cb41c8cf2cd5a0ea249661fa9a","modified":1590292382073},{"_id":"themes/yun/source/css/_components/post/post-nav.styl","hash":"4d2a08142a2ea83fae5cff0daa4f2bddf58a7a57","modified":1590292382073},{"_id":"themes/yun/source/css/_components/post/post-reward.styl","hash":"508fe878ef756ebb38bc4930103b03b949df8ee4","modified":1590292382073},{"_id":"themes/yun/source/css/_components/post/post-table.styl","hash":"d46aaf30fec5a49d1cb37d21ee9a3a03fe24aac1","modified":1590292382073},{"_id":"themes/yun/source/css/_components/sidebar/hamburger.styl","hash":"0fa240e8a71fdad14d3fd6b3fd49cf697d4c8153","modified":1590292382074},{"_id":"themes/yun/source/css/_components/sidebar/sidebar-toc.styl","hash":"d2375a50ae3fcb87191d10c13aa893af6ec0ca56","modified":1590292382074},{"_id":"themes/yun/source/css/_components/sidebar/sidebar-nav.styl","hash":"c2879d1e55f335019dc5cbe1cfd1f87634527170","modified":1590292382074},{"_id":"themes/yun/source/css/_components/sidebar/sidebar.styl","hash":"42b719a3efb284ba886c64aa4020301c1146f191","modified":1590292382074},{"_id":"themes/yun/source/css/_components/sidebar/site-overview.styl","hash":"b12da315a1c83a28cd909e7743966206f40aafd1","modified":1590292382074},{"_id":"themes/yun/source/css/_widget/search/algolia-search.styl","hash":"b5fa61394ba0ad35098829651bbe63c1be072c71","modified":1590292382079},{"_id":"themes/yun/source/css/_widget/search/index.styl","hash":"5083390c2c86f8a79cad1a393546fa27a6d55fd5","modified":1590292382079},{"_id":"themes/yun/source/css/_widget/search/local-search.styl","hash":"bcb8e5d593d49e370312e17eadf9f1e13aa22829","modified":1590292382079},{"_id":"themes/yun/source/kirito.png","hash":"b31e47cba5984ffa7fc6257c6f363716dc66efb1","modified":1590292823027},{"_id":"themes/yun/source/yang.jpg","hash":"63aa7525e1697a0fe02204f90e723f55cc931efc","modified":1566964514246},{"_id":"themes/yun/source/yang-favicon.png","hash":"7fa03977f80bb51cb6ea188f011634eeaf4d11e6","modified":1590292931564},{"_id":"public/about/index.html","hash":"d5b1f663b48e8bfb955a003953fe826961a1b2c0","modified":1590346421785},{"_id":"public/about/site.html","hash":"340f036ebc0593fdee85fd53a1a871a84d27842e","modified":1590346421785},{"_id":"public/albums/index.html","hash":"ecb9a00ede90a2b1b281dc586cc0ad42c31271be","modified":1590346421785},{"_id":"public/categories/index.html","hash":"5355ee4579551bed37f8213363973cfac223fc19","modified":1590346421785},{"_id":"public/girls/index.html","hash":"384183801e958dfac4fc1ee7e165a6ff66006291","modified":1590346421785},{"_id":"public/links/index.html","hash":"37f12d2b7aad0a2d7a288e24e2c37c60b350709c","modified":1590346421785},{"_id":"public/archives/index.html","hash":"93e720954b4c89eb6f62970d7cb122844272683b","modified":1590346421785},{"_id":"public/archives/2020/index.html","hash":"8b386cc507ba30aec3e20753045cdd3527200bc5","modified":1590346421785},{"_id":"public/archives/2020/05/index.html","hash":"1d82b2f91849cd411551a4e8c47459e5af8fb6f8","modified":1590346421785},{"_id":"public/index.html","hash":"f3ca7c2ed580589bd3e6e9e0a5411f74a259a06c","modified":1590346421785},{"_id":"public/tags/Firebase/index.html","hash":"1494cb20d1bcdc5bf51052db92d37f8c196e760e","modified":1590346421785},{"_id":"public/tags/Database/index.html","hash":"0e8169ed62ac5734d6a52ef9da1dc6590e9b352b","modified":1590346421785},{"_id":"public/tags/Web-Development/index.html","hash":"7b5468dac694bd605044be4faf79e35e80d34526","modified":1590346421785},{"_id":"public/2020/05/23/01 firebase/index.html","hash":"f08cc44b8fa50c9a8119e7565615a074693aeac7","modified":1590346421785},{"_id":"public/yun.svg","hash":"3e040c5b7b0d11bcf5925277dd01f41a7817e32e","modified":1590346421785},{"_id":"public/Yun.png","hash":"b8ae426fa5dd7579d23d189c222641d812c51c0a","modified":1590346421785},{"_id":"public/css/prism-duotone-dark.css","hash":"b57bbd836e79e5f9728bd8d7574a79f03d24bf6d","modified":1590346421785},{"_id":"public/yun-favicon.ico","hash":"80866f3f79840bd9426a8fee84e3ea19ef20c88b","modified":1590346421785},{"_id":"public/data/sentences.json","hash":"e4c057beac39fab25fd50ccd2f08ddb59cd42eb7","modified":1590346421785},{"_id":"public/js/gallery-decrypt.js","hash":"ca4ef5872c326944645c9af0dec273af3c33f211","modified":1590346421785},{"_id":"public/js/hexo-theme-yun.js","hash":"a7ead628335524a6cd0aee0ce42e3fce76e35b9e","modified":1590346421785},{"_id":"public/js/pjax.js","hash":"f61ac34cc2fb99ed53c4feb9a46500dfbd525e24","modified":1590346421785},{"_id":"public/js/say.js","hash":"fb33bdeb4f54e1437aa8c652c403e6529cad7606","modified":1590346421785},{"_id":"public/js/sidebar.js","hash":"068a893a78b65388c97dd2dc4d38f5acf9601e79","modified":1590346421785},{"_id":"public/js/utils.js","hash":"a1b8a0a1e3dd980a6f56c8dc04edbbe6799f69a6","modified":1590346421785},{"_id":"public/js/search/algolia-search.js","hash":"c5574f50fdb3410ddac133a3fd90fa20839c9656","modified":1590346421785},{"_id":"public/js/search/local-search.js","hash":"3c06972bfb70a496b2aaeeb6c57878fd226f80b7","modified":1590346421785},{"_id":"public/js/ui/banner.js","hash":"465fec3955f6a2addfa026429c5df062c23859b1","modified":1590346421785},{"_id":"public/js/ui/fireworks.js","hash":"3b4e5e029a35f5d58a30a1fd2350e77241720674","modified":1590346421785},{"_id":"public/css/hexo-theme-yun.css","hash":"9796ea0ccee746e41586993ed156f93bb185c74f","modified":1590346421785},{"_id":"public/kirito.png","hash":"b31e47cba5984ffa7fc6257c6f363716dc66efb1","modified":1590346421785},{"_id":"public/yang.jpg","hash":"63aa7525e1697a0fe02204f90e723f55cc931efc","modified":1590346421785},{"_id":"public/yang-favicon.png","hash":"7fa03977f80bb51cb6ea188f011634eeaf4d11e6","modified":1590346421785}],"Category":[],"Data":[],"Page":[{"title":"关于","date":"2020-05-24T05:03:31.000Z","_content":"\n你好啊","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2020-05-23 22:03:31\n---\n\n你好啊","updated":"2020-05-24T05:04:06.283Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckalf75ab00013ii62yc7htoq","content":"<p>你好啊</p>\n","site":{"data":{}},"excerpt":"","more":"<p>你好啊</p>\n"},{"title":"关于博客","date":"2020-05-24T05:03:31.000Z","_content":"\n博客介绍","source":"about/site.md","raw":"---\ntitle: 关于博客\ndate: 2020-05-23 22:03:31\n---\n\n博客介绍","updated":"2020-05-24T05:43:20.783Z","path":"about/site.html","comments":1,"layout":"page","_id":"ckalf75ac00023ii63fb5dadx","content":"<p>博客介绍</p>\n","site":{"data":{}},"excerpt":"","more":"<p>博客介绍</p>\n"},{"title":"albums","date":"2020-05-24T05:21:22.000Z","type":"albums","albums":[{"caption":"夕阳西下","url":"/albums/sunset.html","cover":"https://interactive-examples.mdn.mozilla.net/media/examples/elephant-660-480.jpg","desc":"我想起那天夕阳下的奔跑"}],"_content":"\n\n\n","source":"albums/index.md","raw":"---\ntitle: albums\ndate: 2020-05-23 22:21:22\ntype: albums\nalbums:\n  - caption: 夕阳西下\n    url: /albums/sunset.html\n    cover: https://interactive-examples.mdn.mozilla.net/media/examples/elephant-660-480.jpg\n    desc: 我想起那天夕阳下的奔跑\n---\n\n\n\n","updated":"2020-05-24T05:21:48.704Z","path":"albums/index.html","comments":1,"layout":"page","_id":"ckalf75ae00043ii65s8s2yi7","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2020-05-24T05:02:51.000Z","comments":0,"type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2020-05-23 22:02:51\ncomments: false\ntype: categories\n---\n","updated":"2020-05-24T05:03:10.806Z","path":"categories/index.html","layout":"page","_id":"ckalf75ay000a3ii6disxf5qb","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"girls","title":"可爱的女孩子","banner":"<span title=\"大家都是我的天使！\">排名不分先后</span>","girls":[{"name":"名称","avatar":"头像图片链接","from":"出自什么作品","url":"人物百科链接","reason":"喜欢的理由"}],"_content":"","source":"girls/index.md","raw":"---\nlayout: girls\ntitle: 可爱的女孩子\nbanner: <span title=\"大家都是我的天使！\">排名不分先后</span>\ngirls:\n  - name: 名称\n    avatar: 头像图片链接\n    from: 出自什么作品\n    url: 人物百科链接\n    reason: 喜欢的理由\n---\n","date":"2020-05-24T05:09:51.841Z","updated":"2020-05-24T05:09:51.841Z","path":"girls/index.html","comments":1,"_id":"ckalf75az000b3ii62bgr4uei","content":"","site":{"data":{}},"excerpt":"","more":""},{"layout":"links","title":"我的小伙伴们","date":"2020-05-23T20:06:06.000Z","keywords":"链接","description":"云游的小伙伴们","comments":1,"links":[{"url":"https://yunyoujun.cn","avatar":"https://cdn.jsdelivr.net/gh/YunYouJun/yunyoujun.github.io/images/avatar.jpg","name":"云游君","blog":"云游君的小站","desc":"All at sea.","color":"#0078e7","email":null}],"placeholder":"还没想好说些什么","tip":"友链加载中～如失败请刷新重试～","_content":"","source":"links/index.md","raw":"---\nlayout: links\ntitle: 我的小伙伴们\ndate: 2020-05-23 13:06:06\nkeywords: 链接\ndescription: 云游的小伙伴们\ncomments: true\nlinks:\n  - url: https://yunyoujun.cn\n    avatar: https://cdn.jsdelivr.net/gh/YunYouJun/yunyoujun.github.io/images/avatar.jpg\n    name: 云游君\n    blog: 云游君的小站\n    desc: All at sea.\n    color: \"#0078e7\" # 代表色\n    email: # 非必须\nplaceholder: 还没想好说些什么 # 默认对友链的描述\ntip: 友链加载中～如失败请刷新重试～\n---\n","updated":"2020-05-24T05:07:54.438Z","path":"links/index.html","_id":"ckalf75b0000c3ii6e6fof1uw","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Firebase数据库的那些坑","date":"2020-05-24T01:49:19.000Z","description":"Firebase常用的一些语句。以后来抄也比较方便 (笑)","_content":"\n# Firestore\n\n## 更改文档的信息 Set\n\n`set`每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名\n\n```js\nconst db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user => {\n    db.collection(\"user\")\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})\n```\n\n## 更新文档的信息 Update\n\n如果要更改单个文档内容可以用`update`\n\n```js\ndb.collection(\"user\").doc(user.uid).update({\n    \"Profile\": profile_url,\n    \"Name\": \"Yang\"\n})\n```\n\n## 写入一个文档到用户 .add()\n\n以下代码会写入一个文档(随机生成`uid`)到`Expense`的集合中，\n```js\nlet docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\").add(docData)\n```\n\n> 写入的时候要注意number会自动转化为string, 所以要先改格式`parseInt`再写入到对象里\n\n## 实时读取 onSnapShot\n\n### 单个文档侦查\n`onSnapShot`可以实时侦查并返回数据库文档的内容\n\n```js\ndb.collection(\"user\").doc(user.uid).onSnapShot(snap => {\n    if(snap.data().count > 5) {\n        alert('超过5啦！')\n    }\n})\n```\n\n### 集合实时侦查 change.type\n如果要实时侦查一个集合，需要添加判断条件`change.type`来判断是否文档是新添加的或者修改的。不然会一直循环（雾)\n\n```js\ndb.collection(\"chatRoom\").orderBy(\"Date\", \"desc\").onSnapShot(snap => {\n    snap.docChanges()\n        .forEach(change => {\n            if(change.type == \"added\") {\n                console.log(\"对新添加的文档操作\")   \n            } else if (change.type == \"modified\") {\n                console.log(\"对被修改过的文档操作\")\n            }\n        })\n})\n```\n\n## 读取一个集合中的所有文档 .get()\n\n```js\ndb.collection(\"user\").doc(user.uid).collection(\"Expenses\")\n    .orderBy(\"Date\", \"desc\")\n    .get()\n    .then(query => {\n        query.forEach(doc => {\n            console.log(doc.data().Category)\n        })\n    })\n```\n\n## 删除一个集合中的所有文档\n\n一般用来reset用户数据之类的\n\n```js\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\")\n    .get()\n    .then(querySnapShot => {\n        querySnapShot.forEach(doc => {\n            doc.ref.delete().then(() => {\n                console.log(\"删除成功\")\n            }).catch(error => {\n                console.log(\"错误\", error)\n            })\n        })\n    })\n```\n\n# Cloud Storage\n\nCloud storage可以用于用户上传头像，然后存储在firebase storage分区。\n\n## 上传图片\n```js\n   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(\"#profile-input\").prop(\"files\")[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) => snapshot.ref.getDownloadURL())\n        .then((url) => {\n          console.log(\"用户头像上传成功 链接为: \" + url)\n          firebase.auth().onAuthStateChanged((user) => {\n            db.collection(\"user\").doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }\n```","source":"_posts/01 firebase.md","raw":"---\ntitle: Firebase数据库的那些坑\ndate: 2020-05-23 18:49:19\ntags: [firebase, database, web, firestore, cloudstorage]\ndescription: Firebase常用的一些语句。以后来抄也比较方便 (笑)\n---\n\n# Firestore\n\n## 更改文档的信息 Set\n\n`set`每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名\n\n```js\nconst db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user => {\n    db.collection(\"user\")\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})\n```\n\n## 更新文档的信息 Update\n\n如果要更改单个文档内容可以用`update`\n\n```js\ndb.collection(\"user\").doc(user.uid).update({\n    \"Profile\": profile_url,\n    \"Name\": \"Yang\"\n})\n```\n\n## 写入一个文档到用户 .add()\n\n以下代码会写入一个文档(随机生成`uid`)到`Expense`的集合中，\n```js\nlet docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\").add(docData)\n```\n\n> 写入的时候要注意number会自动转化为string, 所以要先改格式`parseInt`再写入到对象里\n\n## 实时读取 onSnapShot\n\n### 单个文档侦查\n`onSnapShot`可以实时侦查并返回数据库文档的内容\n\n```js\ndb.collection(\"user\").doc(user.uid).onSnapShot(snap => {\n    if(snap.data().count > 5) {\n        alert('超过5啦！')\n    }\n})\n```\n\n### 集合实时侦查 change.type\n如果要实时侦查一个集合，需要添加判断条件`change.type`来判断是否文档是新添加的或者修改的。不然会一直循环（雾)\n\n```js\ndb.collection(\"chatRoom\").orderBy(\"Date\", \"desc\").onSnapShot(snap => {\n    snap.docChanges()\n        .forEach(change => {\n            if(change.type == \"added\") {\n                console.log(\"对新添加的文档操作\")   \n            } else if (change.type == \"modified\") {\n                console.log(\"对被修改过的文档操作\")\n            }\n        })\n})\n```\n\n## 读取一个集合中的所有文档 .get()\n\n```js\ndb.collection(\"user\").doc(user.uid).collection(\"Expenses\")\n    .orderBy(\"Date\", \"desc\")\n    .get()\n    .then(query => {\n        query.forEach(doc => {\n            console.log(doc.data().Category)\n        })\n    })\n```\n\n## 删除一个集合中的所有文档\n\n一般用来reset用户数据之类的\n\n```js\ndb.collection(\"user\").doc(user.uid).collection(\"Expense\")\n    .get()\n    .then(querySnapShot => {\n        querySnapShot.forEach(doc => {\n            doc.ref.delete().then(() => {\n                console.log(\"删除成功\")\n            }).catch(error => {\n                console.log(\"错误\", error)\n            })\n        })\n    })\n```\n\n# Cloud Storage\n\nCloud storage可以用于用户上传头像，然后存储在firebase storage分区。\n\n## 上传图片\n```js\n   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(\"#profile-input\").prop(\"files\")[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) => snapshot.ref.getDownloadURL())\n        .then((url) => {\n          console.log(\"用户头像上传成功 链接为: \" + url)\n          firebase.auth().onAuthStateChanged((user) => {\n            db.collection(\"user\").doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }\n```","slug":"01 firebase","published":1,"updated":"2020-05-24T19:47:08.210Z","_id":"ckalf75a700003ii63fe65orb","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"Firestore\"><a href=\"#Firestore\" class=\"headerlink\" title=\"Firestore\"></a>Firestore</h1><h2 id=\"更改文档的信息-Set\"><a href=\"#更改文档的信息-Set\" class=\"headerlink\" title=\"更改文档的信息 Set\"></a>更改文档的信息 Set</h2><p><code>set</code>每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">firestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nfirebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span>user <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token comment\" spellcheck=\"true\">//设置用户名和邮箱为注册时的内容</span>\n            name<span class=\"token punctuation\">:</span> user<span class=\"token punctuation\">.</span>displayName<span class=\"token punctuation\">,</span>\n            email<span class=\"token punctuation\">:</span> user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n            merge<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"更新文档的信息-Update\"><a href=\"#更新文档的信息-Update\" class=\"headerlink\" title=\"更新文档的信息 Update\"></a>更新文档的信息 Update</h2><p>如果要更改单个文档内容可以用<code>update</code></p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Profile\"</span><span class=\"token punctuation\">:</span> profile_url<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Yang\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"写入一个文档到用户-add\"><a href=\"#写入一个文档到用户-add\" class=\"headerlink\" title=\"写入一个文档到用户 .add()\"></a>写入一个文档到用户 .add()</h2><p>以下代码会写入一个文档(随机生成<code>uid</code>)到<code>Expense</code>的集合中，</p>\n<pre class=\" language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> docData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    Category<span class=\"token punctuation\">:</span> category\n    Value<span class=\"token punctuation\">:</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Date<span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">,</span>\n    Description<span class=\"token punctuation\">:</span> note\n<span class=\"token punctuation\">}</span>\n\ndb<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Expense\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>docData<span class=\"token punctuation\">)</span></code></pre>\n<blockquote>\n<p>写入的时候要注意number会自动转化为string, 所以要先改格式<code>parseInt</code>再写入到对象里</p>\n</blockquote>\n<h2 id=\"实时读取-onSnapShot\"><a href=\"#实时读取-onSnapShot\" class=\"headerlink\" title=\"实时读取 onSnapShot\"></a>实时读取 onSnapShot</h2><h3 id=\"单个文档侦查\"><a href=\"#单个文档侦查\" class=\"headerlink\" title=\"单个文档侦查\"></a>单个文档侦查</h3><p><code>onSnapShot</code>可以实时侦查并返回数据库文档的内容</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onSnapShot</span><span class=\"token punctuation\">(</span>snap <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>snap<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>count <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'超过5啦！'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"集合实时侦查-change-type\"><a href=\"#集合实时侦查-change-type\" class=\"headerlink\" title=\"集合实时侦查 change.type\"></a>集合实时侦查 change.type</h3><p>如果要实时侦查一个集合，需要添加判断条件<code>change.type</code>来判断是否文档是新添加的或者修改的。不然会一直循环（雾)</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"chatRoom\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Date\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"desc\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onSnapShot</span><span class=\"token punctuation\">(</span>snap <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    snap<span class=\"token punctuation\">.</span><span class=\"token function\">docChanges</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>change <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">\"added\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"对新添加的文档操作\"</span><span class=\"token punctuation\">)</span>   \n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">\"modified\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"对被修改过的文档操作\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"读取一个集合中的所有文档-get\"><a href=\"#读取一个集合中的所有文档-get\" class=\"headerlink\" title=\"读取一个集合中的所有文档 .get()\"></a>读取一个集合中的所有文档 .get()</h2><pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Expenses\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Date\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"desc\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>query <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        query<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>doc <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>doc<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Category<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"删除一个集合中的所有文档\"><a href=\"#删除一个集合中的所有文档\" class=\"headerlink\" title=\"删除一个集合中的所有文档\"></a>删除一个集合中的所有文档</h2><p>一般用来reset用户数据之类的</p>\n<pre class=\" language-js\"><code class=\"language-js\">db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Expense\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>querySnapShot <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        querySnapShot<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>doc <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            doc<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span><span class=\"token keyword\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"删除成功\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>error <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n                console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"错误\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h1 id=\"Cloud-Storage\"><a href=\"#Cloud-Storage\" class=\"headerlink\" title=\"Cloud Storage\"></a>Cloud Storage</h1><p>Cloud storage可以用于用户上传头像，然后存储在firebase storage分区。</p>\n<h2 id=\"上传图片\"><a href=\"#上传图片\" class=\"headerlink\" title=\"上传图片\"></a>上传图片</h2><pre class=\" language-js\"><code class=\"language-js\">   <span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">firestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> storageRef <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">storage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> file <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#profile-input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prop</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"files\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> metadata <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        contentType<span class=\"token punctuation\">:</span> file<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">let</span> task <span class=\"token operator\">=</span> storageRef<span class=\"token punctuation\">.</span><span class=\"token function\">child</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">,</span> metadata<span class=\"token punctuation\">)</span>\n      task\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>snapshot<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> snapshot<span class=\"token punctuation\">.</span>ref<span class=\"token punctuation\">.</span><span class=\"token function\">getDownloadURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"用户头像上传成功 链接为: \"</span> <span class=\"token operator\">+</span> url<span class=\"token punctuation\">)</span>\n          firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">onAuthStateChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            db<span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">doc</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              Profile<span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n          <span class=\"token function\">setShow</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setError</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Firestore\"><a href=\"#Firestore\" class=\"headerlink\" title=\"Firestore\"></a>Firestore</h1><h2 id=\"更改文档的信息-Set\"><a href=\"#更改文档的信息-Set\" class=\"headerlink\" title=\"更改文档的信息 Set\"></a>更改文档的信息 Set</h2><p><code>set</code>每次都会对文档进行覆盖重新。比如以下代码，每次用户登录都会重写用户名为注册的用户名</p>\n<pre><code class=\"js\">const db = firebase.firestore()\nfirebase.auth().onAuthStateChanged(user =&gt; {\n    db.collection(&quot;user&quot;)\n        .doc(user.uid)\n        .set({\n            //设置用户名和邮箱为注册时的内容\n            name: user.displayName,\n            email: user.email,\n        }), {\n            merge: true,\n        })\n})</code></pre>\n<h2 id=\"更新文档的信息-Update\"><a href=\"#更新文档的信息-Update\" class=\"headerlink\" title=\"更新文档的信息 Update\"></a>更新文档的信息 Update</h2><p>如果要更改单个文档内容可以用<code>update</code></p>\n<pre><code class=\"js\">db.collection(&quot;user&quot;).doc(user.uid).update({\n    &quot;Profile&quot;: profile_url,\n    &quot;Name&quot;: &quot;Yang&quot;\n})</code></pre>\n<h2 id=\"写入一个文档到用户-add\"><a href=\"#写入一个文档到用户-add\" class=\"headerlink\" title=\"写入一个文档到用户 .add()\"></a>写入一个文档到用户 .add()</h2><p>以下代码会写入一个文档(随机生成<code>uid</code>)到<code>Expense</code>的集合中，</p>\n<pre><code class=\"js\">let docData = {\n    Category: category\n    Value: parseFloat(amount).toFixed(2),\n    Date: date,\n    Description: note\n}\n\ndb.collection(&quot;user&quot;).doc(user.uid).collection(&quot;Expense&quot;).add(docData)</code></pre>\n<blockquote>\n<p>写入的时候要注意number会自动转化为string, 所以要先改格式<code>parseInt</code>再写入到对象里</p>\n</blockquote>\n<h2 id=\"实时读取-onSnapShot\"><a href=\"#实时读取-onSnapShot\" class=\"headerlink\" title=\"实时读取 onSnapShot\"></a>实时读取 onSnapShot</h2><h3 id=\"单个文档侦查\"><a href=\"#单个文档侦查\" class=\"headerlink\" title=\"单个文档侦查\"></a>单个文档侦查</h3><p><code>onSnapShot</code>可以实时侦查并返回数据库文档的内容</p>\n<pre><code class=\"js\">db.collection(&quot;user&quot;).doc(user.uid).onSnapShot(snap =&gt; {\n    if(snap.data().count &gt; 5) {\n        alert(&#39;超过5啦！&#39;)\n    }\n})</code></pre>\n<h3 id=\"集合实时侦查-change-type\"><a href=\"#集合实时侦查-change-type\" class=\"headerlink\" title=\"集合实时侦查 change.type\"></a>集合实时侦查 change.type</h3><p>如果要实时侦查一个集合，需要添加判断条件<code>change.type</code>来判断是否文档是新添加的或者修改的。不然会一直循环（雾)</p>\n<pre><code class=\"js\">db.collection(&quot;chatRoom&quot;).orderBy(&quot;Date&quot;, &quot;desc&quot;).onSnapShot(snap =&gt; {\n    snap.docChanges()\n        .forEach(change =&gt; {\n            if(change.type == &quot;added&quot;) {\n                console.log(&quot;对新添加的文档操作&quot;)   \n            } else if (change.type == &quot;modified&quot;) {\n                console.log(&quot;对被修改过的文档操作&quot;)\n            }\n        })\n})</code></pre>\n<h2 id=\"读取一个集合中的所有文档-get\"><a href=\"#读取一个集合中的所有文档-get\" class=\"headerlink\" title=\"读取一个集合中的所有文档 .get()\"></a>读取一个集合中的所有文档 .get()</h2><pre><code class=\"js\">db.collection(&quot;user&quot;).doc(user.uid).collection(&quot;Expenses&quot;)\n    .orderBy(&quot;Date&quot;, &quot;desc&quot;)\n    .get()\n    .then(query =&gt; {\n        query.forEach(doc =&gt; {\n            console.log(doc.data().Category)\n        })\n    })</code></pre>\n<h2 id=\"删除一个集合中的所有文档\"><a href=\"#删除一个集合中的所有文档\" class=\"headerlink\" title=\"删除一个集合中的所有文档\"></a>删除一个集合中的所有文档</h2><p>一般用来reset用户数据之类的</p>\n<pre><code class=\"js\">db.collection(&quot;user&quot;).doc(user.uid).collection(&quot;Expense&quot;)\n    .get()\n    .then(querySnapShot =&gt; {\n        querySnapShot.forEach(doc =&gt; {\n            doc.ref.delete().then(() =&gt; {\n                console.log(&quot;删除成功&quot;)\n            }).catch(error =&gt; {\n                console.log(&quot;错误&quot;, error)\n            })\n        })\n    })</code></pre>\n<h1 id=\"Cloud-Storage\"><a href=\"#Cloud-Storage\" class=\"headerlink\" title=\"Cloud Storage\"></a>Cloud Storage</h1><p>Cloud storage可以用于用户上传头像，然后存储在firebase storage分区。</p>\n<h2 id=\"上传图片\"><a href=\"#上传图片\" class=\"headerlink\" title=\"上传图片\"></a>上传图片</h2><pre><code class=\"js\">   const db = firebase.firestore()\n    const storageRef = firebase.storage().ref()\n    let file = $(&quot;#profile-input&quot;).prop(&quot;files&quot;)[0]\n    if (file) {\n      let metadata = {\n        contentType: file.type,\n      }\n\n      let task = storageRef.child(file.name).put(file, metadata)\n      task\n        .then((snapshot) =&gt; snapshot.ref.getDownloadURL())\n        .then((url) =&gt; {\n          console.log(&quot;用户头像上传成功 链接为: &quot; + url)\n          firebase.auth().onAuthStateChanged((user) =&gt; {\n            db.collection(&quot;user&quot;).doc(user.uid).update({\n              Profile: url,\n            })\n          })\n          setLoading(false)\n          setShow(true)\n        })\n    } else {\n      setLoading(false)\n      setError(true)\n    }\n  }</code></pre>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"ckalf75a700003ii63fe65orb","tag_id":"ckalh3uxc0000a4i65a2icjes","_id":"ckalh3uxk0005a4i67sf01239"},{"post_id":"ckalf75a700003ii63fe65orb","tag_id":"ckalh3uxe0001a4i60if47zc6","_id":"ckalh3uxk0006a4i63xrm54pi"},{"post_id":"ckalf75a700003ii63fe65orb","tag_id":"ckalh3uxg0002a4i6hli9hax9","_id":"ckalh3uxk0007a4i64hzie91l"},{"post_id":"ckalf75a700003ii63fe65orb","tag_id":"ckalh3uxj0003a4i6bi4q1dji","_id":"ckalh3uxl0008a4i6f9e5hy7q"},{"post_id":"ckalf75a700003ii63fe65orb","tag_id":"ckalh3uxj0004a4i63e7s6ivp","_id":"ckalh3uxl0009a4i67ze71kr8"}],"Tag":[{"name":"Firebase","_id":"ckalf75ad00033ii6a93i8mzp"},{"name":"Database","_id":"ckalf75af00053ii64h7c6ava"},{"name":"Web Development","_id":"ckalf75ag00063ii63atxe8kn"},{"name":"firebase","_id":"ckalh3uxc0000a4i65a2icjes"},{"name":"database","_id":"ckalh3uxe0001a4i60if47zc6"},{"name":"web","_id":"ckalh3uxg0002a4i6hli9hax9"},{"name":"firestore","_id":"ckalh3uxj0003a4i6bi4q1dji"},{"name":"cloudstorage","_id":"ckalh3uxj0004a4i63e7s6ivp"}]}}